{"version":3,"sources":["imgs/blockchainicon.png","imgs/chain.svg","imgs/failed.png","imgs/checkmark.png","imgs/timer.png","feathers.js","reactStuff/components/Navbar.js","reactStuff/components/Itemlist.js","reactStuff/components/Home.js","reactStuff/components/About.js","reactStuff/components/MyItemList.js","reactStuff/components/MyPage.js","reactStuff/components/Login.js","reactStuff/components/MessagesTable.js","reactStuff/components/Messages.js","reactStuff/components/utilities/StatusPopover.js","reactStuff/components/TransactionsTable.js","reactStuff/components/MyTransactions.js","reactStuff/components/utilities/ImageUpload.js","reactStuff/components/ListSomething.js","reactStuff/components/modals_etc/DetailModal.js","reactStuff/components/ItemDetail.js","reactStuff/components/ItemEdit.js","reactStuff/components/TransactionDetails.js","reactStuff/components/modals_etc/OverlayMe.js","reactStuff/components/TransactionDetailsTry.js","reactStuff/components/utilities/GetBorrowerAndListerIds.js","reactStuff/components/transactionModules/StageZero.js","reactStuff/components/utilities/TransStatus.js","reactStuff/components/transactionModules/StageOne.js","reactStuff/components/transactionModules/StageTwo.js","reactStuff/components/transactionModules/StageThree.js","reactStuff/components/transactionModules/StageFive.js","reactStuff/components/transactionModules/StageSeven.js","reactStuff/components/transactionModules/StageFour.js","reactStuff/components/transactionModules/StageSix.js","reactStuff/components/transactionModules/UserDrivenRoute.js","reactStuff/components/utilities/GetVisitorUniqueId.js","reactStuff/app.js","index.js"],"names":["module","exports","socket","io","client","feathers","service","configure","socketio","authentication","storage","window","localStorage","NavBar","props","console","log","_handleKeyDown","e","key","handleSubmitw","JSON","stringify","state","searchTerm","handleChangew","bind","handleLogout","logout","preventDefault","target","value","this","setState","id","handleEmptySubmit","location","pathname","emit","type","history","push","sz","crlistings","on","message","Navbar","bg","variant","expand","Brand","as","NavLink","to","Image","src","chain","width","height","className","Toggle","aria-controls","Collapse","Nav","NavDropdown","title","Item","Link","onClick","Form","inline","onSubmit","FormControl","placeholder","onKeyDown","Button","Component","withRouter","Itemlist","FileReader","toTitleCase","str","replace","txt","charAt","toUpperCase","substr","toLowerCase","newTab","items","map","item","hist","detail","handleClick","image","fluid","lendobject","lenddesc","lendprice","cityStateComb","city","uploadService","Home","match","params","que","search","trim","error","incrementVisited","sortTerm","isHidden","zip","handleSubmitSort","refreshListSort","toggleHidden","handleZipChange","handleSubmitZip","checkDbForZip","updateItems","handleCityState","handlePhoto","handleSubmitAll","that","find","query","$limit","$sort","then","res","catch","err","length","newArray","zipcodes","radius","slice","radArray","splice","$in","searchTermTmp","$or","sortTermTmp","sortTerma","data","tmp3","cont","a","tmpImage","tmpCityState","reqdep","listerusername","username","listerid","idfromuser","Promise","all","completed","concat","combinedCityState","goo","lookup","resolve","reject","get","uri","refreshListSearch","tmp2","tmpSearch","firstTimeVisit","Row","Jumbotron","style","backgroundColor","padding","Listings","Col","DropdownButton","Dropdown","Table","striped","bordered","hover","About","document","time","sm","MyItemList","handleButtonDelete","handleButtonEdit","stopPropagation","remove","MyPage","accessTokenMe","authenticate","accessToken","passport","verifyJWT","payload","userId","user","set","_id","Login","showUsername","timesClicked","signupButtonText","showLoginButton","name","ev","email","password","strategy","create","login","xs","lg","onChange","updateField","signup","MessageTable","size","handleButton","Messages","recievedMess","sentMess","handleHideShow","Container","MessagesTable","StatusPopover","OverlayTrigger","trigger","placement","overlay","Popover","Title","Content","TransactionsTable","rl_name","createdat","initialnotes","totalprice","deposit","checkoutdate","checkindate","status","transacts","MyTransactions","idOfItemToEdit","itemsAsRenter","itemsAsBorrower","activeLister","activeBorrower","pastList","createItemsFromDb","contractid","itemidinrentlib","itemFromcrlistings","moment","createdAt","format","options","weekday","year","month","day","Date","toLocaleDateString","finalnotes","renteruserid","borroweruserid","ImageUpload","existingImage","imageAlready","file","imagePreviewUrl","reader","files","onloadend","result","uploadIt","getElementById","readAsDataURL","$imagePreview","showImage","ref","_handleImageChange","React","Listsomething","sho","readerRes","handleShow","handleClose","getBase64","callback","addEventListener","response","alert","Modal","show","onHide","Header","closeButton","Body","Footer","Group","controlId","Label","Control","Text","rows","DetailModal","useState","setShow","ItemDetail","now","twoWeeksFromNow","setDate","getDate","listeruserid","totalPrice","borrowerId","borrowerEmail","priceVisible","startDate","endDate","onSuccessfulTransaction","datesTaken","maxDate","ifVisitorIsLister","itemDeleted","handleChangeStartDate","handleChangeEndDate","getCityState","handleSubmitRent","handleChangeText","figureOutPrice","isStartNotBooked","getEndDates","handleEditDeleteClicks","setTimeout","date","endX","add","toDate","diff","Math","ceil","parse","total","prix","im","renterusername","res1","templisteruserid","cityTemp","newArr","parseInt","isSame","every","index","arr","isBetween","earliestCheckout","forEach","isBefore","cityState","href","ListGroup","selected","selectsStart","filterDate","showTimeSelect","dateFormat","selectsEnd","minDate","ItemEdit","patch","TransactionDetails","transactDetails","showSwitch","listerOrBorrower","getItemDetails","handleRequest","finishCallback","deets","createRef","resetStatus","setStatusTo","rightPanel","GetBorrowerAndListerIds","transId","twoIds","StageZero","failed","STATUS","StageOneLister","tmpDeets","StageOneBorrower","timer","StageTwoBorrower","longOpFirstAddToBlockchain","margin","StageTwoLister","StageThree","StageFiveBorrower","require","handleChangeInput","StageFiveLister","StageSeven","checkmark","axios","BigNumber","UpdateStatusWhenBothStarted","getEthToUsdApi","usdApi","usdToEth","price_usd","getEthToUsdConversion","amountOfUsd","etherAmt","StageFourBorrower","lilpassword","rentingContract","visitorAccount","showBorrMainButtons","payAmtInEther","isBlue","unhashedString","hashedString","webthree","utils","keccak256","toString","startRentalByBorrower","methods","send","toWei","toFixed","gas","from","hash","hashInfo","idoftransact","idbkchain","nextStatus","contractInfo","payAmtUsd","blockicon","disabled","StageFourLister","showPending","unHashedString","startRentalByLister","UpdateStatusWhenBothEnded","StageSixBorrower","closeRentalByBorrower","StageSixLister","closeRentalByLister","myService","UserDrivenRoute","visitorIsEitherListerorBorrower","visIsListerTwo","responseIdFromBlockchain","redir","getTransactDetails","ethereum","web3","enable","Web3","currentProvider","providers","HttpProvider","process","WEB3_PROVIDER","eth","net","getId","networkId","deployedNetwork","chainrenterArtifact","networks","address","Contract","abi","getAccounts","accounts","computedMatch","visitorId","Boolean","idOfTrans","addRentalToBlockchain","idintransacts","rentPriceInEther","depositInEther","tmpDeetsE","events","idFromBlockchainEvent","fromBlock","event","returnValues","info","bkId","iddd","val","rest","component","rightContent","render","propX","TransactionDetailsTry","RedirectWithMessage","GetVisitorUniqueId","App","visited","vs","users","visId","undefined","exact","path","ListSomething","false","ReactDOM"],"mappings":"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","file":"static/js/main.e347bbc2.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/chain.c4addaad.svg\";","module.exports = __webpack_public_path__ + \"static/media/failed.0520dfe3.png\";","module.exports = __webpack_public_path__ + \"static/media/checkmark.991f0d9f.png\";","module.exports = __webpack_public_path__ + \"static/media/timer.966966bf.png\";","import io from 'socket.io-client';\nimport feathers from '@feathersjs/client';\n\nconst socket = io();  //use this for building and AWS\n// const socket = io('http://localhost:3030'); //use this for local dev\n\n//ALSO other dev changes:\n\nconst client = feathers();\n\nconst transacts = client.service('transacts');\n\n\nclient.configure(feathers.socketio(socket));\nclient.configure(feathers.authentication({\n  storage: window.localStorage\n}));\n\n\n// transacts.on('patched', res => {\n//   console.log(\"removeeeeed YYYY\");\n// }).catch(err => {\n//   console.log(\"er3333rere\", err)\n// });\n\n// console.log(\"hiiii from feathers\");\n// socket.on('welcome', function (data) {\n//   // addMessage(data.message);\n//   console.log(\"message asdffrom socket: \",data.message);\n\n//   // Respond with a message including this clients' id sent from the server\n//   socket.emit('i am client', { data: 'foo!', id: data.id });\n// });\n// socket.on('time', function (data) {\n//   // addMessage(data.time);\n//   console.log(\"message asfrom socket timeX: \",data.time);\n\n// });\n// socket.on('error', console.error.bind(console));\n// socket.on('message', console.log.bind(console));\n\n\n\nexport default client;\n","import React, { Component } from 'react';\nimport { Link, NavLink, withRouter } from 'react-router-dom';\n// import { withRouter } from ‘react-router-dom’\nimport client from '../../feathers';\nimport chain from '../../imgs/chain.svg';\nimport { Row, Col, FormControl, Button, Form, Nav, Navbar, NavDropdown, Image } from 'react-bootstrap';\n\n// import 'react-materialize';\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\n\nclass NavBar extends Component {\n    constructor(props) {\n        console.log(\"Asdf\");\n\n        super(props);\n        console.log(\"props\", JSON.stringify(this.props));\n        this.state = {\n            searchTerm: ''\n\n        }\n        this.handleChangew = this.handleChangew.bind(this);\n        this.handleLogout = this.handleLogout.bind(this);\n\n        this.handleSubmitw = this.handleSubmitw.bind(this);\n        console.log(\"Assdfdf\");\n\n    }\n\n    handleLogout() {\n        console.log(\"lgoggin out!!!\");\n        client.logout();\n        console.log(\"loggged out\");\n    }\n\n    _handleKeyDown = (e) => {\n        if (e.key === 'Enter') {\n            this.handleSubmitw(e);\n        }\n    }\n    handleChangew(e) {\n        console.log(\"Asdf333355\");\n        e.preventDefault();\n        // console.log(\"111\",this.props);\n        console.log(\"111\", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        if (e.target.value === '') {\n            console.log(\"trying zero serach\", e.target.value);\n            this.handleEmptySubmit();\n        }\n    }\n    handleSubmitw(e) {\n        console.log(\"props\", this.props);\n        console.log(\"333submiteted\", this.state.searchTerm);\n        console.log(\"loc: \", this.props.location.pathname);\n\n        // this.props.history.push('/');\n\n        if (this.state.searchTerm) {\n            //already at the main listings/search page\n            if (this.props.location.pathname === '/') {\n                console.log(\"emitting\");\n                client.emit('queried', {\n                    type: 'queried',\n                    searchTerm: this.state.searchTerm\n                });\n                //navigate to search page\n            } else {\n                console.log(\"pushing with sz\");\n                this.props.history.push('/', { sz: this.state.searchTerm });\n\n            }\n\n            //clearing state of searchterm might triger empty submit\n            this.setState({\n                searchTerm: ''\n            });\n\n        }\n\n\n        // this.history.pushState(null, 'login');\n        //  console.log(\"22a\",isEmpty);\n\n        e.preventDefault();\n\n        // console.log('aa', this.state.searchTerm);\n\n        // console.log(\"in text\");\n        // client.emit('queried', {\n        //     type: 'queried',\n        //     searchTerm: this.state.searchTerm\n        // });\n\n\n\n    }\n    handleEmptySubmit() {\n        console.log(\"333empty\");\n        client.emit('queried', {\n            type: 'queried',\n            searchTerm: ''\n        });\n\n    }\n    componentDidMount() {\n        const crlistings = client.service('crlistings');\n        const users = client.service('users');\n\n        // socket.on(\"doSearch\", (data) => {\n        //     console.log(\"1118234231111100088\",data);\n        // });\n        crlistings.on('created', message => {\n            console.log(\"created XX\");\n            // this.setState();\n        });\n    }\n    render() {\n        console.log(\"As2111df\");\n\n        return (\n            <Navbar bg=\"primary\" variant=\"dark\" expand=\"lg\">\n                <Navbar.Brand as={NavLink} to=\"/\">\n                    <Image \n                        \n                        src={chain}\n                        width=\"30\"\n                        height=\"30\"\n                        className=\"d-inline-block align-top logooo\"\n                    />\n                    {'ChainRenter'}\n                </Navbar.Brand>\n                <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\n                <Navbar.Collapse id=\"basic-navbar-nav\">\n                    <Nav className=\"mr-auto\">\n                        {/* <Nav.Link as={NavLink} to=\"/\" >Home</Nav.Link> */}\n\n\n                        {/* <Nav.Link as={NavLink} to='/mypage'>My Listings</Nav.Link> */}\n                        <NavDropdown title=\"My ChainRenter\" id=\"basic-nav-dropdown\">\n                            <NavDropdown.Item as={NavLink} to='/mypage'>My Listings</NavDropdown.Item>\n                            <NavDropdown.Item as={NavLink} to='/transactions'>My Transactions</NavDropdown.Item>\n                            <NavDropdown.Item as={NavLink} to='/messages'>My Messages</NavDropdown.Item>\n                            {/* <NavDropdown.Divider />\n                            <NavDropdown.Item href=\"#action/3.4\">Separated link</NavDropdown.Item> */}\n                        </NavDropdown>\n                        <Nav.Link as={NavLink} to='/listsomething' >List Item</Nav.Link>    \n\n                        <Nav.Link as={NavLink} to='/about'>How It Works</Nav.Link>\n                        <Nav.Link as={NavLink} to='/' onClick={this.handleLogout}>Logout</Nav.Link>\n                      \n                    </Nav>\n                    <Form inline onSubmit={this.handleSubmitw}>\n                        {/* <div className=\"input-field c-notes\" > */}\n                        <FormControl type=\"text\" placeholder=\"Search\" className=\"mr-sm-2\" id=\"searchTerm\" onKeyDown={this._handleKeyDown} className=\" white-text\" onChange={this.handleChangew} value={this.state.searchTerm} />\n                        <Button variant=\"primary\" onClick={this.handleSubmitw} >Search</Button>\n                        {/* </div> */}\n                    </Form>\n                </Navbar.Collapse>\n            </Navbar>\n\n            // <nav >\n            //     <div className=\"nav-wrapper  blue darken-2\">\n            //     <NavLink to='/' className=\"brand-logo\" id=\"headz\">ChainRenter</NavLink>\n\n            //         <ul id=\"nav-mobile\" className=\"right hide-on-med-and-down\">\n\n            //             <li>\n            //                 <div className=\"center row\">\n            //                     <div className=\"col s12 \" >\n            //                         <div >\n            //                             <div className=\"input-field col s6 s12 red-text\" >\n            //                                 <i  onClick={this.handleSubmitw} className=\"white-text material-icons prefix\" >search</i>\n            //                                 {/* <form onSubmit={this.handleSubmitw}> */}\n            //                                 <input style={{backgroundColor: \"#4477ff\"}} type=\"text\" name=\"text\" placeholder=\" Search\" id=\"searchTerm\" onKeyDown={this._handleKeyDown} className=\" white-text\" onChange={this.handleChangew} value={this.state.searchTerm} />\n\n            //                                 {/* </form> */}\n            //                             </div>\n            //                         </div>\n            //                     </div>\n            //                 </div>\n            //             </li>\n\n            //             {/* <li><NavLink to=\"/\">Home</NavLink></li> */}\n            //             <li><NavLink to='/listsomething'>List an Item</NavLink></li>\n            //             <li><NavLink to='/mypage'>My Listings</NavLink></li>\n            //             <li><NavLink to='/about'>About</NavLink></li>\n            //             <li><NavLink to='/login'>Login</NavLink></li>\n\n\n            //             {/* <li>\n            //             <form onSubmit={this.handleSubmitw}>\n            //                 <div className=\"input-field c-notes\" >\n            //                     <input id=\"search\" type=\"search\" onChange={this.handleChangew} required/>\n            //                     <label className=\"label-icon\" htmlFor=\"search\"><i className=\"material-icons\">search</i></label>\n            //                     <i className=\"material-icons\">close</i>\n            //                 </div>\n            //             </form></li> */}\n            //         </ul>\n            //     </div>\n            // </nav>\n\n\n        )\n    }\n\n}\n\nexport default withRouter(NavBar);","\nimport React, { Component } from 'react';\n// import { Table } from 'react-bootstrap';\nimport { Link, NavLink } from 'react-router-dom';\nimport zipcodes from 'zipcodes';\nimport { Image } from 'react-bootstrap';\nimport client from '../../feathers';\n\n\nconst uploadService = client.service('uploads');\nconst reader = new FileReader();\n\nconst Itemlist = (props) => {\n    console.log(\"item list\");\n    console.log(\"props? \", props);\n\n    // console.log(\"inside props.items list\",props.items);\n    const handleClick = (item) => {\n        console.log(\"clicked\", item.id);\n        props.hist.push('/item/' + item.id, { detail: item });\n        // props.his.push({\n        //     pathname: '/'+id,\n        //     // search: '?query=abc',\n        //     state: { detail: \"qauck auck\"}\n        //   })\n    };\n\n    const toTitleCase = (str) => {\n        return str.replace(\n            /\\w\\S*/g,\n            function (txt) {\n                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n            }\n        );\n    }\n\n\n\n    // const oo = [{name:'11333aa',email:'111bbb',lendobject:'111ccccc'},{name:'111aaaa22',email:'1111bbb22',lendobject:'ccccc22'}]\n    const newTab = props.items.map((item) => {\n        // console.log(\"name\",item.id);\n\n        return (\n            <tr key={\"row\" + item.id} onClick={() => handleClick(item)}>\n                {/* <td key= {\"lendobject\"+item.id}> <Link to={\"/\"+item.id} key={\"link_lendobject\"+item.id}>{item.lendobject}</Link> </td> */}\n                <td key={\"image\" + item.id} className=\"aCol\"> <Image src={item.image} fluid /></td>\n                <td key={\"lendobject\" + item.id}> {toTitleCase(item.lendobject)}</td>\n\n                <td key={\"lenddesc\" + item.id}> {toTitleCase(item.lenddesc)} </td>\n                <td key={\"lendprice\" + item.id}> ${item.lendprice} per Day</td>\n                <td key={\"location\" + item.id}> {item.cityStateComb.city}, {item.cityStateComb.state}  </td>\n\n            </tr>\n\n\n        )\n\n    });\n    console.log('tab', newTab);\n\n    return (\n        <tbody>\n            <tr key=\"t_head\">\n                <td key=\"himage\" className=\"aCol\"> Image </td>\n                <td key=\"hname\"> Item for Rent  </td>\n                <td key=\"hemail\"> Item Description  </td>\n                <td key=\"hitem\"> Rental Price </td>\n                <td key=\"hloc\"> Location </td>\n            </tr>\n            {newTab}\n        </tbody>\n        // <p>hello</p>\n\n    )\n\n\n}\n\nexport default Itemlist;","import React, {\n    Component\n} from 'react';\nimport Itemlist from './Itemlist';\nimport client from '../../feathers';\n\nimport { Dropdown, DropdownButton, Row, Col, Jumbotron, Container, Button, Table, Form, FormControl } from 'react-bootstrap';\nimport zipcodes from 'zipcodes';\nimport { Link, NavLink, withRouter } from 'react-router-dom';\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\nconst uploadService = client.service('uploads');\nconst reader = new FileReader();\n\nclass Home extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"restarting home\");\n        console.log(\"idddd\", this.props.match.params.que);\n\n        // id: this.props.match.params.id,\n\n        console.log(\"restarting home props\", props);\n        var search = '';\n        if (this.props.match.params.que) {\n            console.log(\"yes search param\", this.props.match.params.que);\n            search = this.props.match.params.que;\n\n\n        }\n        try {\n            if (this.props.location.state.sz) {\n                if (this.props.location.state.sz.trim()) {\n                    search = this.props.location.state.sz.trim();\n\n                    // clear history state so doesn't retain on refresh\n                    this.props.history.replace({\n                        pathname: '/',\n                        state: {}\n                    });\n                }\n            }\n        } catch (error) {\n            console.log(\"err no props.loc no sz err\", error);\n        }\n        this.props.incrementVisited();\n\n        this.state = {\n            items: [], //{ lendobject: '1111aaaa', lenddesc: '111bbb', lendprice: '111ccccc', id: '999'}, { lendobject: '111aaaa22', lenddesc: '1111bbb22', lendprice: 'ccccc22', id: '2312' }\n            sortTerm: 'lendobject',\n            searchTerm: search,\n            isHidden: true,\n            zip: ''\n        }\n        this.handleSubmitSort = this.handleSubmitSort.bind(this);\n        this.refreshListSort = this.refreshListSort.bind(this);\n        this.toggleHidden = this.toggleHidden.bind(this);\n\n        this.handleZipChange = this.handleZipChange.bind(this);\n        this.handleSubmitZip = this.handleSubmitZip.bind(this);\n\n        this.checkDbForZip = this.checkDbForZip.bind(this);\n        this.updateItems = this.updateItems.bind(this);\n        this.handleCityState = this.handleCityState.bind(this);\n        this.handlePhoto = this.handlePhoto.bind(this);\n        this.handleSubmitAll = this.handleSubmitAll.bind(this);\n\n\n\n\n\n    }\n    async handleSubmitAll(e) {\n        console.log(\"ALL submit: \", e);\n        let that = this;\n        await crlistings.find({\n            query: {\n                $limit: 200,\n                $sort: {\n                    [this.state.sortTerm]: 1\n                }\n            }\n        }).then((res) => {\n            this.updateItems(that, res);\n        }).then(() => {\n            console.log('from close zip db  update:');\n            that.setState({\n                isHidden: false\n            });\n        }).catch(err => {\n            console.log(\"error in zip close retieval\", err)\n        })\n        \n\n    }\n\n    handleZipChange(e) {\n        console.log(\"Asdf333355\");\n        e.preventDefault();\n\n        // console.log(\"111\",this.props);\n        console.log(\"111\", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        if (e.target.value === '') {\n            console.log(\"trying zero serach\", e.target.value);\n            // if (e.target.id === '')\n            // this.handleEmptySubmit();\n        }\n    }\n\n\n    handleSubmitZip(e) {\n        console.log(\"zip submit: \", e);\n\n        if (this.state.zip.length === 5 && this.state.zip.match(/^[0-9]+$/) != null) {\n            console.log(\"heres zip\", this.state.zip);\n            let newArray = zipcodes.radius(this.state.zip, 25).slice();\n            console.log(\"zipppps\", newArray);\n            this.checkDbForZip(newArray);\n            this.setState({\n                zip: ''\n            });\n        }\n    }\n\n    async checkDbForZip(radArray) {\n        var that = this;\n        console.log(\"checkdbzip\", JSON.stringify(radArray));\n        let goo = radArray;\n        radArray.splice(-2, 2);\n        await crlistings.find({\n            query: {\n                location: {\n                    $in: radArray\n                },\n                $limit: 200,\n                $sort: {\n                    [this.state.sortTerm]: 1\n                }\n            }\n        }).then((res) => {\n            this.updateItems(that, res);\n        }).then(() => {\n            console.log('from close zip db  update:');\n            that.setState({\n                isHidden: false\n            });\n        }).catch(err => {\n            console.log(\"error in zip close retieval\", err)\n        })\n    }\n\n    toggleHidden() {\n        console.log(\"toggeled\", this.state.isHidden);\n        this.setState({\n            isHidden: !this.state.isHidden\n        });\n        // console.log(\"toggeled psot\",this.state.isHidden);\n\n    }\n    async refreshListSearch(searchTermTmp) {\n        console.log(\"search: \", searchTermTmp);\n        var that = this;\n        console.log(\"sort from search\", this.state.sortTerm);\n\n        await crlistings.find({\n            query: {\n                // lendobject: searchTermTmp,\n                $or: [\n                    { lendobject: searchTermTmp },\n                    { lenddesc: searchTermTmp }\n                ],\n                $limit: 200,\n                $sort: {\n                    [this.state.sortTerm]: 1\n                }\n\n\n            }\n        }).then((res) => {\n            this.updateItems(that, res);\n        }).then(() => {\n            console.log('from search update:');\n            that.setState({\n                isHidden: false\n            });\n        }).catch(err => {\n            console.log(\"error in searhc retieval\", err)\n        })\n\n\n\n\n    }\n    async refreshListSort(sortTermTmp) {\n        var that = this;\n        let sortTerma = this.state.sortTerm;\n        console.log(\"sort term unfucekd: \", sortTerma);\n        if (sortTermTmp.trim()) {\n            console.log(\"yes sort term\", sortTermTmp.trim().length);\n            sortTerma = sortTermTmp;\n            this.setState({\n                sortTerm: sortTerma\n            }, () => { console.log(\"ssort cllabck\", this.state.sortTerm) });\n        }\n\n        console.log(\"sprt term\", sortTerma);\n        await crlistings.find({\n            query: {\n                $limit: 200,\n                $sort: {\n                    [sortTerma]: 1\n                }\n            }\n        }).then((res) => {\n            this.updateItems(that, res);\n\n        }).catch(err => {\n            console.log(\"error in refresh list sort\", err)\n        })\n\n    }\n\n    async updateItems(that, res) {\n\n        let data = res.data;\n        console.log('from await crlistings:', res);\n        let tmp3 = data.map(async (cont) => {\n            // console.log('susername',cont.username);\n            let tmpImage = '';\n            tmpImage = await this.handlePhoto(cont);\n            // .then(res => {\n            //     console.log(\"imgggr\", res);\n            //     tmpImage = res;\n\n            // });\n            // console.log(\"imgggr\",);\n\n            // if (cont.image) {\n            //     await uploadService.get(\"ad418194dae7586f3c33abaeadb9a5076253fdc8bcc279a0aa78590edef342dd.jpeg\") //(item.image)      //\"ad418194dae7586f3c33abaeadb9a5076253fdc8bcc279a0aa78590edef342dd.jpeg\"\n            //         .then((res) => {\n            //             // console.log(\"aaa from upload service\");\n            //             // console.log(\"aaa\", res);\n            //             // console.log(\"immmg\", res.uri);\n            //             tmpImage = res.uri;\n\n\n            //         }).catch(err => {\n            //             console.log(\"errererere\", err);\n            //             var image = '';\n\n            //         });\n            // }\n\n\n            var tmpCityState = this.handleCityState(cont);\n            // console.log(\"tmpcitystate\", tmpCityState);\n            // .then(res=>{\n            //     console.log(\"locccc\",res);\n            //     return \"moo\";\n            // });\n            // console.log(\"loccca\", tmpCityState);\n\n            return { lendobject: cont.lendobject, lenddesc: cont.lenddesc, lendprice: cont.lendprice, id: cont.id, image: tmpImage, location: cont.location, reqdep: cont.reqdep, listerusername: cont.username, listerid: cont.idfromuser, cityStateComb: tmpCityState };\n        });\n        Promise.all(tmp3).then((completed) => {\n            console.log(\"complllllll\", completed);\n            that.setState({\n                items: []\n            });\n            that.setState({\n                items: this.state.items.concat(completed)\n            });\n        });\n\n\n    }\n    handleSubmitSort(e) {\n        console.log(\"333submiteted\", e.target.id);\n\n        e.preventDefault();\n        let sortTerm = e.target.id;\n        // this.refreshListSort(\"lendobject\");\n        sortTerm ? this.refreshListSort(sortTerm) : console.log(\"nope\");;\n\n\n\n    }\n    handleCityState(item) {\n        let location = item.location;\n        // console.log(\"lcoation\", location);\n        var combinedCityState = { city: 'city', state: 'state' }; //placeholder text for missing entries\n        try {\n            if (location) {\n                if (location.length === 5 && location.match(/^[0-9]+$/) != null) {\n                    let goo = zipcodes.lookup(location);\n                    if (goo) {\n                        // console.log(\"goooo\", goo.city);\n                        combinedCityState.city = goo.city;\n                        combinedCityState.state = goo.state;\n                    }\n                }\n            }\n        } catch (error) {\n            console.log(\"erro in zip\", error);\n            combinedCityState = { city: 'bad', state: 'bad' };\n        }\n        return combinedCityState;\n    }\n    async handlePhoto(item) {\n        var image = '';\n\n        return new Promise(async function (resolve, reject) {\n            if (item.image) {\n                await uploadService.get(item.image)      //\"ad418194dae7586f3c33abaeadb9a5076253fdc8bcc279a0aa78590edef342dd.jpeg\"\n                    .then((res) => {\n                        console.log(\"aaa from upload service\");\n                        // console.log(\"aaa\", res);\n                        // console.log(\"immmg\", res.uri);\n                        image = res.uri;\n                        resolve(image);\n\n                    }).catch(err => {\n                        console.log(\"errererere getting image probly too long wrong uri\");\n                        var image = '';\n                        resolve(image);\n                    });\n            }\n            resolve(\"\");\n            console.log(\"hi handle photo\");\n\n\n        });\n        // console.log(\"cms image:\", item.image);\n\n\n\n\n    }\n    componentWillUnmount(){\n\n    }\n\n    async componentDidMount() {\n        console.log(\"i mounted\", this.state);\n\n\n\n        var that = this;\n\n        if (this.state.searchTerm.trim()) {\n            console.log(\"something in searhc\", this.state.searchTerm);\n\n            this.refreshListSearch(this.state.searchTerm);\n        } else {\n            console.log(\"nopthing in searhc\");\n            this.refreshListSort('');\n        }\n\n\n        //reciever for new items created in crlistings databse\n        crlistings.on('created', res => {\n            console.log(\"created YYYY\");\n            let data = res.data;\n            console.log('from await crlistings:', res.lendobject);\n            console.log(\"aaa res:\", res);\n\n            let tmp2 = [{ lendobject: res.lendobject, lenddesc: res.lenddesc, lendprice: res.lendprice, id: res.id }];\n\n            that.setState({\n                items: this.state.items.concat(tmp2)//tmp1\n            });\n        });\n\n        // reciever for query call from navbar serach\n        client.on(\"queried\", (data) => {\n            let tmpSearch = data.searchTerm;\n            console.log(\"got wueried\", tmpSearch);\n            if (tmpSearch.trim()) {\n                console.log(\"something in searhc\");\n\n                this.refreshListSearch(data.searchTerm);\n            } else {\n                console.log(\"nopthing in searhc\");\n                this.refreshListSort('');\n            }\n        });\n\n    }\n    render() {\n        console.log(\"first time: \", this.props.firstTimeVisit);\n\n        return (\n            <div>\n                <div className=\"container center\">\n\n                    <Row>\n\n                    </Row>\n                    <div>\n                        <Jumbotron style={{ backgroundColor: \"#88bbff\", padding: \"2rem\" }} className=\"helv jumb\" >\n                            <h1 >ChainRenter</h1>\n\n                            <h3 >Rent What You Need from Friends and Neighbors</h3>\n                            <h4 >Secure, Easy and Middle Man Free</h4>\n                            <p></p>\n                            <div>\n                                <Form inline onSubmit={this.handleSubmitZip} className=\"formJumbo\">\n                                    <FormControl type=\"text\" placeholder=\"Enter Your Zip\" className=\"mr-md-1\" id=\"zip\" className=\" white-text \" onChange={this.handleZipChange} value={this.state.zip} />\n                                    {/* <Button variant=\"outline-success\" onClick={this.handleSubmitSort} >Search</Button> */}\n                                    <Button variant=\"primary\" onClick={this.handleSubmitZip}>See Nearby Listings</Button>\n                                    <Button variant=\"secondary\" onClick={this.handleSubmitAll}>See All Listings</Button>\n\n                                </Form>\n                            </div>\n\n                        </Jumbotron>\n                    </div>\n\n                    {/* <Row className=\"justify-content-md-center\">\n                     \n                    </Row> */}\n                    {/* <Container id=\"mainCont\" > */}\n\n                    {/* check if listings should be hidden based on toggle and first time visitng */}\n                    {(!this.state.isHidden || !this.props.firstTimeVisit) && <Listings items={this.state.items} hist={this.props.history} handleSubmitSort={this.handleSubmitSort} />}\n                    {/* </Container> */}\n\n                </div>\n            </div>\n\n        )\n    }\n\n}\n// const Example = props => <div className={props.shouldHide}/>Hello</div>\n\nclass Listings extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"whatshshis\", props);\n    }\n    render() {\n        return (\n\n            <div >\n                <Row className=\"justify-content-md-center\">\n                    <Col> </Col>\n                    <Col><h2> Listings</h2></Col>\n                    <Col>    <DropdownButton id=\"dropdown-basic-button\" title=\"Sort\">\n\n                        <Dropdown.Item id=\"createdat\" onClick={this.props.handleSubmitSort}>Time</Dropdown.Item>\n                        <Dropdown.Item id=\"lendobject\" onClick={this.props.handleSubmitSort}>Name</Dropdown.Item>\n                        <Dropdown.Item id=\"lendprice\" onClick={this.props.handleSubmitSort}>Price</Dropdown.Item>\n                    </DropdownButton></Col>\n                </Row>\n\n\n                <div>\n                    {/* <table className=\"highlight centered\"> */}\n                    <Table striped bordered hover >\n\n\n                        <Itemlist items={this.props.items} hist={this.props.hist} />\n\n                    </Table>\n                </div>\n            </div>\n        )\n    }\n}\n// const Listings = (props) => (\n//     <div className='modal'>\n//     <p>asdklfjlaksjdfl</p>\n//         {/* <Row className=\"justify-content-md-center\">\n//             <Col> </Col>\n//             <Col><h2> Listings</h2></Col>\n//             <Col>    <DropdownButton id=\"dropdown-basic-button\" title=\"Sort\">\n\n//                 <Dropdown.Item id=\"createdat\" onClick={props.handleSubmitSort}>Time</Dropdown.Item>\n//                 <Dropdown.Item id=\"lendobject\" onClick={props.handleSubmitSort}>Name</Dropdown.Item>\n//                 <Dropdown.Item id=\"lendprice\" onClick={props.handleSubmitSort}>Price</Dropdown.Item>\n//             </DropdownButton></Col>\n//         </Row>\n\n\n//         <div>\n//             <table className=\"highlight centered\">\n\n\n//                 <Itemlist items={props.items} hist={props.history} />\n\n//             </table>\n//         </div> */}\n//     </div>\n// )\n\nexport default withRouter(Home);\n// export default Home;\n","import React, { Component } from 'react';\nimport { Dropdown, DropdownButton, Row, Col, Form, Container, Image } from 'react-bootstrap';\nimport client from '../../feathers';\n\n\nconst uploadService = client.service('uploads');\nconst reader = new FileReader();\n// import { withWeb3 } from 'react-web3-provider';\n// import Web3 from 'web3';\n// import chainrenterArtifact from \"../../../build/contracts/Chainrenter.json\";\n// import contract from 'truffle-contract';\n\n// var ChainrenterContract = contract(chainrenterArtifact);\n\nclass About extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            image: ''\n        }\n\n\n        console.log('aac', props);\n        // setTimeout(()=>{\n        //     props.history.push('/mypage')\n        // },2000)\n    }\n\n    async componentDidMount() {\n        // const { web3 } = this.props;\n        \n        // // console.log(\"sdsd\",web3.eth.getAccounts()[0]);\n\n        // const accounts = await web3.eth.getAccounts();\n        // console.log(\"web3\",accounts[0]);\n\n        document.title = \"How It Works\";\n\n        console.log(\"hiiia\");\n        let that = this;\n\n        console.log(\"hiiii from about client\");\n        client.on('welcome', function (data) {\n            // addMessage(data.message);\n            console.log(\"message from socket: \", data.message);\n\n            // Respond with a message including this clients' id sent from the server\n            client.emit('i am client', { data: 'foo!', id: data.id });\n        });\n        client.on('time', function (data) {\n            // addMessage(data.time);\n            console.log(\"timmemememem\");\n            console.log(\"message from socket timeX: \", data.time);\n\n        });\n        client.on('error', console.error.bind(console));\n        client.on('message', console.log.bind(console));\n\n        // 9097f07c4a02c457f1564d3722c5e524021f3303379d2afefa2314f4974af222.jpeg\n        // uploadService.get(\"ad418194dae7586f3c33abaeadb9a5076253fdc8bcc279a0aa78590edef342dd.jpeg\")\n        //     .then((res) => {\n        //         console.log(\"immmg\",res.uri);\n        //         that.setState({\n        //             image: res.uri\n        //         });\n        //         console.log(\"aaa\",res);\n        //     });\n    }\n\n\n    render() {\n        return (\n            <div>\n                <div className=\"container \">\n                    <Row><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></Row>\n                    <Row className=\"justify-content-md-center \"><Col sm={10}>\n                        <h2 className=\"text-center\">How ChainRenter Works</h2>\n                        <p>ChainRenter is a blockchain based app that lets you rent and borrow from people in your community with security and without a middle man.\n                         You can list spare items you have laying around (like an extra bike) for whatever amount you like and with a\n                         deposit amount of your choosing.\n    \n    \n                   will result in \"Smart Contracts\" being created </p>\n                        <Row><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></Row>\n                        <h4 className=\"text-center\">The Process in Detail:</h4>\n                        <ul>\n                            <li>First, you list an item you're not really using anymore (like an old fishing rod).</li>\n                            <li>Next a QR code wil be generated for you , which you will need to print and affix to the item somewhere.</li>\n                            <li>When you list, you will choose the price to rent per day as well as set a required deposit from the renter. You will also be asked to provide a photo and description.</li>\n                            <li>Then if a renter wants your item on the app, they will request it and suggest a time and place to get it. </li>\n                            <li>You can then approve or deny the rental (and decide the meeting terms).</li>\n                            <li>An irreversible contract will automactically be created for your transaction on the blockchain.</li>\n                            <li>At a meeting spot of your choice, the renter and rentee will each scan the QR code. This initiates the transaction.</li>\n                            <li>You will be entitled to the rental fee and a security deposit from the renter will be held in escrow on the blockchain.</li>\n                            <li>When the rental period is over, the renter will return the item. </li>\n                            <li>And assuming both parties are happy, you will both scan the QR code, which will automatically complete the contract and transaction </li>\n                            <li>At this point the security deposit will be automatically returned to the renter.</li>\n\n                        </ul>\n                        {/* <Image src={this.state.image} fluid /> */}\n                        {/* <h1>Let's upload some files!</h1>\n                    <input type='file' id='file' onChange={(e) => this._handleImageChange(e)} /> */}\n\n                        {/* <p>Lorem ipsum dolor sit amet consectetur adipisicing elit. Recusandae repudiandae repellat illo magni eligendi cupiditate voluptates eius nam voluptate. Incidunt nihil ullam quae quia officia quaerat, deserunt eligendi explicabo totam?</p> */}\n                    </Col></Row>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default About;\n\n","\nimport React, { Component, useState } from 'react';\n// import { Table } from 'react-bootstrap';\nimport { Link, NavLink } from 'react-router-dom';\nimport { Dropdown, DropdownButton, Row, Col, Button } from 'react-bootstrap';\n\nimport client from '../../feathers';\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\n\nclass MyItemList extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: this.props.items,\n            id: ''\n        }\n        console.log(\"inside props.items list\", this.props.items);\n        console.log(\"props? \", this.props);\n        this.handleClick = this.handleClick.bind(this);\n        this.handleButtonDelete = this.handleButtonDelete.bind(this);\n        this.handleButtonEdit = this.handleButtonEdit.bind(this);\n\n        this.newTab = this.newTab.bind(this);\n\n\n    }\n\n    handleClick(item) {\n        console.log(\"clicked\", item.id);\n        this.props.hist.push('/item/' + item.id, { detail: item });\n        // e.preventDefault();\n\n    };\n    handleButtonEdit(e, item) {\n        console.log(\"clicked edittt\", e);\n        console.log(\"clicked_items id: \", item.id);\n        e.stopPropagation();\n        e.preventDefault();\n        this.props.hist.push('/itemedit/' + item.id, { detail: item });\n\n        // if (item.id) {\n        //     crlistings.remove(item.id).then((res) => {\n        //         console.log(\"removed! \", res);\n        //         // props.hist.push('/item/' + item.id, { detail: item });\n\n        //         // that.setState({\n        //         //     lendobject: '',\n        //         // });\n        //     });\n        // }\n    };\n\n    handleButtonDelete(e, item) {\n        console.log(\"clicked delete\", e);\n        console.log(\"clicked_items id: \", item.id);\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (item.id) {\n            crlistings.remove(item.id).then((res) => {\n                console.log(\"removed! \", res);\n                // props.hist.push('/item/' + item.id, { detail: item });\n\n                // that.setState({\n                //     lendobject: '',\n                // });\n            });\n        }\n    };\n\n    newTab() {\n \n    };\n\n    // TODO: 1 create  this in its own col <Image src={this.state.items.image} fluid />\n    // 2. make sure image tag is accessed in home and added to state.item\n    // 3. eventually solve image as byte/text/blob storage issue\n    //      OR for now make sure there is a resize to 200x200 when listing\n    render() {\n        const newTab = this.props.items.map((item) => {\n            // console.log(\"name\",item.id);\n            // let tmp = \"row_\" + item.id;\n            return (\n                <tr key={\"row_\" + item.id} >\n                    {/* <td key= {\"lendobject\"+item.id}> <Link to={\"/\"+item.id} key={\"link_lendobject\"+item.id}>{item.lendobject}</Link> </td> */}\n                    <td key={\"lendobject\" + item.id} onClick={() => this.handleClick(item)}> {item.lendobject}</td>\n\n                    <td key={\"lenddesc\" + item.id} onClick={() => this.handleClick(item)}> {item.lenddesc} </td>\n                    <td key={\"lendprice\" + item.id} onClick={() => this.handleClick(item)}> {item.lendprice} </td>\n                    <td key={\"buttons\" + item.id}> \n                       <DropdownButton id=\"dropdown-basic-button\" title=\"Delete/Edit\">\n\n                        <Dropdown.Item id=\"edit\" onClick={(e) => this.handleButtonEdit(e, item)}>Edit</Dropdown.Item>\n                        <Dropdown.Item id=\"delete\" onClick={(e) => this.handleButtonDelete(e, item)}>Delete</Dropdown.Item>\n                    </DropdownButton>\n                    </td>\n                </tr>\n\n\n            );\n\n        });\n        console.log('tab', this.newTab);\n\n        return (\n            <tbody>\n                <tr key=\"t_head\">\n                    <td key=\"hname\"> Item for Rent  </td>\n                    <td key=\"hemail\"> Item Description  </td>\n                    <td key=\"hitem\"> Rental Price </td>\n                    <td key=\"hchange\"></td>\n                </tr>\n                {newTab}\n            </tbody>\n            // <p>hello</p>\n\n        );\n    }\n\n\n}\n\nexport default MyItemList;","import React, { Component } from 'react';\nimport client from '../../feathers';\nimport MyItemList from './MyItemList';\nimport { Dropdown, DropdownButton, Row, Col, Table } from 'react-bootstrap';\n\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\n\nclass MyPage extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: [], //{ lendobject: '1111aaaa', lenddesc: '111bbb', lendprice: '111ccccc', id: '999'}, { lendobject: '111aaaa22', lenddesc: '1111bbb22', lendprice: 'ccccc22', id: '2312' }\n            // sortTerm:''\n            id: ''\n        }\n\n\n\n    }\n    async componentDidMount() {\n\n        let accessTokenMe = '';\n        console.log(\"332223\");\n        var that = this;\n        await client.authenticate().then((res) => {\n            console.log(\"thesss\", res.accessToken);\n            accessTokenMe = res.accessToken;\n            return client.passport.verifyJWT(accessTokenMe);\n        })\n            .then(payload => {\n                console.log('JWT Payload', payload);\n                return client.service('users').get(payload.userId);\n            })\n            .then(user => {\n                client.set('user', user);\n                console.log('User', client.get('user'));\n            })\n            .catch(function (error) {\n                console.error('Error authenticating!', error);\n            });\n\n\n        // await users.find()\n        //     .then((res) => {\n        //         console.log(\"aaa\");\n\n        //         console.log('from await users:', res);\n        //         let id = res.data;\n        //         console.log(\"id\",id);\n        //         that.setState({\n        //             id: 'a'\n        //         });\n        //     })\n        //     .catch(err => {\n        //         console.log(\"er3333rere\", err)\n        //     })\n\n        // await crlistings.find({\n        //     query: {\n        //         $limit: 1,\n        //         lendobject: 'aaaa'\n        //         // $sort: {\n        //         //     lendobject: 1\n        //         // }\n        //     }\n        // }).then((res) => {\n        //     console.log(\"aaa3333333\",res.data.user);\n        //         that.setState({\n        //             id: 'a'\n        //         });\n        //     });\n        console.log(\"idididi\", client.get('user'));\n        let userHere = client.get('user');\n        await crlistings.find({\n            query: {\n                $limit: 200,\n                idfromuser: [client.get('user')._id]\n                // $sort: {\n                //     lendobject: 1\n                // }\n            }\n        })\n            .then((res) => {\n                console.log(\"aaa\");\n                let data = res.data;\n                console.log('from await crlistings:', res);\n\n\n                // this.setState({ crlistings: this.state.crlistings.concat(message) });\n                let tmp3 = data.map((cont) => {\n                    return { lendobject: cont.lendobject, lenddesc: cont.lenddesc, lendprice: cont.lendprice, id: cont.id };\n                });\n                // let tmp2 = [ {lendobject: data.lendobject, lenddesc: data.lenddesc, lendprice: data.lendprice, data: res.id }];\n                // that.setState({\n                //     items: []\n                // });\n                // console.log(\"object\",tmp3);\n                that.setState({\n                    items: tmp3\n                });\n            })\n            .catch(err => {\n                console.log(\"er3333rere\", err)\n            })\n\n        crlistings.on('removed', res => {\n            console.log(\"removeeeeed YYYY\", res);\n            let data = res.data;\n            crlistings.find({\n                query: {\n                    $limit: 200,\n                    idfromuser: [client.get('user')._id]\n                    // $sort: {\n                    //     lendobject: 1\n                    // }\n                }\n            })\n                .then((res) => {\n                    console.log(\"aaa\");\n                    let data = res.data;\n                    console.log('from await crlistings:', res);\n\n\n                    // this.setState({ crlistings: this.state.crlistings.concat(message) });\n                    let tmp3 = data.map((cont) => {\n                        return { lendobject: cont.lendobject, lenddesc: cont.lenddesc, lendprice: cont.lendprice, id: cont.id };\n                    });\n                    // let tmp2 = [ {lendobject: data.lendobject, lenddesc: data.lenddesc, lendprice: data.lendprice, data: res.id }];\n                    // that.setState({\n                    //     items: []\n                    // });\n                    // console.log(\"object\",tmp3);\n                    that.setState({\n                        items: tmp3\n                    });\n                })\n                .catch(err => {\n                    console.log(\"er3333rere\", err)\n                })\n            // let tmp2 = [{ lendobject: res.lendobject, lenddesc: res.lenddesc, lendprice: res.lendprice, id: res.id }];\n\n            // that.setState({\n            //     items: this.state.items.concat(tmp2)//tmp1\n            // });\n        });\n\n\n\n    }\n    render() {\n        return (\n            <div>\n                <div className=\"container center\">\n                <Row>\n                        <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                        </Row>\n                    <Row className=\"justify-content-md-center\">\n                        <Col> </Col>\n                        <Col> <h2 className=\"center text-center\">My Listings</h2></Col>\n                        <Col></Col>\n\n\n                    </Row>\n                    \n                    <Row className=\"justify-content-md-center\">\n                    <Col sm={8} >\n                        <Table striped bordered hover>\n\n\n                            <MyItemList items={this.state.items} hist={this.props.history} id={this.props.id} />\n\n                        </Table>\n                        </Col>\n                    </Row>\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default MyPage;","import React, { Component } from 'react';\nimport client from '../../feathers';\nimport { Dropdown, DropdownButton, Row, Col, Jumbotron, Container, Button, Table, Form, FormControl } from 'react-bootstrap';\n\n\nclass Login extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            showUsername: false,\n            timesClicked: 0,\n            signupButtonText: \"or, Sign Up\",\n            showLoginButton: true\n        };\n    }\n\n    updateField(name, ev) {\n        this.setState({ [name]: ev.target.value });\n    }\n\n    login() {\n        const { email, password } = this.state;\n        console.log(\"lgin\", email);\n        return client.authenticate({\n            strategy: 'local',\n            email, password\n        }).catch(error => {\n            console.log(\"errr2200\");\n            this.setState({ error });\n        });\n    }\n\n    signup() {\n        if (this.state.timesClicked > 0) {\n            const { email, password, username } = this.state;\n            console.log(\"signup\", email);\n\n            console.log(\"sjsjjs\");\n            client.service('users')\n                .create({ email, password, username })\n                .then(() => {\n                    console.log(\"hiii\");\n                    this.login();\n                }).catch(err => {\n                    console.log(\"err in signup\", err);\n                    // alert(err.message);\n                    let error = {message: \"This email address has already been used to sign up. Please login.\"};\n                    this.setState({ error});\n\n                });\n        } else {\n            this.setState({\n                showUsername: true,\n                signupButtonText: \"Sign Up\",\n                timesClicked: 1,\n                showLoginButton: false\n            });\n\n\n\n        }\n    }\n\n\n    async componentDidMount() {\n        const crlistings = client.service('crlistings');\n        const users = client.service('users');\n\n    }\n\n    render() {\n        return (<main className=\"login container\">\n\n            <div className=\"row\">\n                <div className=\" col\">\n\n                    <Jumbotron style={{ backgroundColor: \"#88bbff\", padding: \"2rem\" }} className=\"helv jumb\" >\n                        <h1 >ChainRenter</h1>\n\n                        <h3 >Rent What You Need from Friends and Neighbors</h3>\n                        <h4 >Secure, Easy and Middle Man Free</h4>\n\n                        <div> <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></div>\n                        <div className=\"heading\">\n                            <h4 className=\"font-100\">Log in or signup</h4>\n                            <p className=\"redText\">{this.state.error && this.state.error.message}</p>\n                        </div>\n                        <Row>\n                            <Col xs={8} lg={3}>\n                                <Form className=\"loginForm\" >\n\n                                    <FormControl type=\"email\" placeholder=\"Email\" name=\"email\" className=\" white-text\" onChange={ev => this.updateField('email', ev)} />\n                                    {this.state.showUsername\n\n                                        ? <FormControl placeholder=\"Choose a Username\" name=\"username\" className=\" white-text\" onChange={ev => this.updateField('username', ev)} />\n                                        : null\n                                    }\n                                    <FormControl type=\"password\" placeholder=\"Password\" name=\"password\" className=\" white-text\" onChange={ev => this.updateField('password', ev)} />\n                                    {this.state.showLoginButton\n                                        ? <Button variant=\"primary\" onClick={() => this.login()}>Login</Button>\n                                        : null\n                                    }\n                                    {/* <p className=\"\">Or, if you're new:</p> */}<span>&nbsp;</span>\n                                    <Button variant=\"secondary\" onClick={() => this.signup()}>{this.state.signupButtonText}</Button>\n\n\n                                </Form>\n                            </Col>\n                        </Row>\n\n                    </Jumbotron>\n                </div>\n            </div>\n\n\n\n            {/* \n            <div className=\"row\">\n                <div className=\"col-12 col-6-tablet push-3-tablet col-4-desktop push-4-desktop\">\n                    <form className=\"form\">\n                        <fieldset>\n                            <input className=\"block\" type=\"email\" name=\"email\" placeholder=\"email\" onChange={ev => this.updateField('email', ev)} />\n                        </fieldset>\n\n                        <fieldset>\n                            <input className=\"block\" type=\"password\" name=\"password\" placeholder=\"password\" onChange={ev => this.updateField('password', ev)} />\n                        </fieldset>\n\n                        <button type=\"button\" className=\"button button-primary block signup\" onClick={() => this.login()}>\n                            Log in\n            </button>\n\n                        <button type=\"button\" className=\"button button-primary block signup\" onClick={() => this.signup()}>\n                            Signup\n            </button>\n                    </form>\n                </div>\n            </div> */}\n        </main>);\n        // return(\n\n        //     <div className=\"left\"> \n\n        //       <form className=\"\" onSubmit={this.handleSubmitw}>\n        //             <label htmlFor=\"username\"></label>\n        //             <input  type=\"text\" id=\"username\" onChange={this.handleChangew}/>\n        //             <label htmlFor=\"password\"></label>\n        //             <input  type=\"text\" id=\"password\" onChange={this.handleChangew}/>\n        //             <button >Login</button>\n        //      </form>\n        //      <form className=\"\" onSubmit={this.handleSubmitz}>\n\n        //             <button >new</button>\n        //      </form>\n        //     </div>\n\n        // )\n    }\n\n}\n\nexport default Login;","import React, { Component } from 'react';\n// import { Table } from 'react-bootstrap';\nimport { Link, NavLink } from 'react-router-dom';\nimport zipcodes from 'zipcodes';\nimport { Image, Button } from 'react-bootstrap';\nimport client from '../../feathers';\n\n\n// const uploadService = client.service('uploads');\n// const reader = new FileReader();\n\nconst MessageTable = (props) => {\n    console.log(\"item list\");\n    console.log(\"props? \", props);\n\n    // console.log(\"inside props.items list\",props.items);\n    const handleClick = (item) => {\n        console.log(\"clicked\", item.id);\n        // props.hist.push('/item/' + item.id, { detail: item });\n  \n    };\n\n    const handleButton = (e, item) =>{\n        console.log(\"clicked\", e);\n        console.log(\"clicked_items id: \", item.id);\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (item.id) {\n            // crlistings.remove(item.id).then((res) => {\n            //     console.log(\"removed! \", res);\n              \n            // });\n        }\n    };\n\n\n    // const oo = [{name:'11333aa',email:'111bbb',lendobject:'111ccccc'},{name:'111aaaa22',email:'1111bbb22',lendobject:'ccccc22'}]\n    const newTab = props.items.map((item) => {\n        // console.log(\"name\",item.id);\n\n        return (\n            <tr key={\"row\" + item.id} onClick={() => handleClick(item)}>\n                {/* <td key= {\"lendobject\"+item.id}> <Link to={\"/\"+item.id} key={\"link_lendobject\"+item.id}>{item.lendobject}</Link> </td> */}\n                <td key={\"image\" + item.id} > Temp From </td>\n                <td key={\"lendobject\" + item.id}>Temp Item Name  </td>\n\n                <td key={\"lenddesc\" + item.id}>  Temp Reciev</td>\n                <td key={\"lendprice\" + item.id}> Temp Content </td>\n                <td key={\"buttons\" + item.id}> <Button id=\"delete\" variant=\"secondary\" size='sm' onClick={(e) => handleButton(e, item)}>Delete</Button> </td>\n\n                {/* <td key={\"location\" + item.id}> {item.cityStateComb.city}, {item.cityStateComb.state}  </td> */}\n\n            </tr>\n\n\n        )\n\n    });\n    console.log('tab', newTab);\n\n    return (\n        <tbody>\n            <tr key=\"t_head\">\n                <td key=\"himage\" > From: </td>\n                <td key=\"hname\">  Item:  </td>\n                <td key=\"hemail\"> Recieved on:  </td>\n                <td key=\"hloc\"> Content: </td>\n                <td key=\"options\">  </td>\n            </tr>\n            {newTab}\n        </tbody>\n        // <p>hello</p>\n\n    )\n\n\n}\n\nexport default MessageTable;","import React, { Component } from 'react';\nimport client from '../../feathers';\nimport MessagesTable from './MessagesTable';\nimport { Button, Dropdown, DropdownButton, Row, Col, Table, Container } from 'react-bootstrap';\n\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\n\nclass Messages extends Component {\n\n    constructor(props) {\n        super(props);\n        this.state = {\n            items: [],\n            id: '',\n            recievedMess: true,\n            sentMess: true\n\n        }\n        this.handleHideShow = this.handleHideShow.bind(this);\n\n\n\n    }\n    handleHideShow(e) {\n        console.log(\"hanndler\", e);\n        e.preventDefault();\n\n        // console.log(\"111\",this.props);\n        console.log(\"111zz\", this.state[e.target.id]);\n        this.setState({\n            [e.target.id]: !this.state[e.target.id]\n        });\n        // if (e.target.value === '') {\n        //     console.log(\"trying zero serach\", e.target.value);\n        //     // if (e.target.id === '')\n        //     // this.handleEmptySubmit();\n        // }\n\n    }\n    async componentDidMount() {\n\n        let accessTokenMe = '';\n        console.log(\"332223\");\n        var that = this;\n        await client.authenticate().then((res) => {\n            console.log(\"thesss\", res.accessToken);\n            accessTokenMe = res.accessToken;\n            return client.passport.verifyJWT(accessTokenMe);\n        })\n            .then(payload => {\n                console.log('JWT Payload', payload);\n                return client.service('users').get(payload.userId);\n            })\n            .then(user => {\n                client.set('user', user);\n                console.log('User', client.get('user'));\n            })\n            .catch(function (error) {\n                console.error('Error authenticating!', error);\n            });\n\n\n        console.log(\"idididi\", client.get('user'));\n        let userHere = client.get('user');\n        await crlistings.find({\n            query: {\n                $limit: 200,\n                idfromuser: [client.get('user')._id]\n                // $sort: {\n                //     lendobject: 1\n                // }\n            }\n        })\n            .then((res) => {\n                console.log(\"aaa\");\n                let data = res.data;\n                console.log('from await crlistings:', res);\n\n\n                // this.setState({ crlistings: this.state.crlistings.concat(message) });\n\n                // let tmp3 = data.map((cont) => {\n                //     return { lendobject: cont.lendobject, lenddesc: cont.lenddesc, lendprice: cont.lendprice, id: cont.id };\n                // });\n                let tmp2 = [{ lendobject: data.lendobject, lenddesc: data.lenddesc, lendprice: data.lendprice, data: res.id }];\n                // that.setState({\n                //     items: []\n                // });\n                // console.log(\"object\",tmp3);\n                that.setState({\n                    items: tmp2\n                });\n            })\n            .catch(err => {\n                console.log(\"er3333rere\", err)\n            })\n\n        //TODO: need to create a new messages table...probably\n        crlistings.on('removed', res => {\n            console.log(\"removeeeeed YYYY\", res);\n            let data = res.data;\n            crlistings.find({\n                query: {\n                    $limit: 200,\n                    idfromuser: [client.get('user')._id]\n                    // $sort: {\n                    //     lendobject: 1\n                    // }\n                }\n            })\n                .then((res) => {\n                    console.log(\"aaa\");\n                    let data = res.data;\n                    console.log('from await crlistings:', res);\n\n\n                    // this.setState({ crlistings: this.state.crlistings.concat(message) });\n                    let tmp3 = data.map((cont) => {\n                        return { lendobject: cont.lendobject, lenddesc: cont.lenddesc, lendprice: cont.lendprice, id: cont.id };\n                    });\n                    // let tmp2 = [ {lendobject: data.lendobject, lenddesc: data.lenddesc, lendprice: data.lendprice, data: res.id }];\n                    // that.setState({\n                    //     items: []\n                    // });\n                    // console.log(\"object\",tmp3);\n                    that.setState({\n                        items: tmp3\n                    });\n                })\n                .catch(err => {\n                    console.log(\"er3333rere\", err)\n                })\n            // let tmp2 = [{ lendobject: res.lendobject, lenddesc: res.lenddesc, lendprice: res.lendprice, id: res.id }];\n\n            // that.setState({\n            //     items: this.state.items.concat(tmp2)//tmp1\n            // });\n        });\n\n\n\n    }\n    render() {\n        return (\n            <div className=\"transactions\">\n                <div className=\"justify-content-md-center\">\n                    <Container className=\"justify-content-md-center\">\n\n                        <Row className=\"justify-content-md-center \">\n                            <Col sm={9}>\n                                <Row>\n                                    <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                                </Row>\n\n                                <Row className=\"justify-content-md-center\">\n\n                                    <Col> <h2 className=\"text-center\">My Messages</h2></Col>\n\n                                </Row>\n\n                                {/* <Col> Active Transactions As Lister</Col>\n                            <Col> Active Transactions As Borrower</Col>\n                            <Col> Past Transactions</Col> */}\n\n\n                                <Row className=\"justify-content-md-center rowrow\">\n\n\n                                    <Row className=\"justify-content-md-center makehundred\">\n                                        <Col></Col>\n                                        <Col>\n                                            <h4 className=\"text-center\">Recieved</h4>\n                                        </Col>\n                                        <Col className=\"colBut\">\n                                            <Button id=\"recievedMess\" size='sm' onClick={this.handleHideShow}>\n                                                {this.state.recievedMess\n                                                    ? \"Hide\"\n                                                    : \"Show\"\n                                                }\n                                            </Button>\n\n                                        </Col>\n                                    </Row>\n                                    {this.state.recievedMess\n                                        ? <Table striped bordered hover>\n                                            <MessagesTable items={this.state.items} hist={this.props.history}  />\n                                        </Table>\n                                        : null\n                                    }\n\n\n                                </Row>\n                                <Row className=\"justify-content-md-center rowrow\">\n\n\n                                    <Row className=\"justify-content-md-center makehundred\">\n                                        <Col xs={3}></Col>\n                                        <Col xs={6}>\n                                            <h4 className=\"text-center\">Sent</h4>\n                                        </Col>\n                                        <Col xs={3} className=\"colBut\">\n                                            <Button id=\"sentMess\" size='sm' onClick={this.handleHideShow}>\n                                                {this.state.sentMess\n                                                    ? \"Hide\"\n                                                    : \"Show\"\n                                                }\n                                            </Button>\n\n                                        </Col>\n                                    </Row>\n                                    {this.state.sentMess\n                                        ? <Table striped bordered hover>\n\n                                            <MessagesTable items={this.state.items} hist={this.props.history}  />\n                                        </Table>\n                                        : null\n                                    }\n\n\n                                </Row>\n                               \n                            </Col>\n                        </Row>\n\n                    </Container>\n\n                </div>\n            </div>\n        )\n    }\n\n}\n\nexport default Messages;","import React, { Component } from 'react';\nimport { Popover, OverlayTrigger,Button } from 'react-bootstrap';\n\nconst StatusPopover = (props) => {\n    return (\n        <OverlayTrigger trigger=\"focus\" placement=\"right\" overlay={<Popover id=\"popover-basic\" >\n            <Popover.Title as=\"h3\"><strong>Key: </strong> </Popover.Title>\n            <Popover.Content>\n\n                <strong>1. Initiated:</strong> Borrower has send owner request. Now awaiting owner's response.  <br />\n                <strong>2. Pending:</strong>  Owner accepted. Now awaiting borrower's final signature.  <br />\n                <strong>3. Tentative Handshake:</strong> Price, timing and details are agreed to. Now wwaiting contract to go live on blockchain.  <br />\n                <strong>4. Contract Ready Blockchain:</strong> Contract ready on blockchain. Proceed to meet up at specified location and time to handoff item.  <br />\n                <strong>5. Contract Started:</strong>  Owner and borrower are in the process of handing off item. Awaiting users's acknowledgement of handoff to go into blockchain. Also waiting on borrowers payment of rental price and deposit to go through. <br />\n                <strong>6. Payment Complete / Item Now with Borrower:</strong>  Handoff is offical on blockchain and payment has gone through. Borrower now possesses item for duration of agreed upon contract. Each party is free to go.  <br />\n\n                <strong>7. Rental Complete / Item Now Back with Owner:</strong>  Users have met up. Item has been returned to owner and each user has acknowledged completion of rental on blockchain. <br />\n                <strong>911. Rental Failed:</strong>  Rental has been cancelled or failed\n\n             </Popover.Content>\n            </Popover>}>\n            <Button className=\"lil-margin-left\" variant=\"outline-info\" size=\"sm\">?</Button>\n        </OverlayTrigger>\n\n    )\n}\n\nexport default StatusPopover;","import React, { Component } from 'react';\n// import { Table } from 'react-bootstrap';\nimport { Link, NavLink } from 'react-router-dom';\nimport zipcodes from 'zipcodes';\nimport { Image, Button,Popover, OverlayTrigger } from 'react-bootstrap';\nimport client from '../../feathers';\nimport StatusPopover from './utilities/StatusPopover';\n\n\n// const uploadService = client.service('uploads');\n// const reader = new FileReader();\n\nconst TransactionsTable = (props) => {\n    console.log(\"item list\");\n    console.log(\"props? \", props);\n\n    // console.log(\"inside props.items list\",props.items);\n    const handleClick = (item) => {\n        console.log(\"clicked\", item.id);\n        props.hist.push('/transactiondetails/' + item.id);\n\n    };\n\n    const handleButton = (e, item) => {\n        console.log(\"clicked\", e);\n        console.log(\"clicked_items id: \", item.id);\n        e.stopPropagation();\n        e.preventDefault();\n\n        if (item.id) {\n            // crlistings.remove(item.id).then((res) => {\n            //     console.log(\"removed! \", res);\n\n            // });\n        }\n    };\n\n\n    // const oo = [{name:'11333aa',email:'111bbb',lendobject:'111ccccc'},{name:'111aaaa22',email:'1111bbb22',lendobject:'ccccc22'}]\n    const newTab = props.items.map((item) => {\n        // console.log(\"name\",item.id);\n\n        return (\n            <tr key={\"row\" + item.id} onClick={() => handleClick(item)} className=\"transtable\">\n                {/* <td key= {\"lendobject\"+item.id}> <Link to={\"/\"+item.id} key={\"link_lendobject\"+item.id}>{item.lendobject}</Link> </td> */}\n                <td key={\"itemname\" + item.id}> {item.rl_name} </td>\n                <td key={\"TransactionId\" + item.id}>  {item.id}</td>\n                <td key={\"Created\" + item.id}> {item.createdat} </td>\n                <td key={\"Notes\" + item.id}>  {item.initialnotes} </td>\n                <td key={\"Price\" + item.id}> ${item.totalprice} </td>\n                <td key={\"Deposit\" + item.id}> ${item.deposit} </td>\n                <td key={\"checkout\" + item.id}> {item.checkoutdate} </td>\n                <td key={\"checkin\" + item.id}> {item.checkindate} </td>\n                <td key={\"status\" + item.id}> {item.status}/7 </td>\n                {/* <td key={\"buttons\" + item.id}> <Button id=\"delete\" onClick={(e) => handleButton(e, item)}>Delete</Button> </td> */}\n\n                {/* <td key={\"location\" + item.id}> {item.cityStateComb.city}, {item.cityStateComb.state}  </td> */}\n\n            </tr>\n\n\n        )\n\n    });\n    console.log('tab', newTab);\n\n    return (\n        <tbody>\n            <tr key=\"t_head\">\n                <td key=\"Item\">  Item  </td>\n                <td key=\"id\">  Transaction Id </td>\n                <td key=\"Created\" > Created At </td>\n                <td key=\"Notes\">  Notes  </td>\n                <td key=\"Price\"> Total Price </td>\n                <td key=\"Deposit\"> Deposit </td>\n                <td key=\"checkout\"> Checkout Date </td>\n                <td key=\"checkin\"> Checkin Date </td>\n\n                <td key=\"status\"> Status <StatusPopover /></td>\n\n\n\n            </tr>\n            {newTab}\n        </tbody>\n        // <p>hello</p>\n\n    )\n\n    // category of contract is \"potential, live or complete\"\n    //could use contract id to cehck this\n    // should probaly add extra column to transactions table\n\n}\n\nexport default TransactionsTable;","import React, { Component } from 'react';\nimport client from '../../feathers';\nimport MyItemList from './MyItemList';\nimport moment from 'moment';\n\nimport TransactionsTable from './TransactionsTable';\n\nimport { Button, Dropdown, DropdownButton, Row, Col, Table, Container } from 'react-bootstrap';\n\nconst transacts = client.service('transacts');\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\n\nclass MyTransactions extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"idddd\", this.props.match.params.id);\n\n        this.state = {\n            idOfItemToEdit: this.props.match.params.id,\n            itemsAsRenter: [], //{ lendobject: '1111aaaa', lenddesc: '111bbb', lendprice: '111ccccc', id: '999' }, { lendobject: '111aaaa22', lenddesc: '1111bbb22', lendprice: 'ccccc22', id: '2312' }\n            // sortTerm:''\n            itemsAsBorrower: [],\n            id: '',\n            activeLister: true,\n            activeBorrower: true,\n            pastList: false\n\n        }\n        this.createItemsFromDb = this.createItemsFromDb.bind(this);\n        this.handleHideShow = this.handleHideShow.bind(this);\n\n\n\n\n    }\n    handleHideShow(e) {\n        console.log(\"hanndler\", e);\n        e.preventDefault();\n\n        // console.log(\"111\",this.props);\n        console.log(\"111zz\", this.state[e.target.id]);\n        this.setState({\n            [e.target.id]: !this.state[e.target.id]\n        });\n        // if (e.target.value === '') {\n        //     console.log(\"trying zero serach\", e.target.value);\n        //     // if (e.target.id === '')\n        //     // this.handleEmptySubmit();\n        // }\n\n    }\n\n    async createItemsFromDb(res) {\n        return new Promise(async function (resolve, reject) {\n            console.log(\"aaa\");\n            let data = res.data;\n            console.log('from await crlistings:', res);\n\n\n            // this.setState({ crlistings: this.state.crlistings.concat(message) });\n            let tmp3 = data.map(async (cont) => {\n                if (cont.contractid) {\n                    var tmpStatus = \"Active\"\n                } else {\n                    var tmpStatus = \"Pending\"\n\n                }\n                let itemFromcrlistings = await crlistings.get(cont.itemidinrentlib)\n                    .catch(err => {\n                        console.log(\"eeerrroro\");\n                    });\n\n                console.log(\"created att\", moment(cont.createdAt).format('MMM Do YY')); // → \"Sep 2nd 07\");\n                var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n                console.log(\"date: \", moment(cont.checkoutdate, \"x\").format('LLLL'));\n\n                console.log(\"date: \", new Date(cont.checkoutdate));\n                let t1 = cont.checkoutdate;\n\n                return {\n                    rl_name: itemFromcrlistings.lendobject,\n                    itemidinrentlib: cont.itemidinrentlib,\n                    id: cont.id,\n                    createdat: new Date(cont.createdAt).toLocaleDateString(\"en-US\", options),\n                    initialnotes: cont.initialnotes,\n                    finalnotes: cont.finalnotes,\n                    totalprice: cont.totalprice,\n                    deposit: cont.deposit,\n                    checkoutdate: moment(cont.checkoutdate, \"x\").format('LLLL'),\n                    checkindate: moment(cont.checkindate, \"x\").format('LLLL'),\n                    // checkoutdate: new Date(cont.checkoutdate).toLocaleDateString(\"en-US\", options),\n                    // checkindate: new Date(cont.checkindate).toLocaleDateString(\"en-US\", options),\n                    status: cont.status\n\n                };\n            });\n\n            Promise.all(tmp3).then((completed) => {\n                console.log(\"complllllll\", completed);\n                resolve(completed);\n\n            });\n\n        });\n\n    }\n    async componentDidMount() {\n\n        let accessTokenMe = '';\n        console.log(\"332223\");\n        var that = this;\n        await client.authenticate().then((res) => {\n            console.log(\"thesss\", res.accessToken);\n            accessTokenMe = res.accessToken;\n            return client.passport.verifyJWT(accessTokenMe);\n        })\n            .then(payload => {\n                console.log('JWT Payload', payload);\n                return client.service('users').get(payload.userId);\n            })\n            .then(user => {\n                client.set('user', user);\n                console.log('User', client.get('user'));\n            })\n            .catch(function (error) {\n                console.error('Error authenticating!', error);\n            });\n\n\n        //getting transactions where user is the rentre\n        console.log(\"getting as renter\", client.get('user'));\n        let userHere = client.get('user');\n        await transacts.find({\n            query: {\n                $limit: 200,\n                renteruserid: [client.get('user')._id]\n                // $sort: {\n                //     lendobject: 1\n                // }\n            }\n        })\n            .then(async (res) => {\n                let itemsAsRenter = await this.createItemsFromDb(res);\n                console.log(\"from as broow11\", res);\n                if (itemsAsRenter) {\n                    that.setState({\n                        itemsAsRenter\n                    });\n                }\n\n            })\n            .catch(err => {\n                console.log(\"er3333rere\", err)\n            })\n\n\n        //TODO: getting transactions where user is the borrower\n        console.log(\"getting as brrower\", client.get('user'));\n        await transacts.find({\n            query: {\n                $limit: 200,\n                borroweruserid: [client.get('user')._id]\n                // $sort: {\n                //     lendobject: 1\n                // }\n            }\n        })\n            .then(async (res) => {\n                let itemsAsBorrower = await this.createItemsFromDb(res);\n                console.log(\"from as broow11\", res);\n                if (itemsAsBorrower) {\n                    that.setState({\n                        itemsAsBorrower\n                    });\n                }\n\n            })\n            .catch(err => {\n                console.log(\"er3333rere\", err)\n            })\n\n        console.log(\"itemzzz: \", this.state.itemsAsBorrower);\n\n\n    }\n    render() {\n        return (\n            <div className=\"transactions\">\n                <Container className=\"justify-content-md-center\">\n                    <Row className=\"justify-content-md-center \">\n                        <Col sm={10}>\n                            <Row>\n                                <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                            </Row>\n\n                            <Row className=\"justify-content-md-center\">\n\n                                <Col> <h2 className=\"text-center\">My Transactions</h2></Col>\n\n                            </Row>\n\n                            {/* <Col> Active Transactions As Lister</Col>\n                            <Col> Active Transactions As Borrower</Col>\n                            <Col> Past Transactions</Col> */}\n\n\n                            <Row className=\"justify-content-md-center\">\n\n\n                                <Row className=\"justify-content-md-center makehundred\">\n                                    <Col></Col>\n                                    <Col>\n                                        <h4 className=\"text-center\">Active Transactions As Lister</h4>\n                                    </Col>\n                                    <Col className=\"colBut\">\n                                        <Button id=\"activeLister\" size='sm' onClick={this.handleHideShow}>\n                                            {this.state.activeLister\n                                                ? \"Hide\"\n                                                : \"Show\"\n                                            }\n                                        </Button>\n\n                                    </Col>\n                                </Row>\n                                {this.state.activeLister\n                                    ? <Table striped bordered hover>\n                                        <TransactionsTable items={this.state.itemsAsRenter} hist={this.props.history} />\n                                    </Table>\n                                    : null\n                                }\n\n\n                            </Row>\n                            <Row className=\"justify-content-md-center\">\n\n\n                                <Row className=\"justify-content-md-center makehundred\">\n                                    <Col xs={3}></Col>\n                                    <Col xs={6}>\n                                        <h4 className=\"text-center\">Active Transactions As Borrower</h4>\n                                    </Col>\n                                    <Col xs={3} className=\"colBut\">\n                                        <Button id=\"activeBorrower\" size='sm' onClick={this.handleHideShow}>\n                                            {this.state.activeBorrower\n                                                ? \"Hide\"\n                                                : \"Show\"\n                                            }\n                                        </Button>\n\n                                    </Col>\n                                </Row>\n                                {this.state.activeBorrower\n                                    ? <Table striped bordered hover>\n\n                                        <TransactionsTable items={this.state.itemsAsBorrower} hist={this.props.history} />\n                                    </Table>\n                                    : null\n                                }\n\n\n                            </Row>\n                            <Row className=\"justify-content-md-center\">\n\n                                <Row className=\"justify-content-md-center makehundred\">\n                                    <Col xs={3}></Col>\n                                    <Col xs={6}>\n                                        <h4 className=\"text-center\">Past Transactions</h4>\n                                    </Col>\n                                    <Col xs={3} className=\"colBut\">\n                                        <Button id=\"pastList\" size='sm' onClick={this.handleHideShow}>\n                                            {this.state.pastList\n                                                ? \"Hide\"\n                                                : \"Show\"\n                                            }\n                                        </Button>\n\n                                    </Col>\n                                </Row>\n                                {this.state.pastList\n                                    ? <Table striped bordered hover>\n\n                                        {/* this needs to be only completed items -- DO this logic here not in child */}\n                                        <TransactionsTable items={this.state.itemsAsRenter} hist={this.props.history} />\n                                    </Table>\n                                    : null\n                                }\n\n                            </Row>\n                        </Col>\n                    </Row>\n                </Container>\n\n            </div>\n        )\n    }\n\n}\n\nexport default MyTransactions;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Row, Col, Container, Image, Button } from 'react-bootstrap';\nimport client from '../../../feathers';\n\n// const uploadService = client.service('uploads');\n\nclass ImageUpload extends React.Component {\n    constructor(props) {\n        super(props);\n        console.log(\"existing image\",props.existingImage);\n        console.log(\"true exist image:\",props.imageAlready);\n        // if (props.imageAlready) {\n            this.state = {\n                file: '',\n                imagePreviewUrl: '',\n                // clearFile: false\n            };\n        // } else {\n        //     this.state = {\n        //         file: '',\n        //         imagePreviewUrl: '',\n        //         imageAlready:false\n\n        //     };\n        // }\n    }\n    \n\n    _handleImageChange(e) {\n        e.preventDefault();\n\n        let reader = new FileReader();\n        let file = e.target.files[0];\n        let zee = e;\n        reader.onloadend = () => {\n            console.log('encoded file: ', reader.result);\n\n            this.setState({\n                file: file,\n                imagePreviewUrl: reader.result\n            });\n            \n            this.props.uploadIt(file, reader.result).then((res) => {\n                console.log(\"promissie\", res);\n                document.getElementById('inp').value=null;\n                // zee.target.value = null;\n                // that.setState({\n                //     file: '',\n                //     imagePreviewUrl: ''\n                // });\n            });\n\n            // //goes in in parent component\n            // var upload = uploadService\n            //     .create({ uri: reader.result })\n            //     .then(function (response) {\n            //         // success\n            //         alert('UPLOADED!! ');\n            //         console.log('Server responded with: ', response);\n            //     });\n        }\n        let that = this;\n        reader.readAsDataURL(file);\n    }\n\n    //old way of uploading----\n    // _handleImageChange(e) {\n    //     e.preventDefault();\n\n    //     let reader = new FileReader();\n    //     let file = e.target.files[0];\n\n    //     reader.onloadend = () => {\n    //         this.setState({\n    //             file: file,\n    //             imagePreviewUrl: reader.result\n    //         });\n    //     }\n    //     let that = this;\n    //     reader.readAsDataURL(file);\n    //     this.props.uploadIt(file).then((res)=>{\n    //         console.log(\"promissie\",res);\n    //         that.setState({\n    //             file: '',\n    //             imagePreviewUrl: ''\n    //         });\n    //     });\n    // }\n\n    render() {\n        let { imagePreviewUrl } = this.state;\n        let $imagePreview = null;\n        console.log(\"imagr prev url:\",imagePreviewUrl);\n        console.log(\"true or falase img ready,\",(imagePreviewUrl && this.props.showImage));\n      \n        if (imagePreviewUrl && this.props.showImage) {\n            $imagePreview = (<Image src={imagePreviewUrl} fluid />);\n        } else if (this.props.imageAlready && this.props.existingImage){\n            $imagePreview = (<Image src={this.props.existingImage} fluid />);\n        }else {\n            $imagePreview = (<p></p>);\n        }\n\n        // if (this.props.clearFile){\n          \n        //         try{\n        //             e.target.files[0];\n\n        //         } catch(err){\n        \n        //             console.log(\"error nulling file upload\",err);\n        //         }\n        // }\n\n        return (\n\n            <div>\n                <label className=\"custom-file-upload fileInput\">\n                    <input type=\"file\" id=\"inp\" ref=\"inpref\" onChange={(e) => this._handleImageChange(e)} />\n                    Select Image\n                        </label>\n                <p></p>\n                {/* <Button variant=\"secondary\" className=\"submitButton\"\n                        type=\"submit\"onClick={(e) => this._handleSubmit(e)}>Upload Image\n                        </Button> */}\n\n\n                <div className=\"imgPreview justify-content-md-center\" >\n                    {$imagePreview}\n                </div>\n            </div>\n        )\n    }\n}\n\nexport default ImageUpload;","import React, { Component, useState } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\n\nimport client from '../../feathers';\n\nimport ImageUpload from './utilities/ImageUpload';\n\n\nimport 'react-materialize';\nimport { Dropdown, DropdownButton, Row, Col, Toast, Button, Modal, Form } from 'react-bootstrap';\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\nconst uploadService = client.service('uploads');\n\nclass Listsomething extends Component {\n    constructor(props) {\n        console.log(\"Asdf\");\n\n        super(props);\n\n        this.state = { lendobject: '', lenddesc: '', lendprice: '', location: '', reqdep: '', sho: false, image: '', showImage: true, readerRes: '' };\n        this.handleChangew = this.handleChangew.bind(this);\n        this.handleSubmitw = this.handleSubmitw.bind(this);\n        // this.toggleShowA = this.toggleShowA.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.uploadIt = this.uploadIt.bind(this);\n        this.getBase64 = this.getBase64.bind(this);\n\n        console.log(\"Assdfdf\");\n\n    }\n\n    async uploadIt(file, readerRes) {\n        console.log(\"obj upppp\");\n        console.log(\"uplooad\", file);\n\n        console.log(\"readerres11\", readerRes);\n        let that = this;\n        //this is sending unchecnged file to server for size fixing and base 64 in hook\n        that.setState({\n            image: file,\n            showImage: true,\n            readerRes: readerRes\n        });\n\n\n\n        //this converts to base 64\n        // this.getBase64(file, function (base64Data) {\n        //     console.log(\"aaaaaa callalal\");\n\n        //     console.log(\"base 64 of file is\", base64Data);//here you can have your code which uses base64 for its operation,//file to base64 by oneshubh\n        //     that.setState({\n        //         image: base64Data,\n        //         showImage: true\n        //     });\n        // });\n\n\n        return \"good\";\n    }\n    getBase64(file, callback) {\n\n        const reader = new FileReader();\n\n        reader.addEventListener('load', () => callback(reader.result));\n\n        reader.readAsDataURL(file);\n    }\n\n    handleShow(e) {\n        console.log(\" handleshow\");\n        this.setState({ sho: true });//!this.state.showA\n    }\n    handleClose(e) {\n        console.log(\" hand clo: \");\n        try {\n            console.log(\" handleclose: \", e.target.id);\n            this.setState({ sho: false });//!this.state.showA\n            if (e.target.id === \"back\") {\n                this.props.history.push('/mypage');\n\n            }\n        }catch(err){\n            console.log(\"err\");\n        }\n    }\n\n    handleChangew(e) {\n        console.log(\"Asdf333355\");\n\n        // console.log(\"111\",this.props);\n        console.log(\"111 id: \", e.target.id)\n\n        console.log(\"111 val: \", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        // if (e.target.value === '') {\n        //     console.log(\"trying\", e.target.value);\n        //     this.handleEmptySubmit();\n        // }\n    }\n    handleSubmitw(e) {\n        console.log(\"lend obejct forom listSomething: \", this.state.lendobject);\n        //  console.log(\"22a\",isEmpty);\n\n        e.preventDefault();\n\n\n\n\n        const lendobject = this.state.lendobject.trim();\n        const lenddesc = this.state.lenddesc.trim();\n        const lendprice = this.state.lendprice.trim();\n        const location = this.state.location.trim();\n        const reqdep = this.state.reqdep.trim();\n        // const image = this.state.image;\n        // const image = 'temp';\n\n        // console.log('aa', lendobject);\n        // console.log('image from handsum', image);\n        let that = this;\n        console.log(\"readerres22\", this.state.readerRes);\n\n        //do a acheck on state.readerResult\n        if (this.state.readerRes) {\n            var upload = uploadService\n                .create({ uri: this.state.readerRes })\n                .then(function (response) {\n                    // success\n                    // alert('UPLOADED!! ');\n                    console.log('Server responded with: ', response);\n\n                    const image = response.id;\n                    //TODO get response from abvoe and grab the link\n                    if (lendobject && image) {\n                        crlistings.create({\n                            lendobject, lenddesc, lendprice, location, reqdep, image\n                        }).then(() => {\n                            console.log(\"hi done\");\n                            that.setState({\n                                lendobject: '',\n                                lenddesc: '',\n                                lendprice: '',\n                                location: '',\n                                reqdep: '',\n                                image: '',\n                                showImage: false,\n                                sho: true\n                            });\n\n\n                            // e.target.value= '';\n                        });\n                    } else {\n                        alert('Error creating your listing! ');\n\n                    }\n                });\n        }\n\n    }\n\n\n    componentDidMount() {\n        const crlistings = client.service('crlistings');\n        const users = client.service('users');\n\n\n    }\n\n    // toggleShowA(){ \n    //     setShowA(!showA)\n    // };\n\n    render() {\n        console.log(\"111111\", this.state.lenddesc);\n\n        console.log(\"As2111df\", this.state.lendobject);\n\n        return (\n\n\n\n\n            <div className=\"container center\">\n                <Row><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></Row>\n\n                <Row >\n                    <Col className=\"text-center\">\n                        <h2 className=\"text-center\">List an Item for Rent</h2>\n                    </Col>\n                </Row>\n                <Row><span>&nbsp;&nbsp;</span></Row>\n\n                <Row className=\"justify-content-md-center\">\n                    <Modal show={this.state.sho} onHide={this.handleClose}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>Listing Complete</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body>You've Listed an Item!</Modal.Body>\n                        <Modal.Footer>\n                            <Button className=\"left\" variant=\"secondary\" id=\"back\" onClick={this.handleClose}>\n                                Back To My Listings\n                    </Button>\n                            <Button className=\"right\" variant=\"primary\" id=\"another\" onClick={this.handleClose}>\n                                List Another Item\n                    </Button>\n                        </Modal.Footer>\n                    </Modal>\n                </Row>\n                <Row className=\"justify-content-md-center\">\n                    <Col sm={7}>\n\n\n                        <Form>\n                            <Form.Group controlId=\"lendobject\" >\n                                <Form.Label>Listing Title for Item:</Form.Label>\n                                <Form.Control size=\"sm\" type=\"textzz\" placeholder=\"Enter Title\" onChange={this.handleChangew} value={this.state.lendobject} />\n                                <Form.Text className=\"text-muted\">\n                                    Choose a title that is short but descriptive (ie. Hardtail Trek Mountain Bike).\n                             </Form.Text>\n                            </Form.Group>\n\n\n                            <Form.Group controlId=\"lendprice\"  >\n                                <Form.Label>Price to Rent per Day:</Form.Label>\n                                <Form.Control size=\"sm\" type=\"textc\" placeholder=\"Enter Price\" onChange={this.handleChangew} value={this.state.lendprice} />\n                                {/* <Form.Text className=\"text-muted\">\n                                This is how much .\n                             </Form.Text> */}\n                            </Form.Group>\n                            <Form.Group controlId=\"reqdep\" >\n                                <Form.Label>Amount of Deposit Desired:</Form.Label>\n                                <Form.Control size=\"sm\" type=\"textz\" placeholder=\"Desired Deposit from Renter\" onChange={this.handleChangew} value={this.state.reqdep} />\n\n                            </Form.Group>\n\n                            <Form.Group controlId=\"location\">\n                                <Form.Label>Enter Your Zip Code:</Form.Label>\n                                <Form.Control type=\"texta\" placeholder=\"Enter Zip Code\" onChange={this.handleChangew} value={this.state.location} />\n\n                            </Form.Group>\n\n                            <Form.Group controlId=\"lenddesc\"  >\n                                <Form.Label>Item Description </Form.Label>\n                                <Form.Control as=\"textarea\" rows=\"3\" onChange={this.handleChangew} value={this.state.lenddesc} />\n                            </Form.Group>\n                            {/* <Form.Group controlId=\"formBasicChecbox\">\n                            <Form.Check type=\"checkbox\" label=\"Agree to Terms\" />\n                        </Form.Group> */}\n                            <ImageUpload uploadIt={this.uploadIt} showImage={this.state.showImage} />\n                            <Button variant=\"primary\" type=\"submit\" onClick={this.handleSubmitw}>\n                                Submit\n                        </Button>\n                        </Form>\n                    </Col>\n                </Row>\n\n                {/* <Row className=\"justify-content-md-center\">\n                   \n                    </Row> */}\n\n            </div>\n\n        )\n    }\n\n}\n\nexport default Listsomething;\n\n\n//backup from materialize\n\n{/* <form className=\"col s12 centered\" onSubmit={this.handleSubmitw}>\n                        <div className=\"row centered\">\n                            <div className=\"input-field col s6\">\n                                <input id=\"lendobject\" type=\"text\" className=\"\" onChange={this.handleChangew} value={this.state.lendobject} ></input>\n                                <label htmlFor=\"lendobject\">Title of Item Listing: </label>\n                            </div>\n                        </div>\n\n                        <div className=\"row\">\n                            <div className=\"input-field col s4\">\n                                <input id=\"lendprice\" type=\"text\" className=\"\" onChange={this.handleChangew} value={this.state.lendprice} ></input>\n                                <label htmlFor=\"lendprice\">Price per day: </label>\n                            </div>\n\n                        </div>\n                        <div className=\"row \">\n                            <div className=\"input-field col s6\">\n                                <input id=\"location\" type=\"text\" className=\" \" onChange={this.handleChangew} value={this.state.location} ></input>\n                                <label htmlFor=\"location\">Location of Item: </label>\n                            </div>\n\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"input-field col s10\">\n                                <input id=\"lenddesc\" type=\"text\" className=\" materialize-textarea\" onChange={this.handleChangew} value={this.state.lenddesc} ></input>\n                                <label htmlFor=\"lenddesc\">Description of Item: </label>\n                            </div>\n\n                        </div>\n\n                        <div className=\"row\">\n                            <button className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\" onClick={this.handleShow}>Submit\n                            <i className=\"material-icons right\">cloud</i>\n                            </button>\n                        </div>\n                    </form> */}","import React, { Component, useState } from 'react';\nimport { Modal, Button, Row, Col } from 'react-bootstrap';\n\nconst DetailModal = (props) => {\n  const [show, setShow] = useState(true);\n  console.log(\"ds\", props.props);\n  var history = props.props.history;\n\n\n  const handleClose = (e) => {\n    setShow(false);\n    console.log(history);\n    try {\n        if (e.target.id === \"myTransactions\") {\n          history.push('/transactions');\n\n        } else {\n          history.push('/');\n\n        }\n      \n    } catch (err){\n        console.log(\"errrr\",err);\n        // history.push('/');\n    }\n  };\n  const handleShow = () => setShow(true);\n\n  return (\n    <div>\n\n\n      <Modal show={show} onHide={handleClose}>\n        <Modal.Header closeButton>\n          <Modal.Title>Success!</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>Congrats, You've made your request! Expect a response soon from the lister.</Modal.Body>\n        <Modal.Footer>\n          <Button variant=\"secondary\" id=\"myTransactions\" onClick={handleClose}>\n            My Transactions\n          </Button>\n          <Button variant=\"primary\" id=\"home\" onClick={handleClose}>\n            Home\n          </Button>\n        </Modal.Footer>\n      </Modal>\n    </div>\n  );\n}\nexport default DetailModal;","import React, { Component } from 'react';\nimport client from '../../feathers';\n// import Itemlist from './Itemlist';\nimport { Dropdown, DropdownButton, Button, Row, Col, Form, Container, Image, ListGroup } from 'react-bootstrap';\n// import DayPicker from 'react-day-picker';\nimport DatePicker from 'react-datepicker';\nimport DetailModal from './modals_etc/DetailModal';\n\n\n// import 'react-day-picker/lib/style.css';\nimport zipcodes from 'zipcodes';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport moment from 'moment';\n\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\nconst transacts = client.service('transacts');\nconst uploadService = client.service('uploads');\nconst reader = new FileReader();\n\nclass ItemDetail extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"idddd\", this.props.match.params.id);\n        console.log(\"props\", this.props);\n        console.log(\"mom\", moment.now());\n        const twoWeeksFromNow = new Date();\n        twoWeeksFromNow.setDate(twoWeeksFromNow.getDate() + 90);\n\n        this.state = {\n            id: this.props.match.params.id,\n            // id: 49,  //CHANGE !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n            items: { lendprice: 0, reqdep: '', listerusername: '', listeruserid: '' },\n            initialnotes: '',\n            totalPrice: '1',\n            borrowerId: '',\n            borrowerEmail: '',\n            priceVisible: false,\n            startDate: new Date(),\n            endDate: new Date(),\n            onSuccessfulTransaction: false,\n            datesTaken: [],\n            twoWeeksFromNow: twoWeeksFromNow,\n            maxDate: twoWeeksFromNow,\n            ifVisitorIsLister: false,\n            itemDeleted: false\n        };\n        this.handleChangeStartDate = this.handleChangeStartDate.bind(this);\n\n        this.handleChangeEndDate = this.handleChangeEndDate.bind(this);\n        this.getCityState = this.getCityState.bind(this);\n        this.handleSubmitRent = this.handleSubmitRent.bind(this);\n        this.handleChangeText = this.handleChangeText.bind(this);\n\n        this.figureOutPrice = this.figureOutPrice.bind(this);\n        this.handlePhoto = this.handlePhoto.bind(this);\n        this.toTitleCase = this.toTitleCase.bind(this);\n        this.isStartNotBooked = this.isStartNotBooked.bind(this);\n        this.getEndDates = this.getEndDates.bind(this);\n        this.handleEditDeleteClicks = this.handleEditDeleteClicks.bind(this);\n\n\n\n\n\n\n    }\n    handleEditDeleteClicks(e) {\n        e.preventDefault();\n        console.log(\"click\", e);\n        if (e.target.id == \"edit\") {\n            console.log(\"its edit\");\n            this.props.history.push('/itemedit/' + this.state.items.id);\n\n        } else {\n\n            crlistings.remove(this.state.items.id).then((res) => {\n                console.log(\"removed! \", res);\n                this.setState({\n                    itemDeleted: true\n                });\n\n                setTimeout(function () { //Start the timer\n                    this.props.history.push('/');\n                }.bind(this), 2000)\n\n\n                // props.hist.push('/item/' + item.id, { detail: item });\n\n                // that.setState({\n                //     lendobject: '',\n                // });\n            });\n\n\n        }\n\n\n    }\n\n    handleChangeStartDate(date) {\n        // const date = new Date(date);\n        // console.log(\"dataa\",Date.parse(date));\n        // let dMilli = Date.parse(date);\n        // console.log(\"datxxx\",new Date(dMilli));\n\n\n        let mom = moment(date);\n        let endX = mom.add(1, 'days');\n        console.log(\"endx\", endX);\n\n\n\n\n        this.setState({\n            startDate: date,\n            endDate: endX.toDate()\n        }, () => {\n            this.figureOutPrice();\n        });\n        this.getEndDates(date);\n\n    }\n    handleChangeEndDate(date) {\n        // let dMilli = Date.parse(date);\n        this.setState({\n            endDate: date\n        }, () => {\n            this.figureOutPrice();\n        });\n\n    }\n    figureOutPrice() {\n        // this.setSat\n        var diff = Math.ceil((Date.parse(this.state.endDate) - Date.parse(this.state.startDate)) / 86400000);\n        console.log(\"diff:\", diff);\n        console.log(\"price\", this.state.items.lendprice);\n        if (this.state.items.lendprice) {\n            let total = diff * this.state.items.lendprice;\n            console.log(\"total price:\", total);\n            if (total > 0) {\n                this.setState({\n                    priceVisible: true,\n                    totalPrice: total\n                });\n            } else {\n                this.setState({\n                    priceVisible: false,\n                    totalPrice: \"-\"\n                });\n\n            }\n            return total;\n        }\n        return \"-\"\n\n\n    }\n\n\n    handleSubmitRent(e) {\n        e.preventDefault();\n\n        let prix = this.figureOutPrice();\n        console.log(\"prix\", prix);\n        console.log(\"submittte\", this.state.endDate);\n        let checkoutdate = Date.parse(this.state.startDate);\n        let checkindate = Date.parse(this.state.endDate);\n        let initialnotes = this.state.initialnotes;\n        let finalnotes = '';\n        let im = this.state.items;\n        let reqdep = im.reqdep;\n        let renterusername = im.listerusername;\n        let renteruserid = im.listeruserid;\n        let itemidinrentlib = im.id;\n\n        // this is temp -- maybe should be a hook that checks in to figure out status\n        //OR it just happens/incremented in each step\n        let status = 1; //this is the 1/7 levels of status\n        console.log(\"itemidinrentlib\", itemidinrentlib);\n        console.log(\"renter ussr id\", renteruserid);\n        // let borrowerId = im.borrowerId;\n        // let borrowerEmail = im.borrowerEmail;\n        let totalprice = prix;\n        console.log(\"totla price\", totalprice);\n\n        //send notes and start and end dates\n        let that = this;\n        if (true) {\n            transacts.create({\n                checkoutdate, checkindate, totalprice, initialnotes, finalnotes, reqdep, renterusername, renteruserid, itemidinrentlib, status\n                // lendobject, lenddesc, lendprice, location, reqdep, image\n            }).then((res1) => {\n                console.log(\"what is res\", res1.id);\n                console.log(\"hi done -- submitted transaction\");\n                that.setState({\n                    initialnotes: '',\n                    priceVisible: false,\n                    onSuccessfulTransaction: true\n                });\n\n                // e.target.value= '';\n            })\n                .catch(err => {\n                    console.log(\"error in submit\", err.message);\n                    alert(err.message);\n                    that.setState({\n                        initialnotes: '',\n                        priceVisible: false,\n                        onSuccessfulTransaction: false\n                    });\n                });\n        }\n    }\n    handleChangeText(e) {\n        console.log(\"Asdf333355\");\n        e.preventDefault();\n        // console.log(\"111\",this.props);\n        // console.log(\"111\", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        if (e.target.value === '') {\n        }\n    }\n    async handlePhoto(item) {\n        var image = '';\n\n        return new Promise(async function (resolve, reject) {\n            if (item.image) {\n                await uploadService.get(item.image)      //\"ad418194dae7586f3c33abaeadb9a5076253fdc8bcc279a0aa78590edef342dd.jpeg\"\n                    .then((res) => {\n                        console.log(\"aaa from upload service\");\n                        console.log(\"aaa\", res);\n                        // console.log(\"immmg\", res.uri);\n                        image = res.uri;\n                        resolve(image);\n\n                    }).catch(err => {\n                        console.log(\"errererere getting image probly too long wrong uri\");\n                        var image = '';\n                        resolve(image);\n                    });\n            }\n            resolve(\"\");\n            console.log(\"hi handle photo\");\n        });\n\n    }\n    async componentDidMount() {\n        var that = this;\n        let templisteruserid = '';\n        await crlistings.get(this.state.id)\n            .then(async (cont) => {\n                console.log(\"aaa\");\n                console.log('from await crlistings:', cont);\n\n                let tmpImage = await this.handlePhoto(cont);\n\n                console.log(\"iamge: \", cont.image);\n                let cityTemp = this.getCityState(cont.location);\n                templisteruserid = cont.idfromuser;\n                let tmp3 = { lendobject: this.toTitleCase(cont.lendobject), lenddesc: cont.lenddesc, lendprice: cont.lendprice, id: cont.id, image: tmpImage, reqdep: cont.reqdep, location: cityTemp, listerusername: cont.username, listeruserid: cont.idfromuser };\n\n                console.log(\"object\", tmp3);\n                that.setState({\n                    items: tmp3\n                });\n            })\n            .catch(err => {\n                console.log(\"er3333rere\", err)\n            })\n\n        //getting existing transactions for item\n        console.log(\"getting dates taken\");\n        await transacts.find({\n            query: {\n                $limit: 200,\n                itemidinrentlib: [this.state.id]\n                // renteruserid: [client.get('user')._id]\n                // $sort: {\n                //     lendobject: 1\n                // }\n            }\n        })\n            .then(async (res) => {\n                console.log(\"dates taken\", res);\n                // console.log(\"idddddd2\",this.state.lendprice);\n                let newArr = res.data.map(async (item) => {\n                    console.log(\"inloop\", item.checkoutdate);\n\n                    // let checkoutdate = item.checkoutdate;\n                    // let checkindate = item.checkindate;\n\n                    let checkoutdate = moment(new Date(parseInt(item.checkoutdate, 10)), \"DD-MM-YYYY\");\n                    let checkindate = moment(new Date(parseInt(item.checkindate, 10)), \"DD-MM-YYYY\");\n\n\n                    // let checkoutdate = moment(item.checkoutdate, \"x\").format(\"DD MMM YYYY\") //parse string\n                    // let checkindate = moment(item.checkindate, \"x\").format(\"DD MMM YYYY\") //parse string\n                    // // console.log(checkindate.isSame(checkoutdate, 'date')); // true\n                    console.log(\"mome tru? \", moment('2010-10-20').isSame('2010-10-20'));\n                    // console.log(\"check out\",tmp);\n\n                    // let checkindate = item.checkindate;\n                    return { checkoutdate, checkindate };\n\n                });\n                Promise.all(newArr).then((completed) => {\n                    console.log(\"complllllll\", completed);\n                    // resolve(completed);\n                    console.log(\"done with loop:\", completed);\n                    that.setState({\n                        datesTaken: completed\n                    });\n\n                });\n\n\n                // if (itemsAsRenter) {\n                // that.setState({\n                //     itemsAsRenter\n                // });\n                // }\n\n            })\n            .catch(err => {\n                console.log(\"er3333rere\", err)\n            })\n\n\n        //get the borrower -- current user's credentials - NOT NEEDED\n        let accessTokenMe = '';\n        console.log(\"332223\");\n        var that = this;\n        await client.authenticate().then((res) => {\n            console.log(\"thesss\", res.accessToken);\n            accessTokenMe = res.accessToken;\n            return client.passport.verifyJWT(accessTokenMe);\n        })\n            .then(payload => {\n                console.log('JWT Payload', payload);\n                return client.service('users').get(payload.userId);\n            })\n            .then(user => {\n                client.set('user', user);\n                console.log('Userzzz', client.get('user'));\n                console.log('id', client.get('user')._id);\n                console.log('listeruserid', templisteruserid);\n\n                if (client.get('user')._id === templisteruserid) {\n                    that.setState({\n                        ifVisitorIsLister: true\n                        // borrowerId: client.get('user')._id,\n                        // borrowerEmail: client.get('user').email\n                    });\n                }\n            })\n            .catch(function (error) {\n                console.error('Error authenticating!', error);\n            });\n\n    }\n    toTitleCase(str) {\n        return str.replace(\n            /\\w\\S*/g,\n            function (txt) {\n                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n            }\n        );\n    }\n    isStartNotBooked(date) {\n        // var dateStr = \"Mon Jul 14 00:00:00 EDT 2014\";\n        // var momentDateFormatted = moment(date).format(\"DD-MM-YYYY\");\n        // console.log(\"date: \", moment(date).format(\"DD-MM-YYYY\"));\n        // let day = date.getDay();\n        // var d = new Date(milliseconds);\n\n        //worked!!\n        // console.log(\"aadatea\", moment(date,\"DD-MM-YYYY\").isSame(moment(\"28-09-2019\",\"DD-MM-YYYY\")));\n\n        // return true;\n\n        var passed = this.state.datesTaken.every((item, index, arr) => {\n            // moment(item.checkoutdate, \"x\").format(\"DD MMM YYYY\") //parse string\n\n            console.log(\"index: \", index);\n            // console.log(\"miliz alon\", item.checkoutdate);\n            // console.log(\"millis as mom: \",new Date(parseInt(item.checkindate,10)));\n\n            // console.log(\"date we're checking from calenar: \",moment(date,\"DD-MM-YYYY\"));\n            // console.log(\"date of checkin \",moment(new Date(parseInt(item.checkindate,10)),\"DD-MM-YYYY\"));\n            // console.log(\"date of checkout \",moment(new Date(parseInt(item.checkoutdate,10)),\"DD-MM-YYYY\"));\n\n\n            // console.log(\"aadatea\", moment(date, \"DD-MM-YYYY\").isSame(moment(new Date(parseInt(item.checkindate, 10)), \"DD-MM-YYYY\"), 'day'));\n\n            //good but only check the dates no in betweens\n            // if (moment(date, \"DD-MM-YYYY\").isSame(moment(new Date(parseInt(item.checkindate, 10)), \"DD-MM-YYYY\"), 'day') || moment(date, \"DD-MM-YYYY\").isSame(moment(new Date(parseInt(item.checkoutdate, 10)), \"DD-MM-YYYY\"), 'day')) {\n            //     return false;\n            // } else{\n            //     return true;\n            // }\n            // console.log(\"dates:\",moment(new Date(parseInt(item.checkindate, 10)), \"DD-MM-YYYY\"), moment(new Date(parseInt(item.checkoutdate, 10)), \"DD-MM-YYYY\"));\n            // console.log(\"between? \",moment(date, \"DD-MM-YYYY\").isBetween(moment(new Date(parseInt(item.checkoutdate, 10)), \"DD-MM-YYYY\"), moment(new Date(parseInt(item.checkindate, 10)), \"DD-MM-YYYY\")));\n\n            if (moment(date, \"DD-MM-YYYY\").isBetween(item.checkoutdate, item.checkindate)) {\n                console.log(\"fffffas\");\n                return false;\n            } else {\n                console.log(\"truuuuu\");\n                return true;\n            }\n\n\n\n        });\n        return passed;\n\n        // const day = date.getDay();\n        // return day !== 0 && day !== 6;\n    }\n\n    getEndDates(date) {\n        let mom = moment(date);\n        var endX = mom.add(292, 'days'); // kind of a hack start really far away in time\n\n        let earliestCheckout = endX;\n        console.log(\"earliest chekcou\", earliestCheckout);\n        this.state.datesTaken.forEach((item, index, arr) => {\n            console.log(\"index: \", index);\n\n            // console.log(\"millis as mom: \",new Date(parseInt(item.checkindate,10)));\n            // console.log(\"date we're checking from calenar: \",moment(date,\"DD-MM-YYYY\"));\n            // console.log(\"date of checkin \",moment(new Date(parseInt(item.checkindate,10)),\"DD-MM-YYYY\"));\n            // console.log(\"date of checkout \",moment(new Date(parseInt(item.checkoutdate,10)),\"DD-MM-YYYY\"));\n            // console.log(\"aadatea\", moment(date, \"DD-MM-YYYY\").isSame(moment(new Date(parseInt(item.checkindate, 10)), \"DD-MM-YYYY\"), 'day'));\n            console.log(\"dddd\", moment(date));\n            console.log(\"check out datae ind\", index, item.checkoutdate);\n            if (moment(date, \"DD-MM-YYYY\").isBefore(item.checkoutdate, 'day')) {\n                console.log(\"hiii if\");\n                if (item.checkoutdate.isBefore(earliestCheckout)) {\n                    earliestCheckout = item.checkoutdate;\n                    console.log(\"afger true\", earliestCheckout);\n                }\n            } else {\n                console.log(\"elsese in end date\");\n                // return true;\n            }\n        });\n\n\n        // let mom = moment(date);\n        // var endX = mom.add(2, 'days'); //.endOf('day');\n        console.log(\"endx\", earliestCheckout);\n\n        this.setState({\n            maxDate: ''\n        });\n        this.setState({\n            // maxDate: endX.toDate()\n            maxDate: earliestCheckout.toDate()\n        });\n    }\n\n    getCityState(location) {\n\n        console.log(\"lcoation\", location);\n        var cityState = { city: 'city', state: 'state' }; //placeholder text for missing entries\n        try {\n            if (location) {\n                if (location.length === 5 && location.match(/^[0-9]+$/) != null) {\n                    let goo = zipcodes.lookup(location);\n                    if (goo) {\n                        console.log(\"goooo\", goo.city);\n                        cityState.city = goo.city;\n                        cityState.state = goo.state;\n                    }\n                }\n            }\n        } catch (error) {\n            console.log(\"erro in zip\", error);\n            cityState = { city: 'bad', state: 'bad' };\n        }\n        console.log(\"heres zip\", cityState);\n        let cityStateString = cityState.city + \", \" + cityState.state;\n        return cityStateString;\n    }\n    render() {\n        // let goo = this.props;\n        // console.log(\"succesful?\", this.state.onSuccessfulTransaction);\n        console.log(\"endate\", this.state.maxDate);\n        return (\n            <Container className=\"maincont\">\n                {this.state.itemDeleted\n                    ? <h4 className=\"text-center linkText\">Item Deleted!</h4>\n                    : null\n\n                }\n                {this.state.onSuccessfulTransaction\n                    ? <DetailModal props={this.props} />\n                    : null\n\n                }\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                <Row >\n                    <Col>\n                        <h1 className=\"text-center\">{this.state.items.lendobject}</h1>\n                    </Col>\n                </Row>\n                {/* <Row className=\" justify-content-md-center\">\n                        <Col className=\"block-example border border-dark text-center\" sm={4}>\n                            This is your item: <span id=\"edit\" onClick={this.handleEditDeleteClicks}>Edit</span> / <span id=\"delete\" onClick={this.handleEditDeleteClicks}>Delete</span>\n\n\n                        </Col>\n                    </Row> */}\n                {this.state.ifVisitorIsLister\n                    ? <Row className=\" justify-content-md-center\">\n                        <Col className=\"block-example border border-dark text-center\" sm={6}>\n                            This is your item: <a href=\"true\" id=\"edit\" onClick={this.handleEditDeleteClicks}>Edit</a> / <a href=\"true\" id=\"delete\" onClick={this.handleEditDeleteClicks}>Delete</a>\n\n\n                            {/* <span ></span> */}\n\n                        </Col>\n                    </Row>\n                    : null\n\n                }\n\n\n                <Row className=\" justify-content-md-center\" id=\"detailRow\">\n                    <Col className=\"lg={2}\">\n                        <Row className=\"justify-content-md-center \">\n                            {/* <Image src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/f/f4/John_Deere_lawn_mower.JPG/800px-John_Deere_lawn_mower.JPG\" fluid /> */}\n                            <Image src={this.state.items.image} fluid />\n\n                        </Row>\n                        <Row>\n                            <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                        </Row>\n                        <Row className=\" justify-content-md-center \">\n\n\n\n\n                            <ListGroup variant=\"flush\" >\n                                {/* <ListGroup.Item><h1 className=\"text-center\">{this.state.items.lendobject}</h1></ListGroup.Item> */}\n\n                                <ListGroup.Item><strong>Price per day</strong>: ${this.state.items.lendprice}</ListGroup.Item>\n                                <ListGroup.Item><strong>Required Deposit</strong>: ${this.state.items.reqdep}</ListGroup.Item>\n\n                                <ListGroup.Item><strong>Location</strong>: {this.state.items.location}</ListGroup.Item>\n\n                                <ListGroup.Item><strong>Description</strong>: {this.state.items.lenddesc}</ListGroup.Item>\n                            </ListGroup>\n\n                        </Row>\n                        <Row>\n                            <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                        </Row>\n                        <Row className=\" justify-content-md-center \">\n                            <Col >\n\n                                <ListGroup variant=\"flush\" >\n\n                                    <ListGroup.Item className=\" goo\"> <strong>Lister Username:</strong> {this.state.items.listerusername}</ListGroup.Item>\n\n                                    {/* <ListGroup.Item className=\" goo\"><strong>Username</strong>: {this.state.items.username}</ListGroup.Item> */}\n                                    <ListGroup.Item className=\" goo\"><strong>Located</strong>: {this.state.items.location}</ListGroup.Item>\n                                    <ListGroup.Item className=\" goo\"><strong>Reputation</strong>: temp rep</ListGroup.Item>\n                                </ListGroup>\n                            </Col>\n                        </Row>\n                    </Col>\n                    {!this.state.ifVisitorIsLister\n                        ? <Col className=\" lg={2}\">\n                            <Row><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></Row>\n                            <Row className=\"justify-content-md-center \"><h2 >Request It</h2></Row>\n                            <Row></Row>\n\n                            <Row className=\"justify-content-md-center \">\n                                <Form>\n                                    {/* <Form.Group controlId=\"exampleForm.ControlInput1\">\n                                    <Form.Label>Email address</Form.Label>\n                                    <Form.Control type=\"email\" placeholder=\"name@example.com\" />\n                                </Form.Group> */}\n                                    {/* <Form.Group controlId=\"exampleForm.ControlSelect1\">\n                            <Form.Label>Example select</Form.Label>\n                            <Form.Control as=\"select\">\n                                <option>1</option>\n                                <option>2</option>\n                                <option>3</option>\n                                <option>4</option>\n                                <option>5</option>\n                            </Form.Control>\n                        </Form.Group> */}\n\n                                    <Form.Group onSubmit={this.handleSubmitRent}>\n                                        <Form.Label>Proposed Meeting Time and Location:</Form.Label>\n                                        <Form.Control as=\"textarea\" id=\"initialnotes\" rows=\"3\" onChange={this.handleChangeText} value={this.state.initialnotes} />\n                                    </Form.Group>\n                                </Form>\n                            </Row>\n\n                            <Row className=\" justify-content-md-center\">\n\n                                <div className=\"prev-wrap\">\n                                    <Form inline className=\"dateForms\">\n                                        <Form.Label className=\"datez\">Rental Starts </Form.Label>\n\n                                        <DatePicker\n                                            selected={this.state.startDate}\n                                            onChange={date => this.handleChangeStartDate(date)}\n                                            selectsStart\n                                            // excludeDates={[new Date(), subDays(new Date(), 1)]}\n                                            // filterDate={(date) => {\n                                            //     return moment() > date;\n                                            // }}\n                                            filterDate={this.isStartNotBooked}\n                                            startDate={this.state.startDate}\n                                            endDate={this.state.endDate}\n                                            // maxDate={addDays(new Date(), 185)}\n                                            maxDate={this.state.twoWeeksFromNow}\n\n                                            showTimeSelect\n                                            dateFormat=\"MMMM d, yyyy h:mmaa\"\n                                        />\n                                    </Form>\n                                </div>\n\n                                {/* <span>&nbsp;&nbsp;</span> */}\n\n                                <div className=\"prev-wrap\">\n                                    <Form inline>\n                                        <Form.Label className=\"datez\">Rental Ends </Form.Label>\n\n                                        <DatePicker\n                                            selected={this.state.endDate}\n                                            onChange={date => this.handleChangeEndDate(date)}\n                                            selectsEnd\n                                            endDate={this.state.endDate}\n                                            minDate={this.state.startDate}\n                                            // maxDate={this.state.maxDate}\n                                            maxDate={this.state.maxDate}\n\n                                            showTimeSelect\n                                            dateFormat=\"MMMM d, yyyy h:mmaa\"\n                                        />\n                                    </Form>\n                                </div>\n\n                            </Row>\n                            {this.state.priceVisible\n                                ? <div className=\" justify-content-md-center\">\n                                    <Row><span>&nbsp;&nbsp;</span></Row>\n\n                                    <Form inline className=\" justify-content-md-center\">\n                                        <Form.Label className=\"datez\"><strong>Estimated Price:</strong> ${this.state.totalPrice}</Form.Label>\n                                    </Form>\n                                </div>\n                                : null\n                            }\n\n                            <Row><span>&nbsp;&nbsp;</span></Row>\n\n                            <Row className=\" justify-content-md-center\">\n                                <Button variant=\"primary\" onClick={this.handleSubmitRent} >Request Item</Button>\n\n                            </Row>\n                        </Col>\n                        : null\n                    }\n                </Row>\n            </Container>\n        );\n    }\n\n}\n\nexport default ItemDetail;","import React, { Component, useState } from 'react';\nimport { Link, NavLink } from 'react-router-dom';\n\nimport client from '../../feathers';\n\nimport ImageUpload from './utilities/ImageUpload';\n\n\nimport 'react-materialize';\nimport { Dropdown, DropdownButton, Row, Col, Toast, Button, Modal, Form } from 'react-bootstrap';\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\nconst uploadService = client.service('uploads');\n\nclass ItemEdit extends Component {\n    constructor(props) {\n        console.log(\"Asdf\");\n\n        super(props);\n\n        console.log(\"idddd\", this.props.match.params.id);\n        this.state = {\n            idOfItemToEdit: this.props.match.params.id,\n            lendobject: '',\n            lenddesc: '',\n            lendprice: '',\n            location: '',\n            reqdep: '',\n            sho: false,\n            image: '',\n            showImage: true,\n            readerRes: ''\n        };\n        this.handleChangew = this.handleChangew.bind(this);\n        this.handleSubmitw = this.handleSubmitw.bind(this);\n        // this.toggleShowA = this.toggleShowA.bind(this);\n        this.handleShow = this.handleShow.bind(this);\n        this.handleClose = this.handleClose.bind(this);\n        this.uploadIt = this.uploadIt.bind(this);\n        this.getBase64 = this.getBase64.bind(this);\n        this.handlePhoto = this.handlePhoto.bind(this);\n\n\n        console.log(\"Assdfdf\");\n\n    }\n\n    async uploadIt(file, readerRes) {\n        console.log(\"obj upppp\");\n        console.log(\"uplooad\", file);\n\n        console.log(\"readerres11\", readerRes);\n        let that = this;\n        //this is sending unchecnged file to server for size fixing and base 64 in hook\n        that.setState({\n            image: file,\n            showImage: true,\n            readerRes: readerRes\n        });\n\n\n\n        //this converts to base 64\n        // this.getBase64(file, function (base64Data) {\n        //     console.log(\"aaaaaa callalal\");\n\n        //     console.log(\"base 64 of file is\", base64Data);//here you can have your code which uses base64 for its operation,//file to base64 by oneshubh\n        //     that.setState({\n        //         image: base64Data,\n        //         showImage: true\n        //     });\n        // });\n\n\n        return \"good\";\n    }\n    getBase64(file, callback) {\n\n        const reader = new FileReader();\n\n        reader.addEventListener('load', () => callback(reader.result));\n\n        reader.readAsDataURL(file);\n    }\n\n    handleShow(e) {\n        console.log(\" handleshow\");\n        this.setState({ sho: true });//!this.state.showA\n    }\n    handleClose(e) {\n        console.log(\" hand clo: \");\n\n        console.log(\" handleclose: \", e.target.id);\n        this.setState({ sho: false });//!this.state.showA\n        if (e.target.id === \"back\") {\n            this.props.history.push('/mypage');\n\n        }\n    }\n\n    handleChangew(e) {\n        console.log(\"Asdf333355\");\n\n        // console.log(\"111\",this.props);\n        console.log(\"111 id: \", e.target.id)\n\n        console.log(\"111 val: \", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        // if (e.target.value === '') {\n        //     console.log(\"trying\", e.target.value);\n        //     this.handleEmptySubmit();\n        // }\n    }\n    handleSubmitw(e) {\n        console.log(\"lend obejct forom ItemEdit: \", this.state.lendobject);\n        //  console.log(\"22a\",isEmpty);\n\n        e.preventDefault();\n        const lendobject = this.state.lendobject.trim();\n        const lenddesc = this.state.lenddesc.trim();\n        const lendprice = this.state.lendprice.trim();\n        const location = this.state.location.trim();\n        const reqdep = this.state.reqdep.trim();\n        // const image = this.state.image;\n        // const image = 'temp';\n\n        // console.log('aa', lendobject);\n        // console.log('image from handsum', image);\n        let that = this;\n        console.log(\"readerres22\", this.state.readerRes);\n\n        //do a acheck on state.readerResult\n        if (this.state.readerRes) {\n            var upload = uploadService\n                .create({ uri: this.state.readerRes })\n                .then(function (response) {\n                    // success\n                    // alert('UPLOADED!! ');\n                    console.log('Server responded with: ', response);\n\n                    const image = response.id;\n                    //TODO get response from abvoe and grab the link\n                    if (lendobject && image) {\n                        console.log(\"ididid of thing to edit:\",that.state.idOfItemToEdit);\n                        let tmp3 = {lendobject, lenddesc, lendprice, location, reqdep, image};\n                        crlistings.patch(that.state.idOfItemToEdit,tmp3 ).then(() => {\n                            console.log(\"hi done\");\n                            that.setState({\n                                lendobject: '',\n                                lenddesc: '',\n                                lendprice: '',\n                                location: '',\n                                reqdep: '',\n                                image: '',\n                                showImage: false,\n                                sho: true\n                            });\n\n\n                            // e.target.value= '';\n                        });\n                    } else {\n                        alert('Error creating your listing! ');\n\n                    }\n                });\n        }\n\n    }\n    async handlePhoto(item) {\n        var image = '';\n\n        return new Promise(async function (resolve, reject) {\n            if (item.image) {\n                await uploadService.get(item.image)      //\"ad418194dae7586f3c33abaeadb9a5076253fdc8bcc279a0aa78590edef342dd.jpeg\"\n                    .then((res) => {\n                        console.log(\"aaa from upload service\");\n                        console.log(\"aaa\", res);\n                        // console.log(\"immmg\", res.uri);\n                        image = res.uri;\n                        resolve(image);\n\n                    }).catch(err => {\n                        console.log(\"errererere getting image probly too long wrong uri\");\n                        var image = '';\n                        resolve(image);\n                    });\n            }\n            resolve(\"\");\n            console.log(\"hi handle photo\");\n        });\n\n    }\n\n    async componentDidMount() {\n        const crlistings = client.service('crlistings');\n        const users = client.service('users');\n        console.log(\"item id in mount:\", this.state.idOfItemToEdit);\n        var that = this;\n        if (this.state.idOfItemToEdit) {\n            await crlistings.get(this.state.idOfItemToEdit)\n                .then(async (cont) => {\n                    console.log(\"aaa\");\n                    console.log('from await crlistings:', cont);\n\n                    let tmpImage = await this.handlePhoto(cont);\n                    console.log(\"temp image mm\",tmpImage);\n                    console.log(\"iamge: \", cont.image);\n                    // let cityTemp = this.getCityState(cont.location);\n\n\n\n                    that.setState({\n                        lendobject: cont.lendobject,\n                        lenddesc: cont.lenddesc,\n                        lendprice: cont.lendprice,\n                        reqdep: cont.reqdep,\n                        location: cont.location,\n                        showImage: true,\n                        readerRes: tmpImage\n                    });\n\n\n                    // let tmp3 = {\n                    // lendobject: cont.lendobject,\n                    // lenddesc: cont.lenddesc,\n                    // lendprice: cont.lendprice,\n                    //     // id: cont.id, \n                    //     readerRes: tmpImage,\n                    // reqdep: cont.reqdep,\n                    // location: cont.location,\n                    //     showImage: true\n                    // };\n\n                    // console.log(\"object\", tmp3);\n                    // that.setState({\n                    //     items: tmp3\n                    // });\n                })\n                .catch(err => {\n                    console.log(\"er3333rere\", err)\n                })\n\n        }\n    }\n\n    // toggleShowA(){ \n    //     setShowA(!showA)\n    // };\n\n    render() {\n        // console.log(\"111111\", this.state.readerRes);\n\n        // console.log(\"As2111df\", this.state.lendobject);\n\n        return (\n\n\n\n\n            <div className=\"container center\">\n                <Row><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></Row>\n\n                <Row >\n                    <Col style={{ \"justify-content\": \"center\" }}>\n                        <h2 className=\"text-center\">Edit Your Item</h2>\n                    </Col>\n                </Row>\n                <Row><span>&nbsp;&nbsp;</span></Row>\n\n                <Row className=\"justify-content-md-center\">\n                    <Modal show={this.state.sho} onHide={this.handleClose}>\n                        <Modal.Header closeButton>\n                            <Modal.Title>Listing Complete</Modal.Title>\n                        </Modal.Header>\n                        <Modal.Body>You've Edited an Item!</Modal.Body>\n                        <Modal.Footer>\n                            <Button className=\"left\" variant=\"secondary\" id=\"back\" onClick={this.handleClose}>\n                                Back To My Listings\n                    </Button>\n                            <Button className=\"right\" variant=\"primary\" id=\"another\" onClick={this.handleClose}>\n                                List Another Item\n                    </Button>\n                        </Modal.Footer>\n                    </Modal>\n                </Row>\n                <Row className=\"justify-content-md-center\">\n                    <Col sm={7}>\n\n\n                        <Form>\n                            <Form.Group controlId=\"lendobject\" >\n                                <Form.Label>Listing Title for Item:</Form.Label>\n                                <Form.Control size=\"sm\" type=\"textzz\" placeholder=\"Enter Title\" onChange={this.handleChangew} value={this.state.lendobject} />\n                                <Form.Text className=\"text-muted\">\n                                    Choose a title that is short but descriptive (ie. Hardtail Trek Mountain Bike).\n                             </Form.Text>\n                            </Form.Group>\n\n\n                            <Form.Group controlId=\"lendprice\"  >\n                                <Form.Label>Price to Rent per Day:</Form.Label>\n                                <Form.Control size=\"sm\" type=\"textc\" placeholder=\"Enter Price\" onChange={this.handleChangew} value={this.state.lendprice} />\n                                {/* <Form.Text className=\"text-muted\">\n                                This is how much .\n                             </Form.Text> */}\n                            </Form.Group>\n                            <Form.Group controlId=\"reqdep\" >\n                                <Form.Label>Amount of Deposit Desired:</Form.Label>\n                                <Form.Control size=\"sm\" type=\"textz\" placeholder=\"Desired Deposit from Renter\" onChange={this.handleChangew} value={this.state.reqdep} />\n\n                            </Form.Group>\n\n                            <Form.Group controlId=\"location\">\n                                <Form.Label>Enter Your Zip Code:</Form.Label>\n                                <Form.Control type=\"texta\" placeholder=\"Enter Zip Code\" onChange={this.handleChangew} value={this.state.location} />\n\n                            </Form.Group>\n\n                            <Form.Group controlId=\"lenddesc\"  >\n                                <Form.Label>Item Description </Form.Label>\n                                <Form.Control as=\"textarea\" rows=\"3\" onChange={this.handleChangew} value={this.state.lenddesc} />\n                            </Form.Group>\n                            {/* <Form.Group controlId=\"formBasicChecbox\">\n                            <Form.Check type=\"checkbox\" label=\"Agree to Terms\" />\n                        </Form.Group> */}\n                            <ImageUpload uploadIt={this.uploadIt} imageAlready={true} existingImage={this.state.readerRes} showImage={this.state.showImage} />\n                            <Button variant=\"primary\" type=\"submit\" onClick={this.handleSubmitw}>\n                                Submit\n                        </Button>\n                        </Form>\n                    </Col>\n                </Row>\n\n                {/* <Row className=\"justify-content-md-center\">\n                   \n                    </Row> */}\n\n            </div>\n\n        )\n    }\n\n}\n\nexport default ItemEdit;\n\n\n//backup from materialize\n\n{/* <form className=\"col s12 centered\" onSubmit={this.handleSubmitw}>\n                        <div className=\"row centered\">\n                            <div className=\"input-field col s6\">\n                                <input id=\"lendobject\" type=\"text\" className=\"\" onChange={this.handleChangew} value={this.state.lendobject} ></input>\n                                <label htmlFor=\"lendobject\">Title of Item Listing: </label>\n                            </div>\n                        </div>\n\n                        <div className=\"row\">\n                            <div className=\"input-field col s4\">\n                                <input id=\"lendprice\" type=\"text\" className=\"\" onChange={this.handleChangew} value={this.state.lendprice} ></input>\n                                <label htmlFor=\"lendprice\">Price per day: </label>\n                            </div>\n\n                        </div>\n                        <div className=\"row \">\n                            <div className=\"input-field col s6\">\n                                <input id=\"location\" type=\"text\" className=\" \" onChange={this.handleChangew} value={this.state.location} ></input>\n                                <label htmlFor=\"location\">Location of Item: </label>\n                            </div>\n\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"input-field col s10\">\n                                <input id=\"lenddesc\" type=\"text\" className=\" materialize-textarea\" onChange={this.handleChangew} value={this.state.lenddesc} ></input>\n                                <label htmlFor=\"lenddesc\">Description of Item: </label>\n                            </div>\n\n                        </div>\n\n                        <div className=\"row\">\n                            <button className=\"btn waves-effect waves-light\" type=\"submit\" name=\"action\" onClick={this.handleShow}>Submit\n                            <i className=\"material-icons right\">cloud</i>\n                            </button>\n                        </div>\n                    </form> */}","import React, { Component } from 'react';\nimport client from '../../feathers';\n// import Itemlist from './Itemlist';\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\n// import DayPicker from 'react-day-picker';\nimport DatePicker from 'react-datepicker';\nimport DetailModal from './modals_etc/DetailModal';\nimport OverlayMe from './modals_etc/OverlayMe';\n\nimport StatusPopover from './utilities/StatusPopover';\n\n\n\n// import 'react-day-picker/lib/style.css';\nimport zipcodes from 'zipcodes';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport moment from 'moment';\n\n\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\nconst transacts = client.service('transacts');\nconst uploadService = client.service('uploads');\nconst reader = new FileReader();\n\nclass TransactionDetails extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"idddd\", this.props.match.params.id);\n        console.log(\"props\", props);\n        const twoWeeksFromNow = new Date();\n        twoWeeksFromNow.setDate(twoWeeksFromNow.getDate() + 90);\n\n        this.state = {\n            id: this.props.match.params.id,\n            // id: 49,  //CHANGE !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n            transactDetails: {},\n            items: { lendprice: 0, reqdep: '', listerusername: '', listeruserid: '' },\n            initialnotes: '',\n            totalPrice: '1',\n            borrowerId: '',\n            borrowerEmail: '',\n            priceVisible: false,\n            startDate: new Date(),\n            endDate: new Date(),\n            onSuccessfulTransaction: false,\n            datesTaken: [],\n            twoWeeksFromNow: twoWeeksFromNow,\n            maxDate: twoWeeksFromNow,\n            showSwitch: true,\n            listerOrBorrower: \"Lister\"\n        };\n        this.handleChangeStartDate = this.handleChangeStartDate.bind(this);\n        this.handleChangeEndDate = this.handleChangeEndDate.bind(this);\n        this.getCityState = this.getCityState.bind(this);\n        this.handleSubmitRent = this.handleSubmitRent.bind(this);\n        this.handleChangeText = this.handleChangeText.bind(this);\n        this.figureOutPrice = this.figureOutPrice.bind(this);\n        this.handlePhoto = this.handlePhoto.bind(this);\n        this.toTitleCase = this.toTitleCase.bind(this);\n        this.isStartNotBooked = this.isStartNotBooked.bind(this);\n        this.getEndDates = this.getEndDates.bind(this);\n        this.getItemDetails = this.getItemDetails.bind(this);\n        this.handleRequest = this.handleRequest.bind(this);\n        this.finishCallback = this.finishCallback.bind(this);\n\n\n\n\n\n\n    }\n    handleRequest() {\n        console.log(\"handling reuqwest\");\n    }\n\n    handleChangeStartDate(date) {\n        // const date = new Date(date);\n        // console.log(\"dataa\",Date.parse(date));\n        // let dMilli = Date.parse(date);\n        // console.log(\"datxxx\",new Date(dMilli));\n\n\n        let mom = moment(date);\n        let endX = mom.add(1, 'days');\n        console.log(\"endx\", endX);\n\n\n\n\n        this.setState({\n            startDate: date,\n            endDate: endX.toDate()\n        }, () => {\n            this.figureOutPrice();\n        });\n        this.getEndDates(date);\n\n    }\n    handleChangeEndDate(date) {\n        // let dMilli = Date.parse(date);\n        this.setState({\n            endDate: date\n        }, () => {\n            this.figureOutPrice();\n        });\n\n    }\n    figureOutPrice() {\n        // this.setSat\n        var diff = Math.ceil((Date.parse(this.state.endDate) - Date.parse(this.state.startDate)) / 86400000);\n        console.log(\"diff:\", diff);\n        console.log(\"price\", this.state.items.lendprice);\n        if (this.state.items.lendprice) {\n            let total = diff * this.state.items.lendprice;\n            console.log(\"total price:\", total);\n            if (total > 0) {\n                this.setState({\n                    priceVisible: true,\n                    totalPrice: total\n                });\n            } else {\n                this.setState({\n                    priceVisible: false,\n                    totalPrice: \"-\"\n                });\n\n            }\n            return total;\n        }\n        return \"-\"\n\n\n    }\n\n    handleSubmitRent(e) {\n        e.preventDefault();\n\n        console.log(\"submmited\");\n\n\n    }\n    handleChangeText(e) {\n        console.log(\"Asdf333355\");\n        e.preventDefault();\n        // console.log(\"111\",this.props);\n        // console.log(\"111\", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        if (e.target.value === '') {\n        }\n    }\n    async handlePhoto(item) {\n        var image = '';\n\n        return new Promise(async function (resolve, reject) {\n            if (item.image) {\n                await uploadService.get(item.image)      //\"ad418194dae7586f3c33abaeadb9a5076253fdc8bcc279a0aa78590edef342dd.jpeg\"\n                    .then((res) => {\n                        console.log(\"aaa from upload service\");\n                        console.log(\"aaa\", res);\n                        // console.log(\"immmg\", res.uri);\n                        image = res.uri;\n                        resolve(image);\n\n                    }).catch(err => {\n                        console.log(\"errererere getting image probly too long wrong uri\");\n                        var image = '';\n                        resolve(image);\n                    });\n            }\n            resolve(\"\");\n            console.log(\"hi handle photo\");\n        });\n\n    }\n    async componentDidMount() {\n        transacts.on('patched', res => {\n            console.log(\"removeeeeed YYYsdsdY\", res);\n\n            //this should be more modular\n            transacts.get(this.state.id)\n                .then(async (res) => {\n                    console.log(\"item from tranacts found:\", res);\n                    var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                    let deets = {\n                        createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                        checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                        checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                        contractid: res.contractid,\n                        deposit: res.deposit,\n                        finalnotes: res.finalnotes,\n                        initialnotes: res.initialnotes,\n                        totalprice: res.totalprice,\n                        status: res.status\n                    };\n                    this.setState({\n                        transactDetails: deets\n                    });\n                    await this.getItemDetails(res);\n                })\n                .catch(err => {\n                    console.log(\"eror in checking transacs\", err)\n                })\n        });\n        var that = this;\n\n\n        //getting existing transactions for item\n        console.log(\"getting dates taken\");\n        await transacts.get(this.state.id)\n            .then(async (res) => {\n                console.log(\"item from tranacts found:\", res);\n                var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                let deets = {\n                    createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                    checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                    checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                    contractid: res.contractid,\n                    deposit: res.deposit,\n                    finalnotes: res.finalnotes,\n                    initialnotes: res.initialnotes,\n                    totalprice: res.totalprice,\n                    status: res.status\n                };\n                this.setState({\n                    transactDetails: deets\n                });\n                await this.getItemDetails(res);\n            })\n            .catch(err => {\n                console.log(\"eror in checking transacs\", err)\n            })\n\n\n\n\n\n    }\n\n    async getItemDetails(item) {\n        let that = this;\n        return new Promise(async function (resolve, reject) {\n            await crlistings.get(item.itemidinrentlib)\n                .then(async (cont) => {\n                    console.log(\"aaa\");\n                    console.log('from await crlistings:', cont);\n\n\n                    console.log(\"iamge: \", cont.image);\n                    let cityTemp = that.getCityState(cont.location);\n\n                    let tmp3 = { lendobject: that.toTitleCase(cont.lendobject), location: cityTemp, lenddesc: cont.lenddesc, lendprice: cont.lendprice, id: cont.id, reqdep: cont.reqdep, listerusername: cont.username, listeruserid: cont.idfromuser };\n\n                    console.log(\"object\", tmp3);\n                    that.setState({\n                        items: tmp3\n                    });\n                })\n                .catch(err => {\n                    console.log(\"er3333rere\", err)\n                })\n        });\n    }\n    toTitleCase(str) {\n        console.log(str);\n        return str.replace(\n            /\\w\\S*/g,\n            function (txt) {\n                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n            }\n        );\n    }\n    isStartNotBooked(date) {\n\n\n        var passed = this.state.datesTaken.every((item, index, arr) => {\n            // moment(item.checkoutdate, \"x\").format(\"DD MMM YYYY\") //parse string\n\n            console.log(\"index: \", index);\n\n            if (moment(date, \"DD-MM-YYYY\").isBetween(item.checkoutdate, item.checkindate)) {\n                console.log(\"fffffas\");\n                return false;\n            } else {\n                console.log(\"truuuuu\");\n                return true;\n            }\n\n\n\n        });\n        return passed;\n\n        // const day = date.getDay();\n        // return day !== 0 && day !== 6;\n    }\n\n    getEndDates(date) {\n        let mom = moment(date);\n        var endX = mom.add(292, 'days'); // kind of a hack start really far away in time\n\n        let earliestCheckout = endX;\n        console.log(\"earliest chekcou\", earliestCheckout);\n        this.state.datesTaken.forEach((item, index, arr) => {\n            console.log(\"index: \", index);\n\n            // console.log(\"millis as mom: \",new Date(parseInt(item.checkindate,10)));\n            // console.log(\"date we're checking from calenar: \",moment(date,\"DD-MM-YYYY\"));\n            // console.log(\"date of checkin \",moment(new Date(parseInt(item.checkindate,10)),\"DD-MM-YYYY\"));\n            // console.log(\"date of checkout \",moment(new Date(parseInt(item.checkoutdate,10)),\"DD-MM-YYYY\"));\n            // console.log(\"aadatea\", moment(date, \"DD-MM-YYYY\").isSame(moment(new Date(parseInt(item.checkindate, 10)), \"DD-MM-YYYY\"), 'day'));\n            console.log(\"dddd\", moment(date));\n            console.log(\"check out datae ind\", index, item.checkoutdate);\n            if (moment(date, \"DD-MM-YYYY\").isBefore(item.checkoutdate, 'day')) {\n                console.log(\"hiii if\");\n                if (item.checkoutdate.isBefore(earliestCheckout)) {\n                    earliestCheckout = item.checkoutdate;\n                    console.log(\"afger true\", earliestCheckout);\n                }\n            } else {\n                console.log(\"elsese in end date\");\n                // return true;\n            }\n        });\n\n\n        // let mom = moment(date);\n        // var endX = mom.add(2, 'days'); //.endOf('day');\n        console.log(\"endx\", earliestCheckout);\n\n        this.setState({\n            maxDate: ''\n        });\n        this.setState({\n            // maxDate: endX.toDate()\n            maxDate: earliestCheckout.toDate()\n        });\n    }\n\n    getCityState(location) {\n\n        console.log(\"lcoation\", location);\n        var cityState = { city: 'city', state: 'state' }; //placeholder text for missing entries\n        try {\n            if (location) {\n                if (location.length === 5 && location.match(/^[0-9]+$/) != null) {\n                    let goo = zipcodes.lookup(location);\n                    if (goo) {\n                        console.log(\"goooo\", goo.city);\n                        cityState.city = goo.city;\n                        cityState.state = goo.state;\n                    }\n                }\n            }\n        } catch (error) {\n            console.log(\"erro in zip\", error);\n            cityState = { city: 'bad', state: 'bad' };\n        }\n        console.log(\"heres zip\", cityState);\n        let cityStateString = cityState.city + \", \" + cityState.state;\n        return cityStateString;\n    }\n\n    //      (Key: 1. Initiated, awaiting owner's response  2. Pending, awaiting borrower's final signature  3. Handshake, awaiting contract in blockchain  4. Official on Blockchain, ready for handoff of item  5. Rental Active, rental item has been picked up  6. Rental Completed, rental has been returned )\n\n    // renderSwitch() {\n    //     let tempVal = 'nothing';\n    //     return (\n    //         <React.Fragment>\n    //             {this.state.showSwitch\n    //                 ? <StageOneLister id={this.state.id} finishCallback={this.finishCallback} />\n    //                 : null\n    //             }\n    //         </React.Fragment>\n    //     )\n    // }\n    // finishCallback() {\n    //     console.log(\"ahahahah\");\n    //     this.setState({ showSwitch: false });\n    // }\n    \n\n    render() {\n        // let goo = this.props;\n        // console.log(\"succesful?\", this.state.onSuccessfulTransaction);\n        // console.log(\"endate\", this.state.maxDate);\n        const ref = React.createRef();\n        return (\n            <Container className=\"maincont\">\n                {this.state.onSuccessfulTransaction\n                    ? <DetailModal props={this.props} />\n                    : null\n\n                }\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                <Row >\n                    <Col>\n                        <h1 className=\"text-center\">Details for {this.state.items.lendobject} Rental</h1>\n\n                        <h5 className=\"text-center\">You are the {this.state.listerOrBorrower}</h5>\n                    </Col>\n                </Row>\n                <Row className=\" justify-content-md-center\" id=\"detailRow\">\n                    <Col className=\"lg={2}\">\n                        {/*                     \n                        <Row>\n                            <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                        </Row> */}\n                        <Row className=\" justify-content-md-center \">\n\n\n\n\n                            <ListGroup variant=\"flush\" >\n                                {/* <ListGroup.Item><h1 className=\"text-center\">{this.state.items.lendobject}</h1></ListGroup.Item> */}\n\n                                <ListGroup.Item className=\"text-center\"><strong>Transaction Status</strong>:<br /> {this.state.transactDetails.status}/7\n                                <StatusPopover />\n                               \n                                </ListGroup.Item>\n\n                                <ListGroup.Item className=\"text-center\"><strong>Deposit for Rental</strong>:  <br />${this.state.transactDetails.deposit}</ListGroup.Item>\n\n                                <ListGroup.Item className=\"text-center\"><strong>Total Price for Rental</strong>: <br /> ${this.state.transactDetails.totalprice}</ListGroup.Item>\n\n                                <ListGroup.Item className=\"text-center\"><strong>Notes from Borrower</strong>:  <br />{this.state.transactDetails.initialnotes}</ListGroup.Item>\n\n                                <ListGroup.Item className=\"text-center\"><strong>Response from Owner</strong>: <br /> {this.state.transactDetails.finalnotes}</ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\"><strong>Rental Start Date</strong>: <br /> {this.state.transactDetails.checkoutdate}</ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\"><strong>Rental End Date</strong>: <br /> {this.state.transactDetails.checkindate}</ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\"><strong>Link to Contract on Blockchain</strong>:  <br />(link)</ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\"><strong>Transaction Initiated at</strong>: <br /> {this.state.transactDetails.createdat}</ListGroup.Item>\n\n\n\n\n\n                            </ListGroup>\n\n                        </Row>\n                        <Row>\n                            <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                        </Row>\n                        <Row className=\" justify-content-md-center \">\n                            <Col >\n\n                                <ListGroup variant=\"flush\" >\n                                <ListGroup.Item className=\" goo\"><strong>ITEM DETAILS</strong></ListGroup.Item>\n\n                                    <ListGroup.Item className=\" goo\"><strong>Item Name:</strong> {this.state.items.lendobject}</ListGroup.Item>\n                                    <ListGroup.Item className=\" goo\"><strong>Item Description</strong>: {this.state.items.lenddesc}</ListGroup.Item>\n\n                                    <ListGroup.Item className=\" goo\"><strong>Price per day</strong>: ${this.state.items.lendprice}</ListGroup.Item>\n                                    <ListGroup.Item className=\" goo\"><strong>Required Deposit</strong>: ${this.state.items.reqdep}</ListGroup.Item>\n                                    <ListGroup.Item className=\" goo\"> <strong>Lister Username:</strong> {this.state.items.listerusername}</ListGroup.Item>\n\n                                    <ListGroup.Item className=\" goo\"><strong>Lister's Location</strong>: {this.state.items.location}</ListGroup.Item>\n\n\n                                </ListGroup>\n                            </Col>\n                        </Row>\n                    </Col>\n                    {/* here we check if its owner and what stage */}\n                    {/* {this.renderSwitch()} */}\n\n\n                </Row>\n            </Container>\n        );\n    }\n\n}\n\n\nexport default TransactionDetails;","\nimport React, { Component } from 'react';\n\nimport { Popover } from 'react-bootstrap';\n\n// const OverlayMe = React.forwardRef((props, ref) => (\n//     <div\n//       // {...props}\n//       // style={{\n//       //   backgroundColor: 'rgba(0, 0, 0, 0.85)',\n//       //   padding: '2px 10px',\n//       //   color: 'white',\n//       //   borderRadius: 3,\n//       //   ...props.style,\n//       // }}\n//     >\n//       Simple tooltip\n//     </div>\n//   ));\n\nclass OverlayMe extends Component {\n  render() {\n  return(\n    \n  <Popover id = \"popover-basic\" >\n      <Popover.Title as=\"h3\">Popover right</Popover.Title>\n      <Popover.Content>\n        And here's some <strong>amazing</strong> content. It's very engaging.\n        right?\n  </Popover.Content>\n  </Popover>\n)}};\n\nexport default OverlayMe;","import React, { Component } from 'react';\nimport client from '../../feathers';\n// import Itemlist from './Itemlist';\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\n// import DayPicker from 'react-day-picker';\nimport DatePicker from 'react-datepicker';\nimport DetailModal from './modals_etc/DetailModal';\nimport OverlayMe from './modals_etc/OverlayMe';\n\nimport StatusPopover from './utilities/StatusPopover';\n\n\n\n// import 'react-day-picker/lib/style.css';\nimport zipcodes from 'zipcodes';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport moment from 'moment';\n\n\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\nconst transacts = client.service('transacts');\nconst uploadService = client.service('uploads');\nconst reader = new FileReader();\n\nclass TransactionDetails extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"idddd\", this.props.match.params.id);\n        console.log(\"props\", props);\n        const twoWeeksFromNow = new Date();\n        twoWeeksFromNow.setDate(twoWeeksFromNow.getDate() + 90);\n\n        this.state = {\n            id: this.props.match.params.id,\n            // id: 49,  //CHANGE !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!\n            transactDetails: {},\n            items: { lendprice: 0, reqdep: '', listerusername: '', listeruserid: '' },\n            initialnotes: '',\n            totalPrice: '1',\n            borrowerId: '',\n            borrowerEmail: '',\n            priceVisible: false,\n            startDate: new Date(),\n            endDate: new Date(),\n            onSuccessfulTransaction: false,\n            datesTaken: [],\n            twoWeeksFromNow: twoWeeksFromNow,\n            maxDate: twoWeeksFromNow,\n            showSwitch: true,\n            listerOrBorrower: this.props.listerOrBorrower\n        };\n        this.handleChangeStartDate = this.handleChangeStartDate.bind(this);\n        this.handleChangeEndDate = this.handleChangeEndDate.bind(this);\n        this.getCityState = this.getCityState.bind(this);\n        this.handleSubmitRent = this.handleSubmitRent.bind(this);\n        this.handleChangeText = this.handleChangeText.bind(this);\n        this.figureOutPrice = this.figureOutPrice.bind(this);\n        this.handlePhoto = this.handlePhoto.bind(this);\n        this.toTitleCase = this.toTitleCase.bind(this);\n        this.isStartNotBooked = this.isStartNotBooked.bind(this);\n        this.getEndDates = this.getEndDates.bind(this);\n        this.getItemDetails = this.getItemDetails.bind(this);\n        this.handleRequest = this.handleRequest.bind(this);\n        // this.renderSwitch = this.renderSwitch.bind(this);\n        // this.finishCallback = this.finishCallback.bind(this);\n        this.resetStatus = this.resetStatus.bind(this);\n        this.setStatusTo = this.setStatusTo.bind(this);\n\n        \n\n\n\n\n\n    }\n    handleRequest() {\n        console.log(\"handling reuqwest\");\n    }\n\n    resetStatus() {\n\n        let tmpDeets = {  status: 1 };\n\n        transacts.patch(this.state.id, tmpDeets).then(() => {\n            console.log(\"hi done reset status\");\n           \n\n        });\n    }\n    setStatusTo() {\n\n        let tmpDeets = {  status: 6 };\n\n        transacts.patch(this.state.id, tmpDeets).then(() => {\n            console.log(\"hi done reset status to 6\");\n           \n\n        });\n    }\n\n    handleChangeStartDate(date) {\n        // const date = new Date(date);\n        // console.log(\"dataa\",Date.parse(date));\n        // let dMilli = Date.parse(date);\n        // console.log(\"datxxx\",new Date(dMilli));\n\n\n        let mom = moment(date);\n        let endX = mom.add(1, 'days');\n        console.log(\"endx\", endX);\n\n\n\n\n        this.setState({\n            startDate: date,\n            endDate: endX.toDate()\n        }, () => {\n            this.figureOutPrice();\n        });\n        this.getEndDates(date);\n\n    }\n    handleChangeEndDate(date) {\n        // let dMilli = Date.parse(date);\n        this.setState({\n            endDate: date\n        }, () => {\n            this.figureOutPrice();\n        });\n\n    }\n    figureOutPrice() {\n        // this.setSat\n        var diff = Math.ceil((Date.parse(this.state.endDate) - Date.parse(this.state.startDate)) / 86400000);\n        console.log(\"diff:\", diff);\n        console.log(\"price\", this.state.items.lendprice);\n        if (this.state.items.lendprice) {\n            let total = diff * this.state.items.lendprice;\n            console.log(\"total price:\", total);\n            if (total > 0) {\n                this.setState({\n                    priceVisible: true,\n                    totalPrice: total\n                });\n            } else {\n                this.setState({\n                    priceVisible: false,\n                    totalPrice: \"-\"\n                });\n\n            }\n            return total;\n        }\n        return \"-\"\n\n\n    }\n\n    handleSubmitRent(e) {\n        e.preventDefault();\n\n        console.log(\"submmited\");\n\n\n    }\n    handleChangeText(e) {\n        console.log(\"Asdf333355\");\n        e.preventDefault();\n        // console.log(\"111\",this.props);\n        // console.log(\"111\", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        if (e.target.value === '') {\n        }\n    }\n    async handlePhoto(item) {\n        var image = '';\n\n        return new Promise(async function (resolve, reject) {\n            if (item.image) {\n                await uploadService.get(item.image)      //\"ad418194dae7586f3c33abaeadb9a5076253fdc8bcc279a0aa78590edef342dd.jpeg\"\n                    .then((res) => {\n                        console.log(\"aaa from upload service\");\n                        console.log(\"aaa\", res);\n                        // console.log(\"immmg\", res.uri);\n                        image = res.uri;\n                        resolve(image);\n\n                    }).catch(err => {\n                        console.log(\"errererere getting image probly too long wrong uri\");\n                        var image = '';\n                        resolve(image);\n                    });\n            }\n            resolve(\"\");\n            console.log(\"hi handle photo\");\n        });\n\n    }\n    async componentDidMount() {\n        transacts.on('patched', res => {\n            console.log(\"removeeeeed YYYsdsdY\", res);\n\n            //this should be more modular\n            transacts.get(this.state.id)\n                .then(async (res) => {\n                    console.log(\"item from tranacts found:\", res);\n                    var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                    let deets = {\n                        createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                        checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                        checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                        contractid: res.contractid,\n                        deposit: res.deposit,\n                        finalnotes: res.finalnotes,\n                        initialnotes: res.initialnotes,\n                        totalprice: res.totalprice,\n                        status: res.status\n                    };\n                    this.setState({\n                        transactDetails: deets\n                    });\n                    await this.getItemDetails(res);\n                })\n                .catch(err => {\n                    console.log(\"eror in checking transacs\", err)\n                })\n        });\n        var that = this;\n\n\n        //getting existing transactions for item\n        console.log(\"getting dates taken\");\n        await transacts.get(this.state.id)\n            .then(async (res) => {\n                console.log(\"item from tranacts found:\", res);\n                var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                let deets = {\n                    createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                    checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                    checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                    contractid: res.contractid,\n                    deposit: res.deposit,\n                    finalnotes: res.finalnotes,\n                    initialnotes: res.initialnotes,\n                    totalprice: res.totalprice,\n                    status: res.status\n                };\n                this.setState({\n                    transactDetails: deets\n                });\n                await this.getItemDetails(res);\n            })\n            .catch(err => {\n                console.log(\"eror in checking transacs\", err)\n            })\n\n\n\n\n\n    }\n\n    async getItemDetails(item) {\n        let that = this;\n        return new Promise(async function (resolve, reject) {\n            await crlistings.get(item.itemidinrentlib)\n                .then(async (cont) => {\n                    console.log(\"aaa\");\n                    console.log('from await crlistings:', cont);\n\n\n                    console.log(\"iamge: \", cont.image);\n                    let cityTemp = that.getCityState(cont.location);\n\n                    let tmp3 = { lendobject: that.toTitleCase(cont.lendobject), location: cityTemp, lenddesc: cont.lenddesc, lendprice: cont.lendprice, id: cont.id, reqdep: cont.reqdep, listerusername: cont.username, listeruserid: cont.idfromuser };\n\n                    console.log(\"object\", tmp3);\n                    that.setState({\n                        items: tmp3\n                    });\n                })\n                .catch(err => {\n                    console.log(\"er3333rere\", err)\n                })\n        });\n    }\n    toTitleCase(str) {\n        console.log(str);\n        return str.replace(\n            /\\w\\S*/g,\n            function (txt) {\n                return txt.charAt(0).toUpperCase() + txt.substr(1).toLowerCase();\n            }\n        );\n    }\n    isStartNotBooked(date) {\n\n\n        var passed = this.state.datesTaken.every((item, index, arr) => {\n            // moment(item.checkoutdate, \"x\").format(\"DD MMM YYYY\") //parse string\n\n            console.log(\"index: \", index);\n\n            if (moment(date, \"DD-MM-YYYY\").isBetween(item.checkoutdate, item.checkindate)) {\n                console.log(\"fffffas\");\n                return false;\n            } else {\n                console.log(\"truuuuu\");\n                return true;\n            }\n\n\n\n        });\n        return passed;\n\n        // const day = date.getDay();\n        // return day !== 0 && day !== 6;\n    }\n\n    getEndDates(date) {\n        let mom = moment(date);\n        var endX = mom.add(292, 'days'); // kind of a hack start really far away in time\n\n        let earliestCheckout = endX;\n        console.log(\"earliest chekcou\", earliestCheckout);\n        this.state.datesTaken.forEach((item, index, arr) => {\n            console.log(\"index: \", index);\n\n            // console.log(\"millis as mom: \",new Date(parseInt(item.checkindate,10)));\n            // console.log(\"date we're checking from calenar: \",moment(date,\"DD-MM-YYYY\"));\n            // console.log(\"date of checkin \",moment(new Date(parseInt(item.checkindate,10)),\"DD-MM-YYYY\"));\n            // console.log(\"date of checkout \",moment(new Date(parseInt(item.checkoutdate,10)),\"DD-MM-YYYY\"));\n            // console.log(\"aadatea\", moment(date, \"DD-MM-YYYY\").isSame(moment(new Date(parseInt(item.checkindate, 10)), \"DD-MM-YYYY\"), 'day'));\n            console.log(\"dddd\", moment(date));\n            console.log(\"check out datae ind\", index, item.checkoutdate);\n            if (moment(date, \"DD-MM-YYYY\").isBefore(item.checkoutdate, 'day')) {\n                console.log(\"hiii if\");\n                if (item.checkoutdate.isBefore(earliestCheckout)) {\n                    earliestCheckout = item.checkoutdate;\n                    console.log(\"afger true\", earliestCheckout);\n                }\n            } else {\n                console.log(\"elsese in end date\");\n                // return true;\n            }\n        });\n\n\n        // let mom = moment(date);\n        // var endX = mom.add(2, 'days'); //.endOf('day');\n        console.log(\"endx\", earliestCheckout);\n\n        this.setState({\n            maxDate: ''\n        });\n        this.setState({\n            // maxDate: endX.toDate()\n            maxDate: earliestCheckout.toDate()\n        });\n    }\n\n    getCityState(location) {\n\n        console.log(\"lcoation\", location);\n        var cityState = { city: 'city', state: 'state' }; //placeholder text for missing entries\n        try {\n            if (location) {\n                if (location.length === 5 && location.match(/^[0-9]+$/) != null) {\n                    let goo = zipcodes.lookup(location);\n                    if (goo) {\n                        console.log(\"goooo\", goo.city);\n                        cityState.city = goo.city;\n                        cityState.state = goo.state;\n                    }\n                }\n            }\n        } catch (error) {\n            console.log(\"erro in zip\", error);\n            cityState = { city: 'bad', state: 'bad' };\n        }\n        console.log(\"heres zip\", cityState);\n        let cityStateString = cityState.city + \", \" + cityState.state;\n        return cityStateString;\n    }\n\n    //      (Key: 1. Initiated, awaiting owner's response  2. Pending, awaiting borrower's final signature  3. Handshake, awaiting contract in blockchain  4. Official on Blockchain, ready for handoff of item  5. Rental Active, rental item has been picked up  6. Rental Completed, rental has been returned )\n\n    // renderSwitch() {\n    //     let tempVal = 'nothing';\n    //     return (\n    //         <React.Fragment>\n    //             {this.state.showSwitch\n    //                 ? <StageOneLister id={this.state.id} finishCallback={this.finishCallback} />\n    //                 : null\n    //             }\n    //         </React.Fragment>\n    //     )\n    // }\n    // finishCallback() {\n    //     console.log(\"ahahahah\");\n    //     this.setState({ showSwitch: false });\n    // }\n    \n\n    render() {\n        // let goo = this.props;\n        // console.log(\"succesful?\", this.state.onSuccessfulTransaction);\n        // console.log(\"endate\", this.state.maxDate);\n        const ref = React.createRef();\n        return (\n            <Container className=\"maincont\">\n                {this.state.onSuccessfulTransaction\n                    ? <DetailModal props={this.props} />\n                    : null\n\n                }\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                <Row >\n                    <Col>\n                        <h1 className=\"text-center\">Details for {this.state.items.lendobject} Rental</h1>\n\n                        <h5 className=\"text-center\">You are the {this.state.listerOrBorrower}</h5>\n                    </Col>\n                </Row>\n                <Row className=\" justify-content-md-center\" id=\"detailRow\">\n                    <Col className=\"lg={2}\">\n                        {/*                     \n                        <Row>\n                            <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                        </Row> */}\n                        <Row className=\" justify-content-md-center \">\n\n\n\n\n                            <ListGroup variant=\"flush\" >\n                                {/* <ListGroup.Item><h1 className=\"text-center\">{this.state.items.lendobject}</h1></ListGroup.Item> */}\n\n                                <ListGroup.Item className=\"text-center\"><strong>Transaction Status</strong>:<br /> {this.state.transactDetails.status}/7\n                                <StatusPopover />\n                               \n                                </ListGroup.Item>\n\n                                <ListGroup.Item className=\"text-center\"><strong>Deposit for Rental</strong>:  <br />${this.state.transactDetails.deposit}</ListGroup.Item>\n\n                                <ListGroup.Item className=\"text-center\"><strong>Total Price for Rental</strong>: <br /> ${this.state.transactDetails.totalprice}</ListGroup.Item>\n\n                                <ListGroup.Item className=\"text-center\"><strong>Notes from Borrower</strong>:  <br />{this.state.transactDetails.initialnotes}</ListGroup.Item>\n\n                                <ListGroup.Item className=\"text-center\"><strong>Response from Owner</strong>: <br /> {this.state.transactDetails.finalnotes}</ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\"><strong>Rental Start Date</strong>: <br /> {this.state.transactDetails.checkoutdate}</ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\"><strong>Rental End Date</strong>: <br /> {this.state.transactDetails.checkindate}</ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\"><strong>Link to Contract on Blockchain</strong>:  <br />(link)</ListGroup.Item>\n                                <ListGroup.Item className=\"text-center\"><strong>Transaction Initiated at</strong>: <br /> {this.state.transactDetails.createdat}</ListGroup.Item>\n\n\n\n\n\n                            </ListGroup>\n\n                        </Row>\n                        <Row>\n                            <span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span>\n                        </Row>\n                        <Row className=\" justify-content-md-center \">\n                            <Col >\n\n                                <ListGroup variant=\"flush\" >\n                                <ListGroup.Item className=\" goo\"><strong>ITEM DETAILS</strong></ListGroup.Item>\n\n                                    <ListGroup.Item className=\" goo\"><strong>Item Name:</strong> {this.state.items.lendobject}</ListGroup.Item>\n                                    <ListGroup.Item className=\" goo\"><strong>Item Description</strong>: {this.state.items.lenddesc}</ListGroup.Item>\n\n                                    <ListGroup.Item className=\" goo\"><strong>Price per day</strong>: ${this.state.items.lendprice}</ListGroup.Item>\n                                    <ListGroup.Item className=\" goo\"><strong>Required Deposit</strong>: ${this.state.items.reqdep}</ListGroup.Item>\n                                    <ListGroup.Item className=\" goo\"> <strong>Lister Username:</strong> {this.state.items.listerusername}</ListGroup.Item>\n\n                                    <ListGroup.Item className=\" goo\"><strong>Lister's Location</strong>: {this.state.items.location}</ListGroup.Item>\n\n\n                                </ListGroup>\n                            </Col>\n                        </Row>\n                    </Col>\n                    <Col>\n                    {this.props.rightPanel}\n                    </Col>\n                    {/* here we check if its owner and what stage */}\n                    {/* {this.renderSwitch()} */}\n\n\n                </Row>\n                <Button onClick={this.resetStatus}>temp--RESEt to STATUS 1</Button>\n                <Button onClick={this.setStatusTo}>temp--RESEt to STATUS 6</Button>\n\n            </Container>\n        );\n    }\n\n}\n\n\nexport default TransactionDetails;","\nimport React, { Component } from 'react';\nimport client from '../../../feathers';\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\nconst transacts = client.service('transacts');\nconst uploadService = client.service('uploads');\n\n\nconst GetBorrowerAndListerIds = async (transId) => {\n    console.log(\"transss id:\",transId);\n    return new Promise(async function (resolve, reject) {\n        await transacts.get(transId)\n            .then(async (res) => {\n                console.log(\"ccc item from tranacts found:\", res);\n                // return res.borroweruserid;\n                //renteruserid\n                // setIdS(res.borroweruserid);\n                console.log(\"bor\",res.borroweruserid);\n                console.log(\"rent\",res.renteruserid);\n\n                let twoIds = {borroweruserid: res.borroweruserid, renteruserid: res.renteruserid, status: res.status};\n                console.log(\"xnxnxnxn\");\n                console.log(\"zz 2 ids\", twoIds);\n                resolve(twoIds);\n            })\n            .catch(err => {\n                console.log(\"eror in checking transacs\", err);\n                // return null;\n                resolve('');\n            })\n\n        console.log(\"booorer id\");\n        resolve('');\n    });\n}\nexport default GetBorrowerAndListerIds;","import React, { Component } from 'react';\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\n\nimport failed from '../../../imgs/failed.png';\n\nexport const StageZero = (props) => {\n    let tempVal = 'nothing';\n    return (\n \n      <div className=\"justify-content-md-center timerr\">\n            <Image src={failed} />\n            <h5 className=\"text-center\">Rental has been cancelled or failed.</h5>\n        </div>\n    )\n  }","// const STATUS = {\n//     \"1. Initiated Pending Owner\":1,\n//     \"2. Initiated Pending Final Agreement\":2,\n//     \"3. Handshake\":3,\n//     \"4. Official on Blockchain\":4,\n//     \"5. Rental Active\":5,\n//     \"6. Rental Completed\":6,\n//     \"911. Rental Failed\":0\n// }\n\nconst STATUS = {\n    \"1. Initiated\":1,\n    \"2. Pending\":2,\n    \"3. Tentative Handshake\":3,\n    \"4. Contract Ready Blockchain\":4,\n    \"5. Contract Started\":5,\n    \"6. Payment Complete / Item Now with Borrower\":6,\n    \"7. Rental Complete / Item Now Back with Lister\":7,\n    \"911. Rental Failed\":911\n}\n\nexport default STATUS;","\nimport React, { Component } from 'react';\nimport client from '../../../feathers';\nimport STATUS from '../utilities/TransStatus';\nimport timer from '../../../imgs/timer.png';\n\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\nconst transacts = client.service('transacts');\n\n\nexport class StageOneLister extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n            finalnotes: ''\n\n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n        this.handleChangeText = this.handleChangeText.bind(this);\n        this.handleSubmitRent = this.handleSubmitRent.bind(this);\n\n\n\n    }\n    handleSubmitRent(e) {\n        e.preventDefault();\n\n        console.log(\"submmited\");\n\n\n    }\n    handleRequest(e) {\n        let that = this;\n        console.log(\"hdanel req id:\", that.props.id);\n        // console.log(\"handling reuqwest\", e);\n        if (e.target.id === \"accept\") {\n            let tmpDeets = { finalnotes: this.state.finalnotes, status: STATUS[\"2. Pending\"] };\n\n            transacts.patch(that.props.id, tmpDeets).then(() => {\n                console.log(\"hi done\");\n                that.setState({\n                    finalnotes: ''\n\n                });\n\n            });\n        } else {\n            console.log(\"rejected\");\n\n            let tmpDeets = { finalnotes: this.state.finalnotes, status: STATUS[\"911. Rental Failed\"] };\n            transacts.patch(that.props.id, tmpDeets).then(() => {\n                console.log(\"hi done\");\n                that.setState({\n                    finalnotes: ''\n\n                });\n\n            });\n        }\n        // alert(\"complete\");\n\n        \n        this.props.finishCallback();\n\n    }\n\n    handleChangeText(e) {\n        console.log(\"Asdf333355\");\n        e.preventDefault();\n        // console.log(\"111\",this.props);\n        // console.log(\"111\", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        if (e.target.value === '') {\n        }\n    }\n\n    componentDidMount() {\n        // transacts.on('patched', res => {\n        //         console.log(\"removeeeeed YYYY\", res);\n        //     });\n    }\n\n    render() {\n        return (\n\n            <Col className=\" lg={2}\">\n                {/* <Row><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></Row> */}\n                <Row className=\"justify-content-md-center \"><h3 className=\"text-center\">Respond to Request from Borrower</h3></Row>\n                <Row></Row>\n\n                {/* check if action is needed -- IF SO do these */}\n\n\n                <Row className=\"justify-content-md-center \">\n                    <p className=\"text-center\">Review the transaction details (such as dates, price and deposit). </p>\n                    <Form>\n\n\n\n                        <Form.Group onSubmit={this.handleSubmitRent}>\n                            <Form.Label className=\"text-center\">If you approve, list a location and exact time to meet with borrower to handoff item below:</Form.Label>\n                            <Form.Control as=\"textarea\" id=\"finalnotes\" rows=\"3\" onChange={this.handleChangeText} value={this.state.finalnotes} />\n                        </Form.Group>\n                    </Form>\n                </Row>\n\n                {/* ALSO include option to change time OR maybe just have user rent by day -- ??*/}\n\n                {/* EVENTually include a map to pinpoint location */}\n\n\n                <Row className=\"justify-content-md-center \">\n                    <Col className=\"justify-content-md-center  text-center buttonDiv\">\n                        <Button variant=\"primary\" onClick={this.handleRequest} id=\"accept\" >Accept Request</Button>\n\n                        <Button variant=\"secondary\" onClick={this.handleRequest} id=\"reject\">Reject Request</Button>\n                        {/* do check to make sure theres text */}\n                    </Col></Row>\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                {/* status: {STATUS.} */}\n            </Col>\n        )\n    };\n}\n\nexport const StageOneBorrower = (props) => {\n    let tempVal = 'nothing';\n    return (\n        <div className=\"justify-content-md-center timerr\">\n            <Image src={timer} />\n            <h5 className=\"text-center\">Waiting for response from item's lister.</h5>\n        </div>\n    )\n}\n\n// export default StageOneLister;","\nimport React, { Component } from 'react';\nimport client from '../../../feathers';\nimport STATUS from '../utilities/TransStatus';\n\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\nimport moment from 'moment';\nimport timer from '../../../imgs/timer.png';\nconst transacts = client.service('transacts');\n\n\nexport class StageTwoBorrower extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n            // finalnotes: ''\n            transactDetails: {}\n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n        this.handleChangeText = this.handleChangeText.bind(this);\n        this.handleSubmitRent = this.handleSubmitRent.bind(this);\n\n\n\n    }\n    handleSubmitRent(e) {\n        e.preventDefault();\n\n        console.log(\"submmited\");\n\n\n    }\n\n    //TODO sloppy having this here -- put in userdrivenroute in its own muodule\n    //and pass as a callback prop function to child\n\n    async handleRequest(e) {\n        let that = this;\n        console.log(\"hdanel req id:\", that.props.id);\n        // console.log(\"handling reuqwest\", e);\n        try {\n            if (e.target.id === \"accept\") {\n                this.props.longOpFirstAddToBlockchain();\n                //if patch sucesssful\n                // let tmpDeets = { status: STATUS[\"3. Handshake\"] };\n\n                // transacts.patch(that.props.id, tmpDeets).then(() => {\n                //     console.log(\"hi done\");\n\n\n                // });\n            } else {\n                console.log(\"rejected\");\n\n                let tmpDeets = { status: STATUS[\"911. Rental Failed\"] };\n                transacts.patch(that.props.id, tmpDeets).then(() => {\n                    console.log(\"hi done\");\n                    // this.props.finishCallback(1);\n                    // that.setState({\n                    //     finalnotes: ''\n\n                    // });\n\n                });\n            }\n        } catch (err) {\n            console.log(\"errrrr\", err);\n            this.props.finishCallback(1);\n\n        }\n        this.props.finishCallback(0);\n\n        // alert(\"complete\");\n\n\n    }\n\n    handleChangeText(e) {\n        console.log(\"Asdf333355\");\n        e.preventDefault();\n        // console.log(\"111\",this.props);\n        // console.log(\"111\", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        if (e.target.value === '') {\n        }\n    }\n\n    async componentDidMount() {\n        // transacts.on('patched', res => {\n        //         console.log(\"removeeeeed YYYY\", res);\n        //     });\n\n        await transacts.get(this.props.id)\n            .then(async (res) => {\n                console.log(\"item from tranacts found:\", res);\n                var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                let deets = {\n                    createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                    checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                    checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                    contractid: res.contractid,\n                    deposit: res.deposit,\n                    finalnotes: res.finalnotes,\n                    initialnotes: res.initialnotes,\n                    totalprice: res.totalprice,\n                    status: res.status\n                };\n                this.setState({\n                    transactDetails: deets\n                });\n                // await this.getItemDetails(res);\n            })\n            .catch(err => {\n                console.log(\"eror in checking transacs\", err)\n            })\n\n    }\n\n    render() {\n        return (\n\n            <Col className=\" lg={2}\">\n                {/* <Row><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></Row> */}\n                <Row className=\"justify-content-md-center \">\n                    <h3 className=\"text-center\">Accept or Reject Rental Conditions</h3>\n                    <p className=\"text-center\">(Make sure the meetup location and time work for you)</p>\n\n                </Row>\n                <Row className=\"justify-content-md-center \">\n\n                    <div className=\"justify-content-md-center \" style={{ backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }} >\n                        <p className=\"text-center\"><strong>Response from Item's Lister:</strong> </p>\n                        <p className=\"text-center\">\"{this.state.transactDetails.finalnotes}\"</p>\n                    </div>\n\n                </Row>\n\n                {/* check if action is needed -- IF SO do these */}\n\n\n                {/* ALSO include option to change time OR maybe just have user rent by day -- ??*/}\n\n                {/* EVENTually include a map to pinpoint location */}\n\n\n                <Row className=\"justify-content-md-center \">\n                    <Col className=\"justify-content-md-center  text-center buttonDiv\">\n                        <Button variant=\"primary\" onClick={this.handleRequest} id=\"accept\" >Accept Rental Conditions and Post Transaction to Blockchain</Button>\n\n                        <Button variant=\"secondary\" onClick={this.handleRequest} id=\"reject\">Reject Rental Conditions</Button>\n                        {/* do check to make sure theres text */}\n                    </Col></Row>\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                {/* status: {STATUS.} */}\n            </Col>\n        )\n    };\n}\n\nexport const StageTwoLister = (props) => {\n    let tempVal = 'nothing';\n    return (\n        <div className=\"justify-content-md-center timerr\">\n            <Image src={timer} />\n            <h5 className=\"text-center\">Waiting for final confirmation of rental from borrower.</h5>\n        </div>\n    )\n}\n\n// export default StageOneLister;","\nimport React, { Component } from 'react';\nimport client from '../../../feathers';\nimport STATUS from '../utilities/TransStatus';\n\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\nimport moment from 'moment';\nimport timer from '../../../imgs/timer.png';\nconst transacts = client.service('transacts');\n\n\nexport class StageThree extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n\n        };\n\n    }\n\n\n\n    async componentDidMount() {\n        //TODO we need to send out to blockhain -- IS that here or in bafckend hook?\n        //TODO we need to get a callback from blockchain here when live\n        //TODO update the blockchain contract id in transacts\n\n        // transacts.on('patched', res => {\n        //         console.log(\"removeeeeed YYYY\", res);\n        //     });\n\n        // await transacts.get(this.props.id)\n        //     .then(async (res) => {\n        //         console.log(\"item from tranacts found:\", res);\n        //         var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n        //         let deets = {\n        //             createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n        //             checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n        //             checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n        //             contractid: res.contractid,\n        //             deposit: res.deposit,\n        //             finalnotes: res.finalnotes,\n        //             initialnotes: res.initialnotes,\n        //             totalprice: res.totalprice,\n        //             status: res.status\n        //         };\n        //         this.setState({\n        //             transactDetails: deets\n        //         });\n        //         // await this.getItemDetails(res);\n        //     })\n        //     .catch(err => {\n        //         console.log(\"eror in checking transacs\", err)\n        //     })\n\n    }\n\n    render() {\n        return (\n            <div className=\"justify-content-md-center timerr\">\n                <Image src={timer} />\n                <h5 className=\"text-center\">Waiting for tentative agreement to go live on blockchain.</h5>\n            </div>\n        )\n    };\n}\n\n\n\n\n\n","\nimport React, { Component } from 'react';\nimport client from '../../../feathers';\nimport STATUS from '../utilities/TransStatus';\n\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\nimport moment from 'moment';\nimport timer from '../../../imgs/timer.png';\nimport Web3 from 'web3';\nimport chainrenterArtifact from \"../../../contracts/Chainrenter.json\";\nconst axios = require('axios');\nconst transacts = client.service('transacts');\nconst myService = client.service('my-service');\nconst UpdateStatusWhenBothStarted = client.service('updateStatusWhenBothStarted');\n\n\n\nconst getEthToUsdApi = async () => {\n    try {\n        let usdToEth =  await axios.get('https://api.coinmarketcap.com/v1/ticker/ethereum/').data[0].price_usd;\n        console.log(\"heres ethusd \",usdToEth);\n        return usdToEth;\n    } catch (error) {\n        console.error(\"eeeee23or\",error);\n    }\n}\n\nconst getEthToUsdConversion = async (amountOfUsd) => {\n    try {\n        let etherAmt = amountOfUsd/getEthToUsdApi();\n        console.log(\"heres the ether amount\",etherAmt);\n        return etherAmt;\n    } catch (error) {\n        console.error(\"eee44343or\",error);\n    }\n}\n\nexport class StageFiveBorrower extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n            // finalnotes: ''\n  \n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n        this.handleChangeInput = this.handleChangeInput.bind(this);\n\n    }\n\n    async handleChangeInput(e) {\n        console.log(\"111 id: \", e.target.id);\n\n        console.log(\"111 val: \", e.target.value);\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n\n    async handleRequest(e) {\n\n\n    }\n\n    async componentDidMount() {\n       \n\n    }\n\n    render() {\n        return (\n\n            <Col className=\" lg={2}\">\n             \n                <div className=\"justify-content-md-center timerr\">\n                    <Image src={timer} />\n                    <h5 className=\"text-center\">CONTRACT STARTED:<br />Waiting for Your Payment to go through and Handoff to Go Live on Blockchain</h5>\n\n                    {/* <p className=\"text-center\">Make sure to give the lister the handoff password you created in the last step. They will need that to start the rental.</p> */}\n\n                </div>\n\n                <Row className=\"justify-content-md-center \">\n\n                    <div className=\"justify-content-md-center \" style={{ backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }} >\n                        <p className=\"text-center\"><strong>Transaction on Blockchain:</strong> </p>\n                        <p className=\"text-center\">\"0xjkasdfnaiodfiosdfgnsdfg (will be link to blockscout)\"</p>\n                    </div>\n\n                </Row>\n\n\n            </Col>\n        )\n    };\n}\n\n\nexport class StageFiveLister extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n            // finalnotes: ''\n  \n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n        this.handleChangeInput = this.handleChangeInput.bind(this);\n\n    }\n\n    async handleChangeInput(e) {\n        console.log(\"111 id: \", e.target.id)\n\n        console.log(\"111 val: \", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n\n    async handleRequest(e) {\n\n\n    }\n\n    async componentDidMount() {\n       \n\n    }\n\n    render() {\n        return (\n\n            <Col className=\" lg={2}\">\n             \n                <div className=\"justify-content-md-center timerr\">\n                    <Image src={timer} />\n                    <h5 className=\"text-center\">CONTRACT STARTED:<br />Waiting for Borrower's Payment to go through and Handoff to Go Live on Blockchain</h5>\n\n                </div>\n\n                <Row className=\"justify-content-md-center \">\n\n                    <div className=\"justify-content-md-center \" style={{ backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }} >\n                        <p className=\"text-center\"><strong>Transaction on Blockchain:</strong> </p>\n                        <p className=\"text-center\">\"0xjkasdfnaiodfiosdfgnsdfg (will be link to blockscout)\"</p>\n                    </div>\n\n                </Row>\n\n\n            </Col>\n        )\n    };\n}\n","\nimport React, { Component } from 'react';\nimport client from '../../../feathers';\nimport STATUS from '../utilities/TransStatus';\n\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\nimport moment from 'moment';\nimport checkmark from '../../../imgs/checkmark.png';\nconst transacts = client.service('transacts');\n\n\nexport class StageSeven extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n\n        };\n\n    }\n\n\n\n    async componentDidMount() {\n        //TODO we need to send out to blockhain -- IS that here or in bafckend hook?\n        //TODO we need to get a callback from blockchain here when live\n        //TODO update the blockchain contract id in transacts\n\n        // transacts.on('patched', res => {\n        //         console.log(\"removeeeeed YYYY\", res);\n        //     });\n\n        // await transacts.get(this.props.id)\n        //     .then(async (res) => {\n        //         console.log(\"item from tranacts found:\", res);\n        //         var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n        //         let deets = {\n        //             createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n        //             checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n        //             checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n        //             contractid: res.contractid,\n        //             deposit: res.deposit,\n        //             finalnotes: res.finalnotes,\n        //             initialnotes: res.initialnotes,\n        //             totalprice: res.totalprice,\n        //             status: res.status\n        //         };\n        //         this.setState({\n        //             transactDetails: deets\n        //         });\n        //         // await this.getItemDetails(res);\n        //     })\n        //     .catch(err => {\n        //         console.log(\"eror in checking transacs\", err)\n        //     })\n\n    }\n\n\n    //TODO get checkmark icon here for DONE\n    \n    render() {\n        return (\n            <div className=\"justify-content-md-center timerr\">\n                <Image src={checkmark} />\n                <h5 className=\"text-center\">Rental has been returned succesfully. Deposit will now be returned to borrower and rental price will be sent to owner. \n                <br /><br />Contract is complete.</h5>\n            </div>\n        )\n    };\n}\n\n\n\n\n\n","\nimport React, { Component } from 'react';\nimport client from '../../../feathers';\nimport STATUS from '../utilities/TransStatus';\n\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\nimport moment from 'moment';\nimport blockicon from '../../../imgs/blockchainicon.png';\nimport Web3 from 'web3';\nimport chainrenterArtifact from \"../../../contracts/Chainrenter.json\";\nconst axios = require('axios');\nconst BigNumber = require('bignumber.js');\nconst transacts = client.service('transacts');\nconst myService = client.service('my-service');\nconst UpdateStatusWhenBothStarted = client.service('updateStatusWhenBothStarted');\n\n\nconst getEthToUsdApi = async () => {\n    try {\n        let usdApi = await axios.get('https://api.coinmarketcap.com/v1/ticker/ethereum/');\n        let usdToEth = usdApi.data[0].price_usd;\n        console.log(\"heres ethusd \", usdToEth);\n        return usdToEth;\n    } catch (error) {\n        console.error(\"eeeee23or\", error);\n\n    }\n}\n\nconst getEthToUsdConversion = async (amountOfUsd) => {\n    try {\n        console.log(\"usd\", amountOfUsd);\n        if (amountOfUsd) {\n            let etherAmt = amountOfUsd / await getEthToUsdApi();\n            console.log(\"heres the ether amount\", etherAmt);\n            return etherAmt;\n        } else {\n            console.log(\"nan \");\n            return 0;\n        }\n    } catch (error) {\n        console.error(\"eee44343or\", error);\n    }\n}\n\n\nexport class StageFourBorrower extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n            // finalnotes: ''\n            transactDetails: {},\n            lilpassword: null,\n            rentingContract: null,\n            visitorAccount: null,\n            showBorrMainButtons: false,\n            payAmtInEther: 0,\n            isBlue: true\n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n        this.handleChangeInput = this.handleChangeInput.bind(this);\n\n    }\n\n    async handleChangeInput(e) {\n        console.log(\"111 id: \", e.target.id)\n\n        console.log(\"111 val: \", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n\n\n    async handleRequest(e) {\n\n        //TODO if succesful - then we need to start contract\n        let that = this;\n        console.log(\"hdanel req id:\", that.props.id);\n\n\n        var hashedString = null;\n        var unhashedString = null;\n        // console.log(\"handling reuqwest\", e);\n        try {\n            if (e.target.id === \"accept\") {\n\n                if (this.state.lilpassword) {\n                    if (this.state.lilpassword.length > 9) {\n                        hashedString = this.props.webthree.utils.keccak256(this.state.lilpassword);\n                        unhashedString = this.state.lilpassword.toString();\n                        console.log(\"hashshhed string\", hashedString);\n                    } else {\n                        alert(\"Please make sure your password has at least 10 characters.\");\n                        return\n                    }\n                } else {\n                    alert(\"Please enter a share password\");\n\n                    return\n                }\n\n\n                const { startRentalByBorrower } = this.props.rentingContract.methods;\n                // const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n\n                // TODO on hash not working\n                //TODO should be deposit plus totalprice\n                //TODO index currently faked\n                console.log(\"ascontractid\",this.state.transactDetails.contractid);\n                await startRentalByBorrower(parseInt(this.state.transactDetails.contractid), unhashedString.toString()).send({ value: BigNumber(this.props.webthree.utils.toWei(BigNumber(this.state.payAmtInEther).toFixed(), 'ether')).toFixed(), gas: 1140000, from: this.props.visitorAccount })\n                    .on('transactionHash', function (hash) {\n                        console.log('hash', hash);\n\n                        console.log('hashed - strated by borrower', hash);\n                        console.log(\"aaac is here?????\");\n\n                        //disable buttons so they can't launch again\n                        that.setState({\n                            showBorrMainButtons: true,\n                            isBlue: false\n                        });\n\n                        let hashInfo = { hash: hash, idoftransact: that.props.id, idbkchain: that.state.transactDetails.contractid, nextStatus: 6, contractInfo: that.props.contractInfo };\n                        console.log(\"hashhahaaa2\",hashInfo);\n\n                        UpdateStatusWhenBothStarted.get(hashInfo).then((res) => {\n                            console.log(\"response aaa from upload service\",res);\n                            // this.setState({showPending: true});\n\n                            //this is a bad idea because other user might not have gone yet\n                            // let tmpDeets = { status: STATUS[\"5. Contract Started\"] };\n                            // transacts.patch(that.props.id, tmpDeets).then(() => {\n                            //     console.log(\"hi done\");\n\n                            // });\n                        });\n\n\n\n                    })\n                    .then(function () {\n\n                        console.log(\"totally done!!!\");\n\n                    });\n\n                console.log(\"succes fro mblockhcain\");\n\n\n            } else if (e.target.id === \"reject\") {\n                console.log(\"rejected\");\n\n                let tmpDeets = { status: STATUS[\"911. Rental Failed\"] };\n                transacts.patch(that.props.id, tmpDeets).then(() => {\n                    console.log(\"hi done\");\n                    // this.props.finishCallback(1);\n                    // that.setState({\n                    //     finalnotes: ''\n\n                    // });\n\n                });\n            } else if (e.target.id === \"refund\") {\n                console.log(\"refund wanted\");\n\n                //TODO need to wire this and create a way to allow in contract a refund if lister takes no action within 24 hours \n\n                // let tmpDeets = { status: STATUS[\"911. Rental Failed\"] };\n                // transacts.patch(that.props.id, tmpDeets).then(() => {\n                //     console.log(\"hi done\");\n                // });\n            }\n        } catch (err) {\n            console.log(\"errrrr\", err);\n            this.props.finishCallback(1);\n\n        }\n        this.props.finishCallback(0);\n\n        // alert(\"complete\");\n\n\n    }\n\n\n    async componentDidMount() {\n        // transacts.on('patched', res => {\n        //         console.log(\"removeeeeed YYYY\", res);\n        //     });\n\n        await transacts.get(this.props.id)\n            .then(async (res) => {\n                console.log(\"item from tranacts found:\", res);\n                var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                let deets = {\n                    createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                    checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                    checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                    contractid: res.contractid,\n                    deposit: res.deposit,\n                    finalnotes: res.finalnotes,\n                    initialnotes: res.initialnotes,\n                    totalprice: res.totalprice,\n                    status: res.status\n                };\n\n                \n                //TODO fix fudge +2 to makesure theres enought money in there\n                let payAmtUsd = parseInt(res.deposit) + parseInt(res.totalprice)+200;\n                console.log(\"ammmt\", payAmtUsd);\n\n                let payAmtInEther = await getEthToUsdConversion(payAmtUsd);\n                console.log(\"pay amount ether\", payAmtInEther);\n                this.setState({\n                    transactDetails: deets,\n                    payAmtInEther\n                });\n                // await this.getItemDetails(res);\n            })\n            .catch(err => {\n                console.log(\"eror in checking transacs\", err)\n            })\n\n    }\n\n    render() {\n        return (\n\n            <Col className=\" lg={2}\">\n                <div className=\"justify-content-md-center timerr\">\n                    <Image src={blockicon} />\n                    <h5 className=\"text-center\">READY ON BLOCKCHAIN:<br />Confirm When the Item Handoff Is Complete</h5>\n                </div>\n                {/* <Row><span>&nbsp;&nbsp;</span><span>&nbsp;&nbsp;</span></Row> */}\n\n                {/* <Row className=\"justify-content-md-center \">\n\n                    <div className=\"justify-content-md-center \" style={{ backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }} >\n                        <p className=\"text-center\"><strong>Transaction on Blockchain:</strong> </p>\n                        <p className=\"text-center\">\"0xjkasdfnaiod (link to blockscout)\"</p>\n                    </div>\n\n                </Row> */}\n\n\n                <Row className=\"justify-content-md-center \">    \n\n                    <div className=\"justify-content-md-center \"  style={this.state.isBlue ? { backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }: { backgroundColor: \"#bbbbbb\", padding: \".8rem\", margin: \".5rem\" }} >\n                        <p className=\"text-center\"><strong>To Start the Rental, You Must Send at least this amount to the Contract: </strong> </p>\n                        <p className=\"redText text-center\"><br /><strong>{this.state.payAmtInEther} Ether</strong></p>\n                        <p className=\"text-center\">(This amount reflects the contract's rental price of ${this.state.transactDetails.totalprice}) plus the deposit of ${this.state.transactDetails.deposit}, converted to ether) </p>\n                    </div>\n\n                </Row>\n\n                <Row className=\"justify-content-md-center \">\n                    {/* style={{ backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }} */}\n                    <div className=\"justify-content-md-center\" style={this.state.isBlue ? { backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }: { backgroundColor: \"#bbbbbb\", padding: \".8rem\", margin: \".5rem\" }} >\n\n                        <Form className=\"justify-content-md-center \">\n                            <Form.Group controlId=\"lilpassword\" className=\"justify-content-md-center \">\n                                <Form.Label>Please create a password for this transaction to share with lister:</Form.Label>\n                                <Form.Control size=\"sm\" type=\"textzz\" placeholder=\"Choose a password to share\" onChange={this.handleChangeInput} value={this.state.lilpassword} disabled={this.state.showBorrMainButtons} />\n                                <Form.Text className=\"text-muted\">\n                                    It should be at least 10 characters, with no punctuation or spaces. (Make sure to write this down, you will need to give this to the borrower, so they can start the rental on their end.)\n                             </Form.Text>\n                            </Form.Group>\n                        </Form>\n                    </div>\n\n                </Row>\n\n                <Row className=\"justify-content-md-center \">\n                    <Col className=\"justify-content-md-center  text-center buttonDiv\">\n                        <Button disabled={this.state.showBorrMainButtons} variant=\"primary\" onClick={this.handleRequest} id=\"accept\">Pay and Begin Handoff</Button>\n                        {/* do check to make sure theres text */}\n                        <Button disabled={this.state.showBorrMainButtons} variant=\"secondary\" onClick={this.handleRequest} id=\"reject\" >Handoff Failed</Button>\n                    </Col></Row>\n                {this.state.showBorrMainButtons\n                    ? <Row className=\"justify-content-md-center \"><Button disabled={!this.state.showBorrMainButtons} variant=\"secondary\" onClick={this.handleRequest} id=\"refund\" >Click for refund if after 24 hours and lister hasn't confirmed </Button> </Row>\n                    : null\n                }\n\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                {/* status: {STATUS.} */}\n            </Col>\n        )\n    };\n}\n\n\nexport class StageFourLister extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n            // finalnotes: ''\n            transactDetails: {},\n            lilpassword: null,\n            rentingContract: null,\n            visitorAccount: null,\n            showPending: false\n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n        this.handleChangeInput = this.handleChangeInput.bind(this);\n\n    }\n\n    async handleChangeInput(e) {\n        console.log(\"111 id: \", e.target.id)\n\n        console.log(\"111 val: \", e.target.value)\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n    }\n\n    async handleRequest(e) {\n\n        //TODO if succesful - then we need to start contract\n\n\n        let that = this;\n        console.log(\"hdanel req id:\", that.props.id);\n        var hashedString = null;\n        var unHashedString = null;\n\n        // console.log(\"handling reuqwest\", e);\n        try {\n            if (e.target.id === \"accept\") {\n\n                if (this.state.lilpassword) {\n                        hashedString = this.props.webthree.utils.keccak256(this.state.lilpassword);\n                        unHashedString = this.state.lilpassword;\n                        console.log(\"hashshhed string\", hashedString);\n                } else { \n                    alert(\"You must enter the password from the borrower\")\n                    return }\n\n                const { startRentalByLister } = this.props.rentingContract.methods;\n\n\n                //TODO - here we need to get idfromblockchain (contractid) from transacts\n                console.log(\"what is this: \", that.props.contractInfo);\n                //send params id and string to hash TODO\n                await startRentalByLister(parseInt(this.state.transactDetails.contractid), unHashedString.toString()).send({ gas: 1140000, from: this.props.visitorAccount })\n                    .on('transactionHash', function (hash) {\n                        console.log('hashed - strated by lister', hash);\n                        console.log(\"zzz is here?????\");\n                        //this needs to be in backend to check for BOTHstarted being emitted\n\n                        // that.props.rentingContract.events.allEvents({\n                        //     // filter: {transactionHash: hash}, // Using an array means OR: e.g. 20 or 23\n                        //     fromBlock: 0\n                        //   }, function (error, event) {\n\n\n                        //     console.log(\"sssss\", event);\n                        //   });\n\n\n                        //   that.state.rentingContract.events.rentalIsStartedByBoth({\n                        //     // filter: {transactionHash: hash}, // Using an array means OR: e.g. 20 or 23\n                        //     fromBlock: 0\n                        // }, function (error, event) {\n                        //     if (error){\n                        //         console.log(\"errro contactth\", error);\n                        //     }\n\n                        //     console.log(\"yes started by both\", event);\n\n                        // }).on('error', console.error);\n\n\n                        let hashInfo = { hash: hash, idoftransact: that.props.id, idbkchain: that.state.transactDetails.contractid, nextStatus: 6, contractInfo: that.props.contractInfo };\n                        console.log(\"hashhahaaa2\",hashInfo);\n\n                        UpdateStatusWhenBothStarted.get(hashInfo).then((res) => {\n                            console.log(\"response aaa from upload service\",res);\n                            // this.setState({showPending: true});\n\n                            //this is a bad idea because other user might not have gone yet\n                            // let tmpDeets = { status: STATUS[\"5. Contract Started\"] };\n                            // transacts.patch(that.props.id, tmpDeets).then(() => {\n                            //     console.log(\"hi done\");\n\n                            // });\n                        });\n\n                    }).then(function () {\n\n                        console.log(\"totally done!!!\");\n\n                    });\n\n                console.log(\"succes fro mblockhcain\");\n\n            } else {\n                console.log(\"rejected\");\n\n                let tmpDeets = { status: STATUS[\"911. Rental Failed\"] };\n                transacts.patch(that.props.id, tmpDeets).then(() => {\n                    console.log(\"hi done\");\n                    // this.props.finishCallback(1);\n                    // that.setState({\n                    //     finalnotes: ''\n\n                    // });\n\n                });\n            }\n        } catch (err) {\n            console.log(\"errrrr\", err);\n            this.props.finishCallback(1);\n\n        }\n        this.props.finishCallback(0);\n\n        // alert(\"complete\");\n\n\n    }\n\n    async componentDidMount() {\n        // transacts.on('patched', res => {\n        //         console.log(\"removeeeeed YYYY\", res);\n        //     });\n\n\n\n        // const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\"); //\n\n\n        // try {\n        //   // get contract instance\n        //   console.log(\"aa\", web3.eth.net.getId());\n        //   const networkId = await web3.eth.net.getId();\n        //   const deployedNetwork = chainrenterArtifact.networks[networkId];\n        //   console.log(\"deploooo\", deployedNetwork);\n\n        //   let contractAddress = deployedNetwork.address;\n        //   let rentingContract = new web3.eth.Contract(\n        //     chainrenterArtifact.abi,\n        //     deployedNetwork.address,\n        //   );\n\n        //   // get accounts\n        //   const accounts = await web3.eth.getAccounts();\n        //   let visitorAccount = accounts[0];\n        //   console.log(\"vis account\", visitorAccount);\n\n\n\n        //   this.setState({\n        //     webthree: web3,\n        //     rentingContract,\n        //     visitorAccount,\n        //     contractInfo: { abi: chainrenterArtifact.abi, address: deployedNetwork.address }\n        //   });\n        //   //   this.sendToBlockChain();\n        //   // await loadCandidates();\n\n        // } catch (error) {\n        //   console.log(error);\n        //   console.error(\"Could not connect to contract or chain.\");\n        // };\n\n        await transacts.get(this.props.id)\n            .then(async (res) => {\n                console.log(\"item from tranacts found:\", res);\n                var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                let deets = {\n                    createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                    checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                    checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                    contractid: res.contractid,\n                    deposit: res.deposit,\n                    finalnotes: res.finalnotes,\n                    initialnotes: res.initialnotes,\n                    totalprice: res.totalprice,\n                    status: res.status\n                };\n                this.setState({\n                    transactDetails: deets\n                });\n                // await this.getItemDetails(res);\n            })\n            .catch(err => {\n                console.log(\"eror in checking transacs\", err)\n            })\n\n    }\n\n    render() {\n        return (\n\n            <Col className=\" lg={2}\">\n                {/* {this.state.showPending \n                ? <div>hello</div>\n                : null\n                } */}\n                <div className=\"justify-content-md-center timerr\">\n                    <Image src={blockicon} />\n                    <h5 className=\"text-center\">READY ON BLOCKCHAIN:<br />Confirm When the Item Handoff Is Complete</h5>\n                </div>\n\n                {/* <Row className=\"justify-content-md-center \">\n\n                    <div className=\"justify-content-md-center \" style={{ backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }} >\n                        <p className=\"text-center\"><strong>Transaction on Blockchain:</strong> </p>\n                        <p className=\"text-center\">\"0xjkasdfnaiodfiosdfgnsdfg (will be link to blockscout)\"</p>\n                    </div>\n\n                </Row> */}\n\n\n                <Row className=\"justify-content-md-center \">\n                    <div className=\"justify-content-md-center \" style={{ backgroundColor: \"#aaccff\", padding: \".8rem\", margin: \".5rem\" }} >\n\n                        <Form className=\"justify-content-md-center \">\n                            <Form.Group controlId=\"lilpassword\" className=\"justify-content-md-center \">\n                                <Form.Label>Enter Password Given to You By Borrower:</Form.Label>\n                                <Form.Control size=\"sm\" type=\"textzz\" placeholder=\"Enter Password from Borrower\" onChange={this.handleChangeInput} value={this.state.lilpassword} />\n                                <Form.Text className=\"text-muted\">\n                                    The borrower will create this password when they activate the rental. When you meet up to transfer the item, you must ask for the password from them and enter it here.\n                             </Form.Text>\n                            </Form.Group>\n                        </Form>\n                    </div>\n\n                </Row>\n\n\n\n                <Row className=\"justify-content-md-center \">\n                    <Col className=\"justify-content-md-center  text-center buttonDiv\">\n                        <Button variant=\"primary\" onClick={this.handleRequest} id=\"accept\">Item Handoff Complete</Button>\n                        {/* do check to make sure theres text */}\n                        <Button variant=\"secondary\" onClick={this.handleRequest} id=\"reject\" >Handoff Failed</Button>\n                    </Col></Row>\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                {/* status: {STATUS.} */}\n            </Col>\n        )\n    };\n}\n\n\n// export default StageOneLister;","\nimport React, { Component } from 'react';\nimport client from '../../../feathers';\nimport STATUS from '../utilities/TransStatus';\n\nimport { Dropdown, DropdownButton, Popover, Badge, Button, Row, Col, Form, Container, Image, ListGroup, OverlayTrigger } from 'react-bootstrap';\nimport moment from 'moment';\nimport timer from '../../../imgs/timer.png';\nconst myService = client.service('my-service');\nconst transacts = client.service('transacts');\n\nconst UpdateStatusWhenBothEnded = client.service('updateStatusWhenBothEnded');\n\nexport class StageSixBorrower extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n            // finalnotes: ''\n            transactDetails: {}\n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n    }\n\n    async handleRequest(e) {\n\n        //TODO if succesful - then we need to end contract\n        //TODO if failed -- we need a way to escale -- A new resolve dispute page\n\n        let that = this;\n        console.log(\"hdanel req id:\", that.props.id);\n        // console.log(\"handling reuqwest\", e);\n        try {\n            if (e.target.id === \"accept\") {\n               \n\n                const { closeRentalByBorrower } = that.props.rentingContract.methods;\n\n                await closeRentalByBorrower(parseInt(that.state.transactDetails.contractid)).send({ gas: 1140000, from: that.props.visitorAccount })\n                    .on('transactionHash', function (hash) {\n                        console.log('hash', hash);\n\n\n                        //maybe should only have one of these start the wathcing\n                        let hashInfo = { hash: hash, idoftransact: that.props.id, idbkchain: that.state.transactDetails.contractid, nextStatus: 7, contractInfo: that.props.contractInfo };\n                        console.log(\"hashhahaaa2\",hashInfo);\n\n                        UpdateStatusWhenBothEnded.get(hashInfo).then((res) => {\n                            console.log(\"response aaa from upload service\", res);\n                            // this.setState({showPending: true});\n                          \n                        });\n\n                    }).then(function () {\n\n                        console.log(\"totally done!!!\");\n\n                    });\n\n                console.log(\"succes fro mblockhcain\");\n\n\n            } else {\n                console.log(\"rejected\");\n\n                let tmpDeets = { status: STATUS[\"911. Rental Failed\"] };\n                transacts.patch(that.props.id, tmpDeets).then(() => {\n                    console.log(\"hi done\");\n\n                });\n            }\n        } catch (err) {\n            console.log(\"errrrr\", err);\n            this.props.finishCallback(1);\n\n        }\n        this.props.finishCallback(0);\n\n        // alert(\"complete\");\n\n\n    }\n\n\n    async componentDidMount() {\n        // transacts.on('patched', res => {\n        //         console.log(\"removeeeeed YYYY\", res);\n        //     });\n\n        await transacts.get(this.props.id)\n            .then(async (res) => {\n                console.log(\"item from tranacts found:\", res);\n                var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                let deets = {\n                    createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                    checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                    checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                    contractid: res.contractid,\n                    deposit: res.deposit,\n                    finalnotes: res.finalnotes,\n                    initialnotes: res.initialnotes,\n                    totalprice: res.totalprice,\n                    status: res.status\n                };\n                this.setState({\n                    transactDetails: deets\n                });\n                // await this.getItemDetails(res);\n            })\n            .catch(err => {\n                console.log(\"eror in checking transacs\", err)\n            })\n\n    }\n\n    render() {\n        return (\n\n            <Col className=\" lg={2}\">\n                {/* <div className=\"justify-content-md-center timerr\">\n                <Image src={timer} />\n                <h5 className=\"text-center\">Rental Currently Active</h5>\n            </div> */}\n\n                <Row className=\"justify-content-md-center \">\n                    <h3 className=\"text-center\">Rental Currently Active</h3>\n\n                </Row>\n                <Row className=\"justify-content-md-center \">\n                    <p className=\"text-center\">Confirm item return below (Make sure item is returned before rental end date in contract)</p>\n\n                    <Col className=\"justify-content-md-center  text-center buttonDiv\">\n                        <Button variant=\"primary\" onClick={this.handleRequest} id=\"accept\">Item Has Been Returned to Lister</Button>\n                        {/* do check to make sure theres text */}\n                        <Button variant=\"secondary\" onClick={this.handleRequest} id=\"reject\" >Problem with Item Return</Button>\n                    </Col></Row>\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                {/* status: {STATUS.} */}\n            </Col>\n        )\n    };\n}\n\n\nexport class StageSixLister extends Component {\n\n    constructor(props) {\n        super(props);\n        console.log(\"props\", this.props);\n        console.log(\"iddd\", this.props.id);\n        this.state = {\n            // finalnotes: ''\n            transactDetails: {}\n        };\n\n        this.handleRequest = this.handleRequest.bind(this);\n\n    }\n\n    async handleRequest(e) {\n\n        //TODO if succesful - then we need to end contract\n\n\n        let that = this;\n        console.log(\"hdanel req id:\", that.props.id);\n        // console.log(\"handling reuqwest\", e);\n        try {\n            if (e.target.id === \"accept\") {\n        \n                const { closeRentalByLister } = that.props.rentingContract.methods;\n\n                //send params id and string to hash TODO\n                await closeRentalByLister(parseInt(that.state.transactDetails.contractid)).send({ gas: 1140000, from: that.props.visitorAccount })\n                    .on('transactionHash', function (hash) {\n                        console.log('hash', hash);\n\n                        let hashInfo = { hash: hash, idoftransact: that.props.id, idbkchain: that.state.transactDetails.contractid, nextStatus: 7, contractInfo: that.props.contractInfo };\n                        UpdateStatusWhenBothEnded.get(hashInfo).then((res) => {\n                            console.log(\"response aaa from upload service\", res);\n                            // this.setState({showPending: true});\n                          \n                        });\n\n                    }).then(function () {\n\n                        console.log(\"totally done!!!\");\n\n                    });\n\n                console.log(\"succes fro mblockhcain\");\n\n            } else {\n                console.log(\"rejected\");\n\n                let tmpDeets = { status: STATUS[\"911. Rental Failed\"] };\n                transacts.patch(that.props.id, tmpDeets).then(() => {\n                    console.log(\"hi done\");\n                    // this.props.finishCallback(1);\n                    // that.setState({\n                    //     finalnotes: ''\n\n                    // });\n\n                });\n            }\n        } catch (err) {\n            console.log(\"errrrr\", err);\n            this.props.finishCallback(1);\n\n        }\n        this.props.finishCallback(0);\n\n        // alert(\"complete\");\n\n\n    }\n\n    async componentDidMount() {\n        // transacts.on('patched', res => {\n        //         console.log(\"removeeeeed YYYY\", res);\n        //     });\n\n        await transacts.get(this.props.id)\n            .then(async (res) => {\n                console.log(\"item from tranacts found:\", res);\n                var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n                let deets = {\n                    createdat: new Date(res.createdAt).toLocaleDateString(\"en-US\", options),\n                    checkoutdate: moment(res.checkoutdate, \"x\").format('LLLL'),\n                    checkindate: moment(res.checkindate, \"x\").format('LLLL'),\n                    contractid: res.contractid,\n                    deposit: res.deposit,\n                    finalnotes: res.finalnotes,\n                    initialnotes: res.initialnotes,\n                    totalprice: res.totalprice,\n                    status: res.status\n                };\n                this.setState({\n                    transactDetails: deets\n                });\n                // await this.getItemDetails(res);\n            })\n            .catch(err => {\n                console.log(\"eror in checking transacs\", err)\n            })\n\n    }\n\n    render() {\n        return (\n\n            <Col className=\" lg={2}\">\n                {/* <div className=\"justify-content-md-center timerr\">\n                    <Image src={timer} />\n                    <h5 className=\"text-center\">Rental Currently Active</h5>\n                </div> */}\n\n                <Row className=\"justify-content-md-center \">\n                    <h3 className=\"text-center\">Rental Currently Active</h3>\n\n                </Row>\n                <Row className=\"justify-content-md-center \">\n                    <p className=\"text-center\">Confirm item return below (Make sure item is returned before rental end date in contract)</p>\n\n                    <Col className=\"justify-content-md-center  text-center buttonDiv\">\n                        <Button variant=\"primary\" onClick={this.handleRequest} id=\"accept\">Item Has Been Returned to Me</Button>\n                        {/* do check to make sure theres text */}\n                        <Button variant=\"secondary\" onClick={this.handleRequest} id=\"reject\" >Problem with Item Return</Button>\n                    </Col></Row>\n                <Row><span>&nbsp;&nbsp;</span></Row>\n                {/* status: {STATUS.} */}\n            </Col>\n        )\n    };\n}\n\n\n// export default StageOneLister;","import React, { Component, useState } from 'react';\nimport { Route, BrowserRouter, Redirect, withRouter } from 'react-router-dom';\nimport TransactionDetailsTry from '../TransactionDetailsTry';\nimport client from '../../../feathers';\nimport GetBorrowerAndListerIds from '../utilities/GetBorrowerAndListerIds';\nimport { StageZero } from './StageZero';\nimport { StageOneLister, StageOneBorrower } from './StageOne';\nimport { StageTwoLister, StageTwoBorrower } from './StageTwo';\nimport { StageThree } from './StageThree';\nimport { StageFiveBorrower,StageFiveLister } from './StageFive';\n\nimport { StageSeven } from './StageSeven';\nimport { StageFourLister, StageFourBorrower } from './StageFour';\nimport { StageSixLister, StageSixBorrower } from './StageSix';\nimport Web3 from 'web3';\nimport chainrenterArtifact from \"../../../contracts/Chainrenter.json\";\nimport STATUS from '../utilities/TransStatus';\nimport worker_script from '../../../workerfile';\nconst BigNumber = require('bignumber.js');\n\nconst myService = client.service('my-service');\nconst transacts = client.service('transacts');\n\nconst axios = require('axios');\n\n\nconst getEthToUsdApi = async () => {\n    try {\n        let usdApi = await axios.get('https://api.coinmarketcap.com/v1/ticker/ethereum/');\n        let usdToEth = usdApi.data[0].price_usd;\n        console.log(\"heres ethusd \", usdToEth);\n        return usdToEth;\n    } catch (error) {\n        console.error(\"eeeee23or\", error);\n\n    }\n}\n\nconst getEthToUsdConversion = async (amountOfUsd) => {\n    try {\n        console.log(\"usd\", amountOfUsd);\n        if (amountOfUsd) {\n            let etherAmt = amountOfUsd / await getEthToUsdApi();\n            console.log(\"heres the ether amount\", etherAmt);\n            return etherAmt;\n        } else {\n            console.log(\"nan \");\n            return 0;\n        }\n    } catch (error) {\n        console.error(\"eee44343or\", error);\n    }\n}\n\n\n\nclass UserDrivenRoute extends Component {\n\n  constructor(props) {\n    super(props);\n    console.log(\"propzzz\", props);\n    this.state = {\n\n      borroweruserid: null,\n      renteruserid: null,\n      visitorIsEitherListerorBorrower: false,\n      visIsListerTwo: true,\n      rentingContract: null,\n      visitorAccount: null,\n      responseIdFromBlockchain: null,\n      webthree: null,\n      contractInfo: null\n    }\n\n    this.redir = this.redir.bind(this);\n    this.finishCallback = this.finishCallback.bind(this);\n    this.longOpFirstAddToBlockchain = this.longOpFirstAddToBlockchain.bind(this);\n    this.getTransactDetails = this.getTransactDetails.bind(this);\n\n\n  }\n  async componentDidMount() {\n    // const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\"); //\n    let ethereum = window.ethereum;\n    let web3 = window.web3;\n    if (typeof ethereum !== 'undefined') {\n      await ethereum.enable();\n      web3 = new Web3(ethereum);\n    } else if (typeof web3 !== 'undefined') {\n      web3 = new Web3(web3.currentProvider);\n    } else {\n      web3 = new Web3(new Web3.providers.HttpProvider(process.env.WEB3_PROVIDER));\n    }\n\n    try {\n      // get contract instance\n      console.log(\"aa\", web3.eth.net.getId());\n      const networkId = await web3.eth.net.getId();\n      const deployedNetwork = chainrenterArtifact.networks[networkId];\n      console.log(\"deploooo\", deployedNetwork);\n\n      let contractAddress = deployedNetwork.address;\n      let rentingContract = new web3.eth.Contract(\n        chainrenterArtifact.abi,\n        deployedNetwork.address,\n      );\n      console.log(\"retnign contract\", rentingContract);\n\n      // get accounts\n      const accounts = await web3.eth.getAccounts();\n      // let visitorAccount = accounts[0];\n      let visitorAccount = accounts[0];\n\n      console.log(\"vis account\", visitorAccount);\n\n\n\n      this.setState({\n        webthree: web3,\n        rentingContract,\n        visitorAccount,\n        contractInfo: { abi: chainrenterArtifact.abi, address: deployedNetwork.address }\n      });\n      //   this.sendToBlockChain();\n      // await loadCandidates();\n\n    } catch (error) {\n      console.log(error);\n      console.error(\"Could not connect to contract or chain.\");\n    };\n\n    // const { addRentalToBlockchain } = this.renting.methods;\n    // await addRentalToBlockchain(\"aiiaiHIII\", 99939, 99922, 220, 2222320, 38938398398, 222222000, 'iaiia').send({ gas: 1140000, from: this.account });\n\n\n\n    // this.setState({ account: accounts[0] });\n\n    console.log(\"idddduserdriven\", this.props.computedMatch.params.id);\n\n\n    transacts.on('patched', res => {\n      console.log(\"patcheeddeded\", res);\n\n      //this should be more modular\n      transacts.get(this.props.computedMatch.params.id)\n        .then(async (res) => {\n          console.log(\"item from tranacts found:\", res);\n\n          this.setState({\n            status: res.status\n            // transactDetails: {finalnotes: res.finalnotes, status: res.status} \n          });\n        })\n        .catch(err => {\n          console.log(\"eror in checking transacs\", err)\n        })\n    });\n\n\n    let { borroweruserid, renteruserid, status } = await GetBorrowerAndListerIds(this.props.computedMatch.params.id);\n    console.log(\"got em\", borroweruserid, this.props.visitorId);\n\n    this.setState({\n      borroweruserid, renteruserid, status\n    }, () => {\n      console.log(\"setttttt\");\n      let listerOrBorrower = '';\n      let visitorIsEitherListerorBorrower = Boolean(borroweruserid === this.props.visitorId || this.props.visitorId === renteruserid)\n      if (borroweruserid === this.props.visitorId) {\n        listerOrBorrower = \"Borrower\";\n      } else if (this.props.visitorId === renteruserid) {\n        listerOrBorrower = \"Lister\";\n      }\n      console.log(\"sammmmme\", visitorIsEitherListerorBorrower);\n      this.setState({\n        visitorIsEitherListerorBorrower: visitorIsEitherListerorBorrower,\n        listerOrBorrower: listerOrBorrower\n      });\n\n    });\n    console.log(\"are these the same - borow = vis\", Boolean(this.state.borroweruserid === this.props.visitorId));\n\n  }\n\n\n  async longOpFirstAddToBlockchain() {\n\n    let that = this;\n    console.log(\"lpong op\");\n    let idOfTrans = this.props.computedMatch.params.id;\n    let deets = await this.getTransactDetails();\n    console.log(\"gott transact details\", deets);\n    console.log(\"wwww333\", this.state.rentingContract);\n    const { addRentalToBlockchain } = this.state.rentingContract.methods;\n    console.log(deets.finalnotes, parseInt(deets.itemidinrentlib), parseInt(deets.idintransacts), parseInt(deets.checkoutdate), parseInt(deets.checkindate), parseInt(deets.totalprice), parseInt(deets.deposit), 'iaiia');\n\n    // await addRentalToBlockchain(deets.finalnotes, parseInt(deets.itemidinrentlib), parseInt(deets.idintransacts), parseInt(deets.checkoutdate), parseInt(deets.checkindate), parseInt(deets.totalprice), parseInt(deets.deposit), 'iaiia').send({ gas: 31140000, from: this.state.visitorAccount });\n\n    // await addRentalToBlockchain(deets.finalnotes, parseInt(deets.itemidinrentlib), parseInt(deets.idintransacts), 34333, 34333333, parseInt(deets.totalprice), parseInt(deets.deposit), 'iaiia').send({ gas: 31140000, from: this.state.visitorAccount });\n\n    //TODO these are dummy\n    //web3.utils.toBN(11111111190000000)\n    // let num = 11333111111190000000;\n\n    \n    //TODO fix fudge +2 to makesure theres enought money in there\n    \n\n    let rentPriceInEther = await getEthToUsdConversion(parseInt(deets.totalprice));\n    let depositInEther = await getEthToUsdConversion(parseInt(deets.deposit));\n\n    console.log(\"rent in ether\",rentPriceInEther);\n    console.log(\"dpeot in ether\",depositInEther);\n\n    await addRentalToBlockchain(deets.finalnotes, BigNumber(deets.itemidinrentlib).toFixed(), BigNumber(deets.idintransacts).toFixed(), BigNumber(deets.checkoutdate).toFixed(), BigNumber(deets.checkindate).toFixed(), BigNumber(this.state.webthree.utils.toWei(BigNumber(rentPriceInEther).toFixed(), 'ether')).toFixed(),  BigNumber(this.state.webthree.utils.toWei(BigNumber(depositInEther).toFixed(), 'ether')).toFixed()).send({ gas: 1140000, from: this.state.visitorAccount })\n      .on('transactionHash', function (hash) {\n        console.log('hash', hash);\n\n        let tmpDeetsE = { status: STATUS[\"3. Tentative Handshake\"] };\n        transacts.patch(idOfTrans, tmpDeetsE).then((res) => {\n          console.log(\"handshake status in\",res);\n        });\n\n        that.state.rentingContract.events.idFromBlockchainEvent({\n          // filter: {transactionHash: hash}, // Using an array means OR: e.g. 20 or 23\n          fromBlock: 0\n        }, function (error, event) {\n\n\n          console.log(\"sssss\", event);\n\n\n\n          //filtering from events - \n          //checking to see if the transacts DB id entered via addrentaltoblockchain is same as what we expect\n          //TODO perhaps this should be in the backend???\n          if (parseInt(event.returnValues.info) === parseInt(idOfTrans)) {\n            console.log(\"yes this is id\", event.returnValues.info);\n            let bkId = event.returnValues.id.toString();\n            that.setState({\n              responseIdFromBlockchain: bkId\n            });\n\n            //TODO c9ould also get transaction address from idfromblockhcainevent and add that to extra1 in db\n            let tmpDeets = { contractid: bkId };\n            transacts.patch(idOfTrans, tmpDeets).then(() => {\n              console.log(\"hi done adding to db\");\n            });\n          }\n        }).on('error', console.error);\n\n        //maybe should be in callback from filter\n        //hash part wont work if on localnet NOT ropsten\n        let hashInfo = { hash: hash, id: idOfTrans, nextStatus: 4 };\n        myService.get(hashInfo).then((res) => {\n          console.log(\"response aaa from upload service\", res);\n        });\n      }).then(function () {\n        console.log(\"totally done!!!\");\n      });\n\n\n\n\n    //pass hash here\n    // let hashInfo = { hash: hash, id: idOfTrans, nextStatus: 4 };\n    // myService.get(hashInfo).then((res) => {\n    //   console.log(\"response aaa from upload service\", res);\n    // });\n\n\n\n    // }).then(function () {\n\n    //   console.log(\"totally done!!!\");\n\n    // });\n\n    console.log(\"succes fro mblockhcain\");\n\n    //now in backend\n    // let tmpDeets = { status: STATUS[\"4. Official on Blockchain\"] };\n    // transacts.patch(that.props.id, tmpDeets).then(() => {\n    //   console.log(\"officla\");\n    // });\n\n  }\n\n  async getTransactDetails() {\n    let iddd = this.props.computedMatch.params.id;\n    return new Promise(async function (resolve, reject) {\n      await transacts.get(iddd)\n        .then(async (res) => {\n          console.log(\"item from tranacts found:\", res);\n          // var options = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };\n\n          let deets = {\n            idintransacts: iddd,\n            createdat: res.createdAt,\n            checkoutdate: res.checkoutdate,\n            checkindate: res.checkindate,\n            contractid: res.contractid,\n            deposit: res.deposit,\n            finalnotes: res.finalnotes,\n            initialnotes: res.initialnotes,\n            totalprice: res.totalprice,\n            status: res.status,\n            itemidinrentlib: res.itemidinrentlib\n          };\n          // this.setState({\n          //   transactDetails: deets\n          // });\n          // await this.getItemDetails(res);\n          resolve(deets);\n        })\n        .catch(err => {\n          console.log(\"eror in checking transacs\", err)\n          resolve(null);\n        })\n    });\n  }\n\n  finishCallback(val) {\n    console.log(\"finish callback\", val);\n    if (val === 0) {\n      console.log(\"succcces\");\n\n    } else {\n      console.log(\"failllll\");\n    }\n    // this.setState({ visIsListerTwo: false });\n  }\n\n  //on transacts.pactched -- update status here\n\n\n\n  //sends visitor to previous page unless they are authorized - delay necesary to have time for state update\n  redir() {\n    setTimeout(function () { //Start the timer\n      if (!this.state.visitorIsEitherListerorBorrower) {\n\n        this.props.history.push('/transactions');\n      }\n      // return(<Redirect to='/' />)\n    }.bind(this), 2000);\n  }\n\n  //I need to do major colymns layout here with stateless component for each module\n  //then arrange them based on credentials =- ie <container> row col col row containger\n  render() {\n    console.log(\"rest:\", this.props.visitorId);\n    const { component: Component, ...rest } = this.props;\n    console.log(\"cocmcmoomp3333\", this.props);\n\n\n    //Get status\n    //get listerid\n    //get borowerserid\n    //switch (status)\n    //case 0: if renter this, if borrower that (ie rightpanel = <renderlisterZero>\n    //csae 1: if renter this if borrower\n\n    let a = true; //curently faked\n    console.log(\"stae stus\", this.state.status);\n\n    var rightContent = null;\n    if (this.state.status) {\n      switch (this.state.status) {\n        case 911:\n          console.log(\"aaa22XXXX\");\n          rightContent = <StageZero />;\n\n          break;\n        case 1: //Initiated Pending Owner\n          console.log(\"aaa11\");\n\n          if (this.state.borroweruserid === this.props.visitorId) { //\n            rightContent = <StageOneBorrower />;\n          } else {\n            rightContent = <StageOneLister id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} />;\n          }\n          break;\n\n        case 2:  //Initiated Pending Final Agreement\n          console.log(\"aaa222\");\n          if (this.state.borroweruserid === this.props.visitorId) { //\n            rightContent = <StageTwoBorrower id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} {...this.state} longOpFirstAddToBlockchain={this.longOpFirstAddToBlockchain} />;\n          } else {\n            rightContent = <StageTwoLister />;\n          }\n          break;\n\n        case 3: //Handshake\n          console.log(\"aaa222\");\n          if (this.state.borroweruserid === this.props.visitorId) { //\n            rightContent = <StageThree id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} />;\n          } else {\n            rightContent = <StageThree id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} />;\n          }\n          break;\n\n        case 4:  //Official on Blockchain\n          console.log(\"aaa222\");\n          if (this.state.borroweruserid === this.props.visitorId) { //\n            rightContent = <StageFourBorrower id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} {...this.state} />;\n          } else {\n            rightContent = <StageFourLister id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} {...this.state} />;\n          }\n          break;\n\n        case 5: //Rental Active\n          console.log(\"aaa222\");\n          if (this.state.borroweruserid === this.props.visitorId) { //\n            rightContent = <StageFiveBorrower id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} {...this.state} />;\n          } else {\n            rightContent = <StageFiveLister id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} {...this.state} />;\n          }\n          break;\n        \n        case 6: //Rental Active\n          console.log(\"aaa222\");\n          if (this.state.borroweruserid === this.props.visitorId) { //\n            rightContent = <StageSixBorrower id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} {...this.state} />;\n          } else {\n            rightContent = <StageSixLister id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} {...this.state} />;\n          }\n          break;\n\n        case 7: // rental complete\n          console.log(\"aaa222\");\n          if (this.state.borroweruserid === this.props.visitorId) { //\n            rightContent = <StageSeven id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} />;\n          } else {\n            rightContent = <StageSeven id={this.props.computedMatch.params.id} finishCallback={this.finishCallback} />;\n          }\n          break;\n\n      }\n\n\n    } \n\n    console.log(\"asxxz\", this.state.visitorIsEitherListerorBorrower);\n    return (\n      <Route {...rest} render={(propX) => (\n        this.state.visitorIsEitherListerorBorrower\n          ? <TransactionDetailsTry {...propX} borrowerId={\"dd\"} rightPanel={rightContent} listerOrBorrower={this.state.listerOrBorrower} />\n          : <RedirectWithMessage props={this.props} redir={this.redir} />\n      )} />\n    );\n  }\n}\n\n//    ? <TransactionDetailsTry {...propX} borrowerId={\"dd\"} rightPanel={<RenderListerTwo propsX={this.props} visIsListerTwo={this.state.visIsListerTwo} />} />  \n\nclass RedirectWithMessage extends Component {\n  constructor(props) {\n    super(props);\n    console.log(\"sssprox\", this.props);\n    props.redir();\n\n  }\n\n  render() {\n    console.log(\"isliss\", this.props);\n    return (\n      <div>\n\n        <br />\n        <h5 className=\"text-center\">Loading</h5>\n      </div>\n    )\n  }\n}\n\n// const RightPanel = (props) => {\n//   { props.children }\n// }\n// const LabelW = props => <span>{props.children}</span>\n\n\nexport default withRouter(UserDrivenRoute);\n\n\n\n// var candidates = [];\n\n\n\n// const loadCandidates = async (rentingContract) => {\n\n//   const { getRental } = rentingContract.methods;\n//   let arr = [];\n//   for (let i = 1; i < 6; i++) {\n//     let rental = await getRental(i).call();\n//     console.log(\"hiii\", rental);\n\n//     //        jsonObject = JSON.parse(rental);\n\n//     let count = 0;\n//     for (var key in rental) {\n//       if (rental.hasOwnProperty(key)) {\n//         console.log(key + \" -> \" + rental[key]);\n//         if (count === 1) {\n//           arr.push(rental[key]);\n//         }\n//       }\n//       count++;\n//     }\n//   }\n\n\n//   for (let i = 0; i < arr.length; i++) {\n//     /* We store the candidate names as bytes32 on the blockchain. We use the\n//      * handy toUtf8 method to convert from bytes32 to string\n//      */\n//     console.log(\"hiii\", arr[i]);\n//     candidates[i] = arr[i];\n//   }\n// }\n\n\n\n\n","import React, { Component } from 'react';\nimport client from '../../../feathers';\n\nconst crlistings = client.service('crlistings');\nconst users = client.service('users');\nconst transacts = client.service('transacts');\nconst uploadService = client.service('uploads');\n\n\nconst GetVisitorUniqueId = async (props) => {\n\n\n\n    return new Promise(async function (resolve, reject) {\n        //get the borrower -- current user's credentials - NOT NEEDED\n        let accessTokenMe = '';\n        console.log(\"332223\");\n        var that = this;\n        await client.authenticate().then((res) => {\n            console.log(\"thesss\", res.accessToken);\n            accessTokenMe = res.accessToken;\n            return client.passport.verifyJWT(accessTokenMe);\n        })\n            .then(payload => {\n                console.log('JWT Payload', payload);\n                return client.service('users').get(payload.userId);\n            })\n            .then(user => {\n                client.set('user', user);\n                // console.log('Userzzz', client.get('user'));\n                // console.log('id', client.get('user')._id);\n                resolve(client.get('user')._id);\n\n            })\n            .catch(function (error) {\n                console.error('Error authenticating!', error);\n                resolve(null);\n            });\n            resolve(null);\n    });\n}\nexport default GetVisitorUniqueId;","import React, { Component } from 'react';\n// import Web3 from 'web3';\n// import Web3Provider from 'react-web3-provider';\n\nimport Navbar from './components/Navbar';\nimport { Route, BrowserRouter, Switch } from 'react-router-dom';\nimport Home from './components/Home';\nimport About from './components/About';\nimport MyPage from './components/MyPage';\nimport Login from './components/Login';\nimport Messages from './components/Messages';\nimport MyTransactions from './components/MyTransactions';\nimport ListSomething from './components/ListSomething';\nimport ItemDetail from './components/ItemDetail';\nimport ItemEdit from './components/ItemEdit';\nimport TransactionDetails from './components/TransactionDetails';\nimport UserDrivenRoute from './components/transactionModules/UserDrivenRoute';\nimport GetVisitorUniqueId from './components/utilities/GetVisitorUniqueId';\nimport GetBorrowerAndListerIds from './components/utilities/GetBorrowerAndListerIds';\n\n\n\n\n\nimport client from '../feathers';\n\nimport './app.css';\n\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    console.log(\"constor on app.js\");\n    this.state = {\n      visited: 0,\n      firstTimeVisit: true,\n      visitorId: null\n    }\n    this.incrementVisited = this.incrementVisited.bind(this);\n\n\n  }\n\n  incrementVisited() {\n    console.log(\"incccc+++\", this.state.visited);\n    let poo = this.state.visited;\n    let vs = poo + 1;\n    console.log(\"incccc+++ vall\", vs);\n\n    let that = this;\n    if (vs > 1) {\n      console.log(\"aready visisted\");\n      this.setState({\n        firstTimeVisit: false\n      });\n    }\n\n    this.setState({\n      visited: vs\n    }, () => {\n      console.log(\"visited # times: \", that.state.visited);\n    });\n  }\n\n\n  async componentDidMount() {\n    // const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    // const accounts = await web3.eth.getAccounts();\n    // console.log(\"web3\",accounts[0]);\n    // // this.setState({ account: accounts[0] });\n    const crlistings = client.service('crlistings');\n    const users = client.service('users');\n\n    // Try to authenticate with the JWT stored in localStorage\n    client.authenticate().catch(() => this.setState({ login: null }));\n\n    // On successfull login\n    client.on('authenticated', login => {\n      console.log(\"authenticated: \", login);\n      // Get all users and crlistings\n      this.setState({ login });\n      // Promise.all([\n      //   crlistings.find(),\n      //   users.find()\n      // ])\n      // .then(([messagePage, userPage]) => {\n      //   // We want the latest crlistings but in the reversed order\n      //   // const crlistings = messagePage.data.reverse();\n      //   // const users = userPage.data;\n\n      //   // Once both return, update the state\n      //   this.setState({ login });\n      //   // this.setState({ login, crlistings, users });\n\n      // });\n    });\n\n    // On logout reset all all local state (which will then show the login screen)\n    client.on('logout', () => this.setState({\n      login: null,\n      crlistings: null,\n      users: null\n    }));\n\n    // Add new crlistings to the message list\n    crlistings.on('created', message => {\n      console.log(\"created XX from app.js\");\n      // this.setState({ crlistings: this.state.crlistings.concat(message) });\n    });\n\n    let visId = await GetVisitorUniqueId();\n    // console.log(\"two ids\",twoIds);\n    console.log(\"uniqe id\", visId);\n    this.setState({\n      visitorId: visId,\n      // twoIds: twoIds\n    });\n  \n\n\n  }\n\n\n  render() {\n    if (this.state.login === undefined) {\n      return <main className=\"container text-center\">\n        <h1>Loading...</h1>\n      </main>;\n    } else if (this.state.login) {\n      // return <Chat crlistings={this.state.crlistings} users={this.state.users} />\n      console.log(\"lgoing info:\", this.state.login);\n      return (\n        <BrowserRouter>\n          <div className=\"App\">\n            <Navbar />\n\n            {/* <Route exact path='/' render={(props) => <Home {...props}  incrementVisited={this.incrementVisited} firstTimeVisit={this.state.firstTimeVisit} />}  /> */}\n            {/* working but no default props */}\n            <Switch>\n              <Route exact path='/' render={() => <Home goo=\"aa\" incrementVisited={this.incrementVisited} firstTimeVisit={this.state.firstTimeVisit} />} />\n              {/* <Route exact path='/' component={Home}/> */}\n\n              {/* <Route path='/transactiondetails/:id' component={TransactionDetails} /> */}\n              <UserDrivenRoute path='/transactiondetails/:id' component={TransactionDetails} visitorId={this.state.visitorId} />\n\n\n              <Route path='/about' component={About} />\n              <Route path='/mypage' component={MyPage} />\n              <Route path='/listsomething' component={ListSomething} />\n              <Route path='/transactions' component={MyTransactions} />\n              <Route path='/messages' component={Messages} />\n              <Route path='/item/:id' component={ItemDetail} />\n              <Route path='/search/:que' render={() => <Home incrementVisited={this.incrementVisited} firstTimeVisit={this.false} />} />\n              <Route path='/home' render={() => <Home incrementVisited={this.incrementVisited} firstTimeVisit={this.state.firstTimeVisit} />} />\n              <Route path='/itemedit/:id' component={ItemEdit} />\n\n            </Switch>\n\n            {/* <Route path='/login' component={Login} /> */}\n\n          </div>\n        </BrowserRouter>\n\n      )\n    }\n\n    return <Login />;\n\n\n  }\n\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Zapp from './reactStuff/app';\n// import worker_script from './workerfile';\n\n//obviously changed from app to zapp\nReactDOM.render(\n  <Zapp />,\n  document.getElementById('app')\n);\n\n// import worker_script from './workerfile';\n\n// var myWorker = new Worker(worker_script);\n\n// myWorker.onmessage = (m) => {\n//     console.log(\"msg from worker: \", m.data);\n// };\n// myWorker.postMessage('im from main');"],"sourceRoot":""}